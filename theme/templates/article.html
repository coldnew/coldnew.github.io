<!-- -*- mode: jinja2; -*- -->
{% extends "base.html" %}
{% block title %}{{ article.title|striptags }} - {{ SITENAME }}{% endblock %}
{% block html_lang %}{{ article.lang }}{% endblock %}
{% block meta %}
  {% if article.author %}
    <meta name="author" content="{{ article.author }}" />
  {% else %}
    <meta name="author" content="{{ AUTHOR }}" />
  {% endif %}
  {% if article.generator %}
    <meta name="generator" content="{{ article.generator }}"/>
  {% endif %}
  {% if article.tags %}
    <meta name="keywords" content="{{ article.tags|join(',')|striptags }}" />
  {% endif %}
  {% if article.summary %}
    <meta name="description" content="{{ article.summary|striptags|escape }}" />
  {% endif %}
{% endblock %}

{% block canonical_rel %}
  <link rel="canonical" href="{{ SITEURL }}/{{ article.url }}">
{% endblock %}

{% block breadcrumbs %}
  {% if DISPLAY_BREADCRUMBS %}
    {% if DISPLAY_CATEGORY_IN_BREADCRUMBS %}
      <ol class="breadcrumb">
        <li><a href="{{ SITEURL }}" title="{{ SITENAME }}"><i class="fa fa-home fa-lg"></i></a></li>
        <li><a href="{{ SITEURL }}/{{ article.category.url }}" title="{{ article.category }}">{{ article.category }}</a></li>
        <li class="active">{{ article.title }}</li>
      </ol>
    {% else %}
      <ol class="breadcrumb">
        <li><a href="{{ SITEURL }}" title="{{ SITENAME }}"><i class="fa fa-home fa-lg"></i></a></li>
        <li class="active">{{ article.title }}</li>
      </ol>
    {% endif %}
  {% endif %}
{% endblock %}

{% block content %}
  <section id="content">
    <article>
      <header class="page-header">
        <h1>
          <a href="{{ SITEURL }}/{{ article.url }}"
             rel="bookmark"
             title="Permalink to {{ article.title|striptags }}">
             {{ article.title }}
          </a>
        </h1>
      </header>
      <div class="entry-content">
        <div class="panel">
          <div class="panel-body">
            {% include "includes/article_info.html" %}
          </div>
        </div>

        {# TODO: #}
        {# {% include 'includes/toc.html' %} #}
        {{ article.content }}

      </div>
      <!-- /.entry-content -->
      {% include 'includes/related-posts.html' %}
      {% include 'includes/series.html' %}
      {% include 'includes/addthis.html' %}
      {% include 'includes/shariff.html' %}
      {# {% include 'includes/comments.html' %} #}
    </article>
  </section>

{% endblock %}

{% block scripts %}
  {% include 'includes/disqus.html' %}
{% endblock %}
