<!doctype html>
<html class="theme-next use-motion theme-next-mist">
  <head>
  

<script type="text/javascript" src="/vendors/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="/vendors/bootstrap/dist/css/bootstrap.min.css" type="text/css">
<script type="text/javascript" src="/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/responsive.js"></script>

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />




  <meta name="msvalidate.01" content="A2F329127555BDD555949FFD886CFF2B" />



  <meta name="baidu-site-verification" content="fwxmwVqWtK,5z58vsAQKG" />





  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>




  <meta name="keywords" content="clojure," />



  <link rel="alternate" href="/rss.xml" title="coldnew&#39;s blog" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="4clojure 是一個非常棒的 Clojure 練習網站，可以在練習的過程中逐漸熟悉 clojure 的 核心命令以及常用函式。    這邊列出我最近重寫 4clojure 整理的資訊。">
<meta name="keywords" content="clojure">
<meta property="og:type" content="article">
<meta property="og:title" content="4Clojure 練習">
<meta property="og:url" content="https://coldnew.github.io/a3e0d91a/index.html">
<meta property="og:site_name" content="coldnew&#39;s blog">
<meta property="og:description" content="4clojure 是一個非常棒的 Clojure 練習網站，可以在練習的過程中逐漸熟悉 clojure 的 核心命令以及常用函式。    這邊列出我最近重寫 4clojure 整理的資訊。">
<meta property="og:updated_time" content="2015-11-12T14:24:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="4Clojure 練習">
<meta name="twitter:description" content="4clojure 是一個非常棒的 Clojure 練習網站，可以在練習的過程中逐漸熟悉 clojure 的 核心命令以及常用函式。    這邊列出我最近重寫 4clojure 整理的資訊。">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>

  <title> 4Clojure 練習 | coldnew&#39;s blog </title>
</head>

<body itemscope itemtype="https://schema.org/WebPage" lang="zh-tw,en,default">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="https://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="https://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->

  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42122243-1', 'auto');
  ga('send', 'pageview');
</script>




  <div class="container-fluid one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="https://schema.org/WPHeader">
      <div class="header-inner"><link rel="canonical" href="https://coldnew.github.io/a3e0d91a/" />
<h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">coldnew&#39;s blog</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-next-categories"></i> <br />
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            標籤
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="https://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              4Clojure 練習
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          最後更新
          <time itemprop="dateCreated" datetime="2015-11-12T22:24:00+08:00" content="2015-11-12">
            2015-11-12
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                <a href="/categories/pratice/" itemprop="url" rel="index">
                  <span itemprop="name">程式練習</span>
                </a>
              </span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><div id="content">
<p>
<a href="https://www.4clojure.com/" target="_blank" rel="external">4clojure</a> 是一個非常棒的 Clojure 練習網站，可以在練習的過程中逐漸熟悉 clojure 的
核心命令以及常用函式。
</p>

<p>
這邊列出我最近重寫 4clojure 整理的資訊。
</p>

<a id="more"></a>

<p>
目前排名資訊:
</p>

<pre class="example">
Username: coldnew
Rank: 1916 out of 38587
Problems Solved: 85
</pre>

<div id="outline-container-org0293759" class="outline-2">
<h2 id="org0293759">001: Nothing but the Truth</h2>
<div class="outline-text-2" id="text-org0293759">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/1" target="_blank" rel="external">https://www.4clojure.com/problem/1</a><br>
<br>
This is a clojure form. Enter a value which will make the form evaluate to true.<br>
Don't over think it! If you are confused, see the getting started page. Hint:<br>
true is equal to true.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #ccaaff;">true</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p001')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p001" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #ccaaff;">true</span>
</pre>
</div>
</blockquote>

<p>
這是基本題，目的就是將題目的比較結果弄成 <code>true</code> ，因此餵 true 進去就好了。
</p>

<p>
在 clojure 中，只有 <code>true</code> 才是 <code>true</code> ，如果你餵其他的東西，就為發現:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> 1<span style="color: #aadddd;">)</span>       <span style="color: #9ac; font-style: italic;">; =&gt; false</span>
<span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span> <span style="color: #9ac; font-style: italic;">; =&gt; false</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org3cc5003" class="outline-2">
<h2 id="org3cc5003">002: Simple Math</h2>
<div class="outline-text-2" id="text-org3cc5003">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/2" target="_blank" rel="external">https://www.4clojure.com/problem/2</a><br>
<br>
If you are not familiar with <a href="http://en.wikipedia.org/wiki/Polish_notation" target="_blank" rel="external">polish notation</a>, simple arithmetic might seem<br>
confusing.<br>
<br>
Note: Enter only enough to fill in the blank (in this case, a single number) -<br>
do not retype the whole problem.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>- 10 <span style="color: #aaccff;">(</span>* 2 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> __<span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p002')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p002" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">4
</pre>
</div>
</blockquote>

<p>
這題就是單純去了解 Lisp 的數學運算模式，Lisp 類語言皆是採用 <code>前置式</code> 表達式，弄
成我們看得懂的形式的話就是:
</p>

<div class="org-src-container">
<pre class="src src-c">10 - <span style="color: #aadddd;">(</span>2 * 3<span style="color: #aadddd;">)</span> = ?
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org0f6d1f1" class="outline-2">
<h2 id="org0f6d1f1">003: Intro to Strings</h2>
<div class="outline-text-2" id="text-org0f6d1f1">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/3" target="_blank" rel="external">https://www.4clojure.com/problem/3</a><br>
<br>
Clojure strings are Java strings. This means that you can use any of the Java<br>
string methods on Clojure strings.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #ff8888;">.toUpperCase</span> <span style="color: #aadddd;">"hello world"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>


<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p003')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p003" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">"HELLO WORLD"</span>
</pre>
</div>
</blockquote>

<p>
在 Clojure 中，字串其實就是 <a href="http://www.tutorialspoint.com/java/lang/java_lang_string.htm" target="_blank" rel="external">java.lang.String</a> ，因此 <a href="http://docs.oracle.com/javase/7/docs/api/index.html?java/lang/String.html" target="_blank" rel="external">toUpperCase</a> 就是將所有字串轉
換成大寫。
</p>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org65336b4" class="outline-2">
<h2 id="org65336b4">004: Intro to Lists</h2>
<div class="outline-text-2" id="text-org65336b4">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/4" target="_blank" rel="external">https://www.4clojure.com/problem/4</a><br>
<br>
Lists can be constructed with either a function or a quoted form.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>list __<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p004')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p004" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>
</pre>
</div>
</blockquote>

<p>
在 clojure 中我們可以使用 <a href="https://clojuredocs.org/clojure.core/list" target="_blank" rel="external">list</a> 將參數轉換成鍊表 (List) :
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>list 'a 'b 'c 'd 'e 'f 'g<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (a b c d e f g)</span>
<span style="color: #aadddd;">(</span>list 1 2 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org2ec6837" class="outline-2">
<h2 id="org2ec6837">005: Lists: conj</h2>
<div class="outline-text-2" id="text-org2ec6837">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/5" target="_blank" rel="external">https://www.4clojure.com/problem/5</a><br>
<br>
When operating on a list, the conj function will return a new list with one or<br>
more items "added" to the front.<br>
<br>
Note that there are two test cases, but you are expected to supply only one<br>
answer, which will cause all the tests to pass.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>conj '<span style="color: #aaccff;">(</span>2 3 4<span style="color: #aaccff;">)</span> 1<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>conj '<span style="color: #aaccff;">(</span>3 4<span style="color: #aaccff;">)</span> 2 1<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p005')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p005" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'<span style="color: #aadddd;">(</span>1 2 3 4<span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
<a href="https://clojuredocs.org/clojure.core/conj" target="_blank" rel="external">conj</a> 要注意的地方是對於 List 以及 Vector 有不同的處置方式：
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice that conjoining to a vector is done at the end</span>
<span style="color: #aadddd;">(</span>conj <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> 4<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3 4]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice conjoining to a list is done at the beginning</span>
<span style="color: #aadddd;">(</span>conj '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span> 4<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (4 1 2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org2e22893" class="outline-2">
<h2 id="org2e22893">006: Intro to Vectors</h2>
<div class="outline-text-2" id="text-org2e22893">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/6" target="_blank" rel="external">https://www.4clojure.com/problem/6</a><br>
<br>
Vectors can be constructed several ways. You can compare them with lists.<br>
<br>
<b>Note</b>: the brackets [] surrounding the blanks __ are part of the test case.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>__<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span>list <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>vec '<span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>vector <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p006')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p006" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>
</pre>
</div>
</blockquote>

<p>
在 Clojure 中，只要是 <code>sequential</code> 的都可以透過 <code>=</code> 來進行比較，而 vector 和 list 皆屬此類。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>1 2<span style="color: #81d4fa;">]</span> '<span style="color: #81d4fa;">(</span>1 2<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

<p>
至於什麼時候要用 vector 什麼時候要用 list, 這點可以看看 Raynes 在 irc 上面詢問
Clojure 作者 Rich Hickey 的紀錄: (<a href="http://stackoverflow.com/questions/1147975/in-clojure-when-should-i-use-a-vector-over-a-list-and-the-other-way-around" target="_blank" rel="external">原始討論串</a>)
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span>12:21<span style="color: #aadddd;">]</span> &lt;Raynes&gt;  <span style="color: #fff59d;">Vectors</span> aren't seqs, right?
<span style="color: #aadddd;">[</span>12:21<span style="color: #aadddd;">]</span> &lt;rhickey&gt; Raynes: no, but they are sequential
<span style="color: #aadddd;">[</span>12:21<span style="color: #aadddd;">]</span> &lt;rhickey&gt; ,<span style="color: #aadddd;">(</span>sequential? <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #aadddd;">[</span>12:21<span style="color: #aadddd;">]</span> &lt;clojurebot&gt;  <span style="color: #ccaaff;">true</span>
<span style="color: #aadddd;">[</span>12:22<span style="color: #aadddd;">]</span> &lt;Raynes&gt;  <span style="color: #fff59d;">When</span> would you want to use a list over a vector?
<span style="color: #aadddd;">[</span>12:22<span style="color: #aadddd;">]</span> &lt;rhickey&gt; when generating code, when generating back-to-front
<span style="color: #aadddd;">[</span>12:23<span style="color: #aadddd;">]</span> &lt;rhickey&gt; not too often in <span style="color: #fff59d;">Clojure</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org1490059" class="outline-2">
<h2 id="org1490059">007: Vectors: conj</h2>
<div class="outline-text-2" id="text-org1490059">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/7" target="_blank" rel="external">https://www.4clojure.com/problem/7</a><br>
<br>
When operating on a Vector, the conj function will return a new vector with one<br>
or more items "added" to the end. test not run<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>conj <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span> 4<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>conj <span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> 3 4<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p007')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p007" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span>1 2 3 4<span style="color: #aadddd;">]</span>
</pre>
</div>
</blockquote>

<p>
這題其實和 <a href="#org2ec6837">005: Lists: conj</a> 是類似的，再來複習一次 <a href="https://clojuredocs.org/clojure.core/conj" target="_blank" rel="external">conj</a> 對於 List 以及 Vector 的
不同處置方式：
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice that conjoining to a vector is done at the end</span>
<span style="color: #aadddd;">(</span>conj <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> 4<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3 4]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice conjoining to a list is done at the beginning</span>
<span style="color: #aadddd;">(</span>conj '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span> 4<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (4 1 2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org59696b6" class="outline-2">
<h2 id="org59696b6">008: Intro to Sets</h2>
<div class="outline-text-2" id="text-org59696b6">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/8" target="_blank" rel="external">https://www.4clojure.com/problem/8</a><br>
<br>
Sets are collections of unique values.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>set '<span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:d</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>union #<span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">}</span> #<span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span><span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p008')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p008" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span><span style="color: #aadddd;">}</span>
</pre>
</div>
</blockquote>

<p>
clojure 中的 <a href="http://clojure.org/data_structures#Data%20Structures-Sets" target="_blank" rel="external">set</a> 會把重複的東西給剔除:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>set '<span style="color: #81d4fa;">(</span>1 1 1 2 2<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{1 2}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgc5c1756" class="outline-2">
<h2 id="orgc5c1756">009: Sets: conj</h2>
<div class="outline-text-2" id="text-orgc5c1756">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/9" target="_blank" rel="external">https://www.4clojure.com/problem/9</a><br>
<br>
When operating on a set, the conj function returns a new set with one or more<br>
keys "added".<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= #<span style="color: #81d4fa;">{</span>1 2 3 4<span style="color: #81d4fa;">}</span> <span style="color: #81d4fa;">(</span>conj #<span style="color: #aaccff;">{</span>1 4 3<span style="color: #aaccff;">}</span> __<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p009')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p009" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">2
</pre>
</div>
</blockquote>

<p>
<a href="http://clojure.org/data_structures#Data%20Structures-Sets" target="_blank" rel="external">Sets</a> 和 List 或是 Vector 不同，是沒有順序差別的。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>conj #<span style="color: #81d4fa;">{</span>1 4 3<span style="color: #81d4fa;">}</span> 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{1 4 3 2}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgc054582" class="outline-2">
<h2 id="orgc054582">010: Intro to Maps</h2>
<div class="outline-text-2" id="text-orgc054582">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/10" target="_blank" rel="external">https://www.4clojure.com/problem/10</a><br>
<br>
Maps store key-value pairs. Both maps and keywords can be used as lookup<br>
functions. Commas can be used to make maps more readable, but they are not<br>
required.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>hash-map <span style="color: #ccaaff;">:a</span> 10, <span style="color: #ccaaff;">:b</span> 20, <span style="color: #ccaaff;">:c</span> 30<span style="color: #aaccff;">)</span> <span style="color: #ccaaff;">:b</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #ccaaff;">:b</span> <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> 10, <span style="color: #ccaaff;">:b</span> 20, <span style="color: #ccaaff;">:c</span> 30<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p010')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p010" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">20
</pre>
</div>
</blockquote>

<p>
對於 <a href="http://clojure.org/data_structures#Data%20Structures-Maps%20%28IPersistentMap%29" target="_blank" rel="external">Maps</a> ，無論 keyword 在前面或是在後面都可以取值
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #ccaaff;">:username</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:username</span> <span style="color: #aadddd;">"joe"</span> <span style="color: #ccaaff;">:password</span> <span style="color: #aadddd;">"123456"</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "joe"</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:username</span> <span style="color: #aadddd;">"joe"</span> <span style="color: #ccaaff;">:password</span> <span style="color: #aadddd;">"123456"</span><span style="color: #81d4fa;">}</span> <span style="color: #ccaaff;">:username</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "joe"</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org49f65b3" class="outline-2">
<h2 id="org49f65b3">011: Maps: conj</h2>
<div class="outline-text-2" id="text-org49f65b3">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/11" target="_blank" rel="external">https://www.4clojure.com/problem/11</a><br>
<br>
When operating on a map, the conj function returns a new map with one or more<br>
key-value pairs "added".<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1, <span style="color: #ccaaff;">:b</span> 2, <span style="color: #ccaaff;">:c</span> 3<span style="color: #81d4fa;">}</span> <span style="color: #81d4fa;">(</span>conj <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> 1<span style="color: #aaccff;">}</span> __ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:c</span> 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p011')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p011" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span><span style="color: #ccaaff;">:b</span> 2<span style="color: #aadddd;">]</span>
</pre>
</div>
</blockquote>

<p>
<a href="http://clojure.org/data_structures#Data%20Structures-Maps%20%28IPersistentMap%29" target="_blank" rel="external">Maps </a>和 <a href="http://clojure.org/data_structures#Data%20Structures-Sets" target="_blank" rel="external">Sets</a> 一樣是沒有順序差別的，而 <a href="https://clojuredocs.org/clojure.core/conj" target="_blank" rel="external">conj</a> 的參數有 Vector 以及 Maps 時，會轉換成 Maps。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>conj <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1<span style="color: #81d4fa;">}</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:b</span> 2<span style="color: #81d4fa;">}</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:c</span> 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
<span style="color: #aadddd;">(</span>conj <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1<span style="color: #81d4fa;">}</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:b</span> 2<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:c</span> 3<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org3a74efa" class="outline-2">
<h2 id="org3a74efa">012: Intro to Sequences</h2>
<div class="outline-text-2" id="text-org3a74efa">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/12" target="_blank" rel="external">https://www.4clojure.com/problem/12</a><br>
<br>
All Clojure collections support sequencing. You can operate on sequences with<br>
functions like first, second, and last.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>first '<span style="color: #aaccff;">(</span>3 2 1<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>second <span style="color: #aaccff;">[</span>2 3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>last <span style="color: #aaccff;">(</span>list 1 2 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p012')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p012" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">3
</pre>
</div>
</blockquote>

<p>
這題就是基本的序列 (sequence) 使用的函式，其中 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 就是以前 lisp 的 car，用來
取得 list 的第一項。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>first '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgbe06767" class="outline-2">
<h2 id="orgbe06767">013: Sequences: rest</h2>
<div class="outline-text-2" id="text-orgbe06767">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/13" target="_blank" rel="external">https://www.4clojure.com/problem/13</a><br>
<br>
The rest function will return all the items of a sequence except the first.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>rest <span style="color: #aaccff;">[</span>10 20 30 40<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p013')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p013" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'<span style="color: #aadddd;">(</span>20 30 40<span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
<a href="https://clojuredocs.org/clojure.core/rest" target="_blank" rel="external">rest</a> 就是傳統 Lisp 常用的 cdr，用來取得一個 list 的非第一項。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>rest '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; (2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org76c8504" class="outline-2">
<h2 id="org76c8504">014: Intro to Functions</h2>
<div class="outline-text-2" id="text-org76c8504">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/14" target="_blank" rel="external">https://www.4clojure.com/problem/14</a><br>
<br>
Clojure has many different ways to create functions.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">add-five</span> <span style="color: #aaeecc;">[</span>x<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span>+ x 5<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span> 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>x<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span>+ x 5<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span> 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>#<span style="color: #aaccff;">(</span>+ <span style="color: #aaccff;">%</span> 5<span style="color: #aaccff;">)</span> 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>partial + 5<span style="color: #aaccff;">)</span> 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p014')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p014" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">8
</pre>
</div>
</blockquote>

<p>
這一題實際上都在講 clojure 的匿名函式，我最常用的就是 <code>fn</code> 了，他和 emacs-lisp
下的 <code>lambda</code> 是相同功能的
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">add3</span> <span style="color: #aaccff;">[</span>x<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>+ x 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>+ x 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
</pre>
</div>

<p>
而 <code>#</code> 則是懶人版的 <code>fn</code> ，不同的是使用 <code>%</code> 代表輸入參數，如果參數很多的話，則是
用 <code>%1</code> 、 <code>%2</code> 來代表
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>+ x 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
<span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>+ <span style="color: #aaccff;">%</span> 3<span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>

<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x y<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>+ x y<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 1 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
<span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>+ <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #81d4fa;">)</span> 1 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
<a href="https://clojuredocs.org/clojure.core/partial" target="_blank" rel="external">partial</a> 我到是不常用，partial 會將第一個參數當作是操作子 (operator)/函式
(function) 並將後面的東西當作參數餵給剛剛的操作子/函式。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">hundred-times</span> <span style="color: #81d4fa;">(</span>partial * 100<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>hundred-times 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 500</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org51d0175" class="outline-2">
<h2 id="org51d0175">015: Double Down</h2>
<div class="outline-text-2" id="text-org51d0175">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/15" target="_blank" rel="external">https://www.4clojure.com/problem/15</a><br>
<br>
Write a function which doubles a number.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 2<span style="color: #81d4fa;">)</span> 4<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 3<span style="color: #81d4fa;">)</span> 6<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 11<span style="color: #81d4fa;">)</span> 22<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 7<span style="color: #81d4fa;">)</span> 14<span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p015')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p015" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>* 2 <span style="color: #aaccff;">%</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題其實就是 <a href="#org76c8504">014: Intro to Functions</a> 的應用，忘記的話再來複習一次匿名函式的用法
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>+ x 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
<span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>+ <span style="color: #aaccff;">%</span> 3<span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>

<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x y<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>+ x y<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 1 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
<span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>+ <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #81d4fa;">)</span> 1 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org22ecc4b" class="outline-2">
<h2 id="org22ecc4b">016: Hello World</h2>
<div class="outline-text-2" id="text-org22ecc4b">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/16" target="_blank" rel="external">https://www.4clojure.com/problem/16</a><br>
<br>
Write a function which returns a personalized greeting.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"Dave"</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"Hello, Dave!"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"Jenn"</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"Hello, Jenn!"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"Rhea"</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"Hello, Rhea!"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p016')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p016" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>str <span style="color: #aadddd;">"Hello, "</span> <span style="color: #aaccff;">%</span> <span style="color: #aadddd;">"!"</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題匿名函式搭配 <a href="https://clojuredocs.org/clojure.core/str" target="_blank" rel="external">str</a> 去將不同的字串合併在一起
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>str <span style="color: #aadddd;">"Hello "</span> <span style="color: #aadddd;">"world!"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; Hello world!</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org91cbabc" class="outline-2">
<h2 id="org91cbabc">017: Sequences: map</h2>
<div class="outline-text-2" id="text-org91cbabc">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/17" target="_blank" rel="external">https://www.4clojure.com/problem/17</a><br>
<br>
The map function takes two arguments: a function (f) and a sequence (s). Map<br>
returns a new sequence consisting of the result of applying f to each item of s.<br>
Do not confuse the map function with the map data structure.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>map #<span style="color: #aaccff;">(</span>+ <span style="color: #aaccff;">%</span> 5<span style="color: #aaccff;">)</span> '<span style="color: #aaccff;">(</span>1 2 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p017')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p017" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'<span style="color: #aadddd;">(</span>6 7 8<span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
<a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 是 lisp 下很常用的函式，我們可以透過 map 去對整個序列 (sequence) 裡面的個個
元數進行動作
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>map inc <span style="color: #81d4fa;">[</span>1 2 3 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (2 3 4 5)</span>
</pre>
</div>

<p>
或者對兩組 vector 進行加法運算
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">map can be used with multiple collections. Collections will be consumed</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">and passed to the mapping function in parallel:</span>
<span style="color: #aadddd;">(</span>map + <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span>4 5 6<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (5 7 9)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgeea0c5f" class="outline-2">
<h2 id="orgeea0c5f">018: Sequences: filter</h2>
<div class="outline-text-2" id="text-orgeea0c5f">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/18" target="_blank" rel="external">https://www.4clojure.com/problem/18</a><br>
<br>
The filter function takes two arguments: a predicate function (f) and a sequence<br>
(s). Filter returns a new sequence consisting of all the items of s for which (f<br>
item) returns true.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>filter #<span style="color: #aaccff;">(</span>&gt; <span style="color: #aaccff;">%</span> 5<span style="color: #aaccff;">)</span> '<span style="color: #aaccff;">(</span>3 4 5 6 7<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p018')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p018" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'<span style="color: #aadddd;">(</span>6 7<span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
<a href="https://clojuredocs.org/clojure.core/filter" target="_blank" rel="external">filter</a> 用來對序列 (sequence) 進行 "過濾" 的動作，完成後會回傳 lazy sequence
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>filter even? <span style="color: #81d4fa;">(</span>range 10<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (0 2 4 6 8)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orge13d222" class="outline-2">
<h2 id="orge13d222">019: Last Element</h2>
<div class="outline-text-2" id="text-orge13d222">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/19" target="_blank" rel="external">https://www.4clojure.com/problem/19</a><br>
<br>
Write a function which returns the last element in a sequence.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> 5<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span>5 4 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aadddd;">"b"</span> <span style="color: #aadddd;">"c"</span> <span style="color: #aadddd;">"d"</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"d"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>last</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p019')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p019" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>first <span style="color: #81d4fa;">(</span>reverse <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
題目要求我們實現 <a href="https://clojuredocs.org/clojure.core/last" target="_blank" rel="external">last</a> 的功能，因此我們可以想想 <a href="https://clojuredocs.org/clojure.core/last" target="_blank" rel="external">last</a> 的用途，是的就是取出序列
(sequence) 的最後一個元素
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>last '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
而在前面我們知道了 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 則是取得一個序列 (sequence) 的第一個元素
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>first '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
</pre>
</div>

<p>
所以我們只要將序列 (sequence) 反轉後再使用 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 去取得第一個元素即可，我們先來
看看反轉用的命令 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reverse '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
所以這一題就可以這樣解
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>first <span style="color: #81d4fa;">(</span>reverse '<span style="color: #aaccff;">(</span>1 2 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org29250d0" class="outline-2">
<h2 id="org29250d0">020: Penultimate Element</h2>
<div class="outline-text-2" id="text-org29250d0">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/20" target="_blank" rel="external">https://www.4clojure.com/problem/20</a><br>
<br>
Write a function which returns the second to last element from a sequence.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span>list 1 2 3 4 5<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 4<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"b"</span> <span style="color: #aadddd;">"c"</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"b"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 2<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p020')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p020" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>second <span style="color: #81d4fa;">(</span>reverse <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
題目要求我們取得倒數第二個元素，因此這時就要想到 <a href="#orge13d222">019: Last Element</a> 所提到的
<a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> ，讓我們再來複習一次
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reverse '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
取得了反轉序列 (sequence) 後，接下來就是使用 <a href="https://clojuredocs.org/clojure.core/second" target="_blank" rel="external">second</a> 去取得第二個元素，讓我們先看
看 second 的用法
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>second '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
</pre>
</div>

<p>
因此此題就可以這樣解
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>second <span style="color: #81d4fa;">(</span>reverse '<span style="color: #aaccff;">(</span>1 2 3 4<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org26970a4" class="outline-2">
<h2 id="org26970a4">021: Nth Element</h2>
<div class="outline-text-2" id="text-org26970a4">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/21" target="_blank" rel="external">https://www.4clojure.com/problem/21</a><br>
<br>
Write a function which returns the Nth element from a sequence.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span>4 5 6 7<span style="color: #aaccff;">)</span> 2<span style="color: #81d4fa;">)</span> 6<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span> 0<span style="color: #81d4fa;">)</span> <span style="color: #ccaaff;">:a</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3 4<span style="color: #aaccff;">]</span> 1<span style="color: #81d4fa;">)</span> 2<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>5 6<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span> 2<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>5 6<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>nth</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p021')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p021" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>first <span style="color: #81d4fa;">(</span>drop <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題要我們做到 <a href="https://clojuredocs.org/clojure.core/nth" target="_blank" rel="external">nth</a> 的功能，讓我們先複習看看 <a href="https://clojuredocs.org/clojure.core/nth" target="_blank" rel="external">nth</a> 的用途
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>nth '<span style="color: #81d4fa;">(</span>1 2 3 4 5<span style="color: #81d4fa;">)</span> 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
在這題我使用了 <a href="https://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 來解決，drop 的使用方式是這樣的
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>drop -1 <span style="color: #81d4fa;">[</span>1 2 3 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
<span style="color: #aadddd;">(</span>drop 0 <span style="color: #81d4fa;">[</span>1 2 3 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
<span style="color: #aadddd;">(</span>drop 2 <span style="color: #81d4fa;">[</span>1 2 3 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (3 4)</span>
</pre>
</div>

<p>
因此只要使用 <a href="https://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 搭配 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 就可以達到 <a href="https://clojuredocs.org/clojure.core/nth" target="_blank" rel="external">nth</a> 的功能了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>drop 2 '<span style="color: #81d4fa;">(</span>1 2 3 4 5<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 4 5)</span>
<span style="color: #aadddd;">(</span>first <span style="color: #81d4fa;">(</span>drop 2 '<span style="color: #aaccff;">(</span>1 2 3 4 5<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
當然看到序列時也要想到使用 <a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 來取的需要數量的元素
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>take 3 '<span style="color: #81d4fa;">(</span>1 2 3 4 5 6<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>

<p>
因此使用 take 的話這題我們可以這樣寫
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>last <span style="color: #aaccff;">(</span>take <span style="color: #aaeecc;">(</span>inc <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span> <span style="color: #aaccff;">%1</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>4 5 6 7<span style="color: #81d4fa;">)</span> 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org9df4dd8" class="outline-2">
<h2 id="org9df4dd8">022: Count a Sequence</h2>
<div class="outline-text-2" id="text-org9df4dd8">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/22" target="_blank" rel="external">https://www.4clojure.com/problem/22</a><br>
<br>
Write a function which returns the total number of elements in a sequence.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span>1 2 3 3 1<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 5<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"Hello World"</span><span style="color: #81d4fa;">)</span> 11<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>5 6<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span>13<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 1<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>count</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p022')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p022" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>reduce <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x y<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>inc x<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 0 <span style="color: #aaccff;">%</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這提要我們實作 <a href="https://clojuredocs.org/clojure.core/count" target="_blank" rel="external">count</a> 的功能，我們先來看看 <a href="https://clojuredocs.org/clojure.core/count" target="_blank" rel="external">count</a> 的用法
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>count '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
<span style="color: #aadddd;">(</span>count <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
<span style="color: #aadddd;">(</span>count <span style="color: #aadddd;">"hi"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
</pre>
</div>

<p>
也就是說，我們要實作一個函式來計算輸入序列 (sequence) 的元素數量，看到序列
(sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，讓我們再來複習一下 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reduce + <span style="color: #81d4fa;">[</span>1 2 3 4 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 15</span>
<span style="color: #aadddd;">(</span>reduce conj #<span style="color: #81d4fa;">{}</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; #{</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">}</span>
</pre>
</div>

<p>
因此我們就可以這樣作
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reduce <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x y<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>inc x<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 0 '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org4de5da9" class="outline-2">
<h2 id="org4de5da9">023: Reverse a Sequence</h2>
<div class="outline-text-2" id="text-org4de5da9">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/23" target="_blank" rel="external">https://www.4clojure.com/problem/23</a><br>
<br>
Write a function which reverses a sequence.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>5 4 3 2 1<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span>sorted-set 5 7 2 7<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>7 5 2<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">][</span>3 4<span style="color: #aaeecc;">][</span>5 6<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span>5 6<span style="color: #aaccff;">][</span>3 4<span style="color: #aaccff;">][</span>1 2<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>reverse</li>
<li>rseq</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p023')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p023" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>reduce conj '<span style="color: #81d4fa;">()</span> <span style="color: #aaccff;">%</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題要我們反轉序列 (sequence) 但是不能使用內建的 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 以及 <a href="https://clojuredocs.org/clojure.core/rseq" target="_blank" rel="external">rseq</a> ，因此要使
用匿名函式來自幹，不過讓我們回想一下在 <a href="#org2ec6837">005: Lists: conj</a> 裡面多次強調的 <a href="https://clojuredocs.org/clojure.core/conj" target="_blank" rel="external">conj</a> 特性:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice that conjoining to a vector is done at the end</span>
<span style="color: #aadddd;">(</span>conj <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> 4<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3 4]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice conjoining to a list is done at the beginning</span>
<span style="color: #aadddd;">(</span>conj '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span> 4<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (4 1 2 3)</span>
</pre>
</div>

<p>
因此我們只要搭配 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reduce</a> 就可以產生出反向的序列了 ~
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reduce conj '<span style="color: #81d4fa;">()</span> '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>

<span style="color: #aadddd;">(</span>reduce conj '<span style="color: #81d4fa;">()</span> <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
順便來複習一下 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reverse '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
<a href="https://clojuredocs.org/clojure.core/rseq" target="_blank" rel="external">rseq</a> 只能吃 vector, 因此如果你餵 list 給他會出錯
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>rseq '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.ClassCastException: clojure.lang.PersistentList cannot be cast to clojure.lang.Reversible</span>

<span style="color: #aadddd;">(</span>rseq  <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org4c55846" class="outline-2">
<h2 id="org4c55846">024: Sum It All Up</h2>
<div class="outline-text-2" id="text-org4c55846">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/24" target="_blank" rel="external">https://www.4clojure.com/problem/24</a><br>
<br>
Write a function which returns the sum of a sequence of numbers.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> 6<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span>list 0 -2 5 5<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 8<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ #<span style="color: #aaccff;">{</span>4 2 1<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span> 7<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span>0 0 -1<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> -1<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span>1 10 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 14<span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p024')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p024" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">reduce +
</pre>
</div>
</blockquote>

<p>
看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> 和 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> ，因此這一題就這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reduce + #<span style="color: #81d4fa;">{</span>1 2 3<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
<span style="color: #aadddd;">(</span>reduce + <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org07af6d4" class="outline-2">
<h2 id="org07af6d4">025: Find the odd numbers</h2>
<div class="outline-text-2" id="text-org07af6d4">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/25" target="_blank" rel="external">https://www.4clojure.com/problem/25</a><br>
<br>
Write a function which returns only the odd numbers from a sequence.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ #<span style="color: #aaccff;">{</span>1 2 3 4 5<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 3 5<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>4 2 1 6<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>2 2 4 6<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">()</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 1 1 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 1 1 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p025')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p025" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">filter odd?
</pre>
</div>
</blockquote>

<p>
這一題其實就是 <a href="#orgeea0c5f">018: Sequences: filter</a> 的應用版本，我們再來回顧一下 <a href="https://clojuredocs.org/clojure.core/filter" target="_blank" rel="external">filter</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>filter even? <span style="color: #81d4fa;">(</span>range 10<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (0 2 4 6 8)</span>

<span style="color: #aadddd;">(</span>filter odd? <span style="color: #81d4fa;">(</span>range 10<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (1 3 5 7 9)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org04dd67b" class="outline-2">
<h2 id="org04dd67b">026: Fibonacci Sequence</h2>
<div class="outline-text-2" id="text-org04dd67b">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/26" target="_blank" rel="external">https://www.4clojure.com/problem/26</a><br>
<br>
Write a function which returns the first X fibonacci numbers.<br>
</p>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p026')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p026" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>take <span style="color: #aaccff;">%</span>
       <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">fib</span> <span style="color: #aaeecc;">[]</span>
          <span style="color: #aaeecc;">(</span>lazy-cat <span style="color: #ccaaff;">[</span>1 1<span style="color: #ccaaff;">]</span>
                    <span style="color: #ccaaff;">(</span>map + <span style="color: #fff59d;">(</span>fib<span style="color: #fff59d;">)</span> <span style="color: #fff59d;">(</span>rest <span style="color: #ff8888;">(</span>fib<span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題其實是在問如何實作 lazy sequence 版本的 Fibonacci 數列，這樣我們就可以使用
<a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 去取得我們想要的數列數量。
</p>

<p>
在 clojure 中實現 Fibonacci Sequence 的方式有很多種，我最偏好的就是這種透過
<a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 產生的版本。
</p>

<p>
<a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 的任務其實就只是把參數的序列 (sequence) 進行串接，也就是這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>lazy-cat <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span>4 5 6<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4 5 6)</span>
</pre>
</div>

<p>
而 Fibonacci Sequence 其實就是把新的數值串接到原來的數列上，因此用 <a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 就可
以很輕鬆的搞定:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">fib-seq</span>
  <span style="color: #81d4fa;">(</span>lazy-cat <span style="color: #aaccff;">[</span>0 1<span style="color: #aaccff;">]</span>
            <span style="color: #aaccff;">(</span>map + fib-seq <span style="color: #aaeecc;">(</span>rest fib-seq<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>take 10 fib-seq<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 1 2 3 5 8 13 21 34)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgd759353" class="outline-2">
<h2 id="orgd759353">027: Palindrome Detector</h2>
<div class="outline-text-2" id="text-orgd759353">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/27" target="_blank" rel="external">https://www.4clojure.com/problem/27</a><br>
<br>
Write a function which returns true if the given sequence is a palindrome.<br>
<br>
<b>Hint</b>: "racecar" does not equal '(\r \a \c \e \c \a \r)<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>false? <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span>1 2 3 4 5<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>true? <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"racecar"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>true? <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:foo</span> <span style="color: #ccaaff;">:bar</span> <span style="color: #ccaaff;">:foo</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>true? <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span>1 1 3 3 1 1<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>false? <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p027')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p027" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>reverse <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>seq <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
題目詢問的是找出判斷為 <a href="http://www.csie.ntnu.edu.tw/~u91029/Palindrome.html" target="_blank" rel="external">迴文</a> (Palindrome) 的方法，也就是說如果輸入的資料進行
<a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 仍舊和原始資料相同的話，這輸入資料就是 palindrome。
</p>

<p>
不過這題有些小陷阱，我們來看看 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 的使用以及 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 在字串上的使用
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reverse <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
<span style="color: #aadddd;">(</span>reverse <span style="color: #aadddd;">"hello"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (\0 \l \l \e \h)</span>
</pre>
</div>

<p>
也就是說將字串傳送給 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 後會變成以字元為單位的序列 (sequence)，因此這一個題
目我們需要使用 <a href="https://clojuredocs.org/clojure.core/seq" target="_blank" rel="external">seq</a> 來將輸入的字串轉變成序列
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>seq <span style="color: #aadddd;">"hello"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (\h \e \l \l \o)</span>
<span style="color: #aadddd;">(</span>seq '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>

<p>
所以最後完整的案就變成這樣了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>= <span style="color: #aaccff;">(</span>reverse <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>seq <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"hah"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>= <span style="color: #aaccff;">(</span>reverse <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>seq <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 2 1<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org8856adf" class="outline-2">
<h2 id="org8856adf">028: Flatten a Sequence</h2>
<div class="outline-text-2" id="text-org8856adf">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/28" target="_blank" rel="external">https://www.4clojure.com/problem/28</a><br>
<br>
Write a function which flattens a sequence.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #aaeecc;">(</span>1 2<span style="color: #aaeecc;">)</span> 3 <span style="color: #aaeecc;">[</span>4 <span style="color: #ccaaff;">[</span>5 6<span style="color: #ccaaff;">]</span><span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 2 3 4 5 6<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aadddd;">"a"</span> <span style="color: #aaeecc;">[</span><span style="color: #aadddd;">"b"</span><span style="color: #aaeecc;">]</span> <span style="color: #aadddd;">"c"</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"b"</span> <span style="color: #aadddd;">"c"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #aaeecc;">(</span><span style="color: #ccaaff;">(</span><span style="color: #fff59d;">(</span><span style="color: #ccaaff;">:a</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #ccaaff;">:a</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>flatten</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p028')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p028" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">flat</span> <span style="color: #81d4fa;">[</span>coll<span style="color: #81d4fa;">]</span>
    <span style="color: #81d4fa;">(</span>reduce #<span style="color: #aaccff;">(</span>concat <span style="color: #aaccff;">%1</span> <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">(</span>coll? <span style="color: #aaccff;">%2</span><span style="color: #ccaaff;">)</span>
                          <span style="color: #ccaaff;">(</span>flat <span style="color: #aaccff;">%2</span><span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">[</span><span style="color: #aaccff;">%2</span><span style="color: #ccaaff;">]</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span> '<span style="color: #aaccff;">()</span> coll<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題很好玩，值得深入探討。題目要求我們實現一個名為 <a href="https://clojuredocs.org/clojure.core/flatten" target="_blank" rel="external">flatten</a> 的函式，其功能為將
巢狀鍊表變一單一鍊表，也就是:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>flatten '<span style="color: #81d4fa;">(</span>1 2 <span style="color: #aaccff;">(</span>3 <span style="color: #aaeecc;">(</span>4 5 <span style="color: #ccaaff;">(</span>6<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt;  (1 2 3 4 5 6)</span>
</pre>
</div>

<p>
對我而言，看到輸入的東西是 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequential?</a> 的話，我第一個想到的不是 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 就是 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a>
，因此此一題目我使用 reduce 來解。
</p>

<p>
有一點要注意到是，提供給 reduce 的函式必須要能夠吃 <code>2 個參數</code> ，因此整個解法就是
這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">flat</span> <span style="color: #aaccff;">[</span>coll<span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span>reduce #<span style="color: #aaeecc;">(</span>concat <span style="color: #aaccff;">%1</span> <span style="color: #ccaaff;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #fff59d;">(</span>coll? <span style="color: #aaccff;">%2</span><span style="color: #fff59d;">)</span>
                         <span style="color: #fff59d;">(</span>flat <span style="color: #aaccff;">%2</span><span style="color: #fff59d;">)</span> <span style="color: #fff59d;">[</span><span style="color: #aaccff;">%2</span><span style="color: #fff59d;">]</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span> '<span style="color: #aaeecc;">()</span> coll<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 '<span style="color: #81d4fa;">(</span>1 <span style="color: #aaccff;">(</span>2<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
 <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2)</span>
</pre>
</div>

<p>
另外一種很強大的解法則是透過 <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 來處理這件事，mapcat 會對傳入的 collection
進行 map 的動作，最後則是將多項結果連接在一起，我們來看看 mapcat 的基本用法:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>mapcat reverse <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span>3 2 1 0<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>6 5 4<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>9 8 7<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4 5 6 7 8 9)</span>
</pre>
</div>

<p>
因此我們就可以判斷傳入的東西是否為 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequential?</a> ，如果是的話則交給 mapcat 使用遞
回的方式解決，反之則將傳入的東西變成 序列 (sequence)。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">flat</span> <span style="color: #81d4fa;">[</span>coll<span style="color: #81d4fa;">]</span>
   <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">(</span>sequential? coll<span style="color: #aaccff;">)</span>
     <span style="color: #aaccff;">(</span>mapcat flat coll<span style="color: #aaccff;">)</span>
     <span style="color: #aaccff;">(</span>list coll<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<p>
clojure 官方的解法也是很有趣，你可以在這裡看到 clojure 的 <a href="https://github.com/clojure/clojure/blob/clojure-1.7.0/src/clj/clojure/core.clj#L6843" target="_blank" rel="external">flatten</a> 實現:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">flatten</span>
  <span style="color: #97abc6; font-style: italic;">"Takes any nested combination of sequential things (lists, vectors,</span>
<span style="color: #97abc6; font-style: italic;">  etc.) and returns their contents as a single, flat sequence.</span>
<span style="color: #97abc6; font-style: italic;">  (flatten nil) returns an empty sequence."</span>
  <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:added</span> <span style="color: #aadddd;">"1.2"</span>
   <span style="color: #ccaaff;">:static</span> <span style="color: #ccaaff;">true</span><span style="color: #81d4fa;">}</span>
  <span style="color: #81d4fa;">[</span>x<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span>filter <span style="color: #aaccff;">(</span>complement sequential?<span style="color: #aaccff;">)</span>
          <span style="color: #aaccff;">(</span>rest <span style="color: #aaeecc;">(</span>tree-seq sequential? seq x<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<p>
這解法有趣的地方在於，他使用了 <a href="https://clojuredocs.org/clojure.core/filter" target="_blank" rel="external">filter</a> 將不滿足條件的東西挑掉，以此例來說就是挑出
了不是 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequential?</a> 的東西，因此我們該注意他怎樣將原本是<a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external"> sequential?</a> 的東西變成非 sequence 的。
</p>

<p>
在這裡 clojure 使用了 <a href="https://clojuredocs.org/clojure.core/tree-seq" target="_blank" rel="external">tree-seq</a> 來將原本的 sequence 變成包含 sequence 本身以及其
子節點，就像這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>tree-seq sequential? seq '<span style="color: #81d4fa;">(</span>1 <span style="color: #aaccff;">(</span>2 3 <span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((1 (2 3)) 1 (2 3) 2 3)</span>
</pre>
</div>

<p>
因此接下來再使用 <a href="https://clojuredocs.org/clojure.core/filter" target="_blank" rel="external">filter</a> 挑出不是 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequential?</a> 的東西就解決了這個問題
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>filter <span style="color: #81d4fa;">(</span>complement sequential?<span style="color: #81d4fa;">)</span>
        <span style="color: #81d4fa;">(</span>tree-seq sequential? seq '<span style="color: #aaccff;">(</span>1 <span style="color: #aaeecc;">(</span>2 3<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org7dcccfc" class="outline-2">
<h2 id="org7dcccfc">029: Get the Caps</h2>
<div class="outline-text-2" id="text-org7dcccfc">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/29" target="_blank" rel="external">https://www.4clojure.com/problem/29</a><br>
<br>
Write a function which takes a string and returns a new string containing only<br>
the capital letters.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"HeLlO, WoRlD!"</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"HLOWRD"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>empty? <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"nothing"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"$#A(*&amp;987Zf"</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"AZ"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p029')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p029" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>apply str <span style="color: #81d4fa;">(</span>re-seq #<span style="color: #aadddd;">"[A-Z]"</span> <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題其實可以用傳統的方式: 找出字元所代表的 ASCII 代碼，進行範圍的比較。
</p>

<p>
不過我比較偏好使用正規表達式 (Regex) ，因此這題我使用了 <a href="https://clojuredocs.org/clojure.core/re-seq" target="_blank" rel="external">re-seq</a> 來產生出符合正規
表達式的序列 (sequence)
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>re-seq #<span style="color: #aadddd;">"[A-Z]"</span> <span style="color: #aadddd;">"AcBd"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("A" "B")</span>
</pre>
</div>

<p>
有了序列以後，就可以使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 將這整個序列合併
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>apply str <span style="color: #81d4fa;">(</span>re-seq #<span style="color: #aadddd;">"[A-Z]"</span> <span style="color: #aadddd;">"HeLlO, WoRlD!"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">= &gt; "HLOWRD"</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgf164d86" class="outline-2">
<h2 id="orgf164d86">030: Compress a Sequence</h2>
<div class="outline-text-2" id="text-orgf164d86">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/30" target="_blank" rel="external">https://www.4clojure.com/problem/30</a><br>
<br>
Write a function which removes consecutive duplicates from a sequence.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>apply str <span style="color: #aaccff;">(</span>__ <span style="color: #aadddd;">"Leeeeeerrroyyy"</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"Leroy"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 1 2 3 3 2 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 2 3 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>3 4<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p030')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p030" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>map first <span style="color: #81d4fa;">(</span>partition-by identity <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這個題目要移除掉 <code>連續</code> 且 <code>重複</code> 的元素，因此我們不能用 <a href="https://clojuredocs.org/clojure.core/set" target="_blank" rel="external">set</a> 或是 <a href="https://clojuredocs.org/clojure.core/distinct" target="_blank" rel="external">distinct</a> ，因
為這兩個會移除掉整個序列 (sequence) 中重複的東西。
</p>

<p>
因此我們可以先將連續且重複的東西分組，這時候我們可以使用 <a href="https://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a> 搭配
<a href="https://clojuredocs.org/clojure.core/identity" target="_blank" rel="external">identity</a> 的組合來進行分組
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>partition-by identity <span style="color: #aadddd;">"aabbbcccc"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((\a \a) (\b \b \b) (\c \c \c \c))</span>

<span style="color: #aadddd;">(</span>partition-by identity <span style="color: #81d4fa;">[</span>a bb ccc<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((\a \a) (\b \b \b) (\c \c \c \c))</span>

<span style="color: #aadddd;">(</span>partition-by identity <span style="color: #81d4fa;">[</span>1 2 2 3 3 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((1) (2 2) (3 3 3))</span>
</pre>
</div>

<p>
有了分組後，我們就可以使用 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 搭配 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 去取得每個分組的第一個項目，這樣這個題目就完成了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>map first <span style="color: #81d4fa;">(</span>partition-by identity <span style="color: #aaccff;">[</span>1 2 2 3 3 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>


</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org56afd97" class="outline-2">
<h2 id="org56afd97">031: Pack a Sequence</h2>
<div class="outline-text-2" id="text-org56afd97">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/31" target="_blank" rel="external">https://www.4clojure.com/problem/31</a><br>
<br>
Write a function which packs consecutive duplicates into sub-lists.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 1 2 1 1 1 3 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>1 1<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>1 1 1<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>3 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span><span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p031')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p031" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>partition-by identity <span style="color: #aaccff;">%</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題和 <a href="#orgf164d86">030: Compress a Sequence</a> 類似，我們的目的是將 <code>連續</code> 且 <code>重複</code> 的東西分
組，這時候我們可以使用 <a href="https://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a> 搭配 <a href="https://clojuredocs.org/clojure.core/identity" target="_blank" rel="external">identity</a> 的組合來進行分組
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>partition-by identity <span style="color: #aadddd;">"aabbbcccc"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((\a \a) (\b \b \b) (\c \c \c \c))</span>

<span style="color: #aadddd;">(</span>partition-by identity <span style="color: #81d4fa;">[</span>a bb ccc<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((\a \a) (\b \b \b) (\c \c \c \c))</span>

<span style="color: #aadddd;">(</span>partition-by identity <span style="color: #81d4fa;">[</span>1 2 2 3 3 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((1) (2 2) (3 3 3))</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org1a6bf13" class="outline-2">
<h2 id="org1a6bf13">032: Duplicate a Sequence</h2>
<div class="outline-text-2" id="text-org1a6bf13">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/32" target="_blank" rel="external">https://www.4clojure.com/problem/32</a><br>
<br>
Write a function which duplicates each element of a sequence.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 1 2 2 3 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>3 4<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>3 4<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p032')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p032" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>interleave <span style="color: #aaccff;">%</span> <span style="color: #aaccff;">%</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
在 clojure 中，有一個名為 <a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> 的函式可以做到將兩個 collection 互相進行內
插產生新的 collection 的用途
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>interleave <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1 </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3)</span>
</pre>
</div>

<p>
當然我們看到了序列 (sequence) 就會想到 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，因此也可以寫一個 reduce 的版本
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reverse <span style="color: #81d4fa;">(</span>reduce #<span style="color: #aaccff;">(</span>conj <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span> '<span style="color: #aaccff;">()</span> '<span style="color: #aaccff;">(</span>1 2 3<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 1 2 2 3 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org411bc0d" class="outline-2">
<h2 id="org411bc0d">033: Replicate a Sequence</h2>
<div class="outline-text-2" id="text-org411bc0d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/33" target="_blank" rel="external">https://www.4clojure.com/problem/33</a><br>
<br>
Write a function which replicates each element of a sequence a variable number<br>
of times.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span> 2<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 1 2 2 3 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">]</span> 4<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>4 5 6<span style="color: #aaccff;">]</span> 1<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>4 5 6<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span> 2<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>3 4<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>44 33<span style="color: #aaccff;">]</span> 2<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>44 44 33 33<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p033')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p033" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>coll n<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span>mapcat #<span style="color: #aaccff;">(</span>repeat n <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> coll<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題要求根據輸入的數值，決定要重複幾次，看到這裡就可以想到 <a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 或是 <a href="https://clojuredocs.org/clojure.core/repeat" target="_blank" rel="external">repeat</a> 
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>take 5 <span style="color: #81d4fa;">(</span>range 10<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4)</span>
<span style="color: #aadddd;">(</span>repeat 2 <span style="color: #81d4fa;">[</span>1 2<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ([1 2] [1 2])</span>
</pre>
</div>

<p>
因此我們可以使用強大的 <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 讓他進行先 map 再 concat 的動作
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>mapcat reverse <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span>3 2 1 0<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>6 5 4<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>9 8 7<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4 5 6 7 8 9)</span>
</pre>
</div>

<p>
所以整體程式就變成這樣了:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>coll n<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>mapcat #<span style="color: #aaeecc;">(</span>repeat n <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> coll<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>4 5 6<span style="color: #81d4fa;">]</span> 1<span style="color: #aadddd;">)</span>
</pre>
</div>

<p>
不過這題其實應該也要可以使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 來解才對，以下的答案是可以運作的，不過送到
4clojure 卻會報錯 (clojure 版本問題 ?)
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>apply interleave <span style="color: #81d4fa;">(</span>repeat 1 <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org5be2c97" class="outline-2">
<h2 id="org5be2c97">034: Implement range</h2>
<div class="outline-text-2" id="text-org5be2c97">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/34" target="_blank" rel="external">https://www.4clojure.com/problem/34</a><br>
<br>
Write a function which creates a list of all integers in a given range.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 1 4<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ -2 2<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>-2 -1 0 1<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 5 8<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>5 6 7<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>range</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p034')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p034" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>take <span style="color: #81d4fa;">(</span>- <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span><span style="color: #81d4fa;">)</span>
         <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">gen-range</span> <span style="color: #aaeecc;">[</span>n<span style="color: #aaeecc;">]</span>
            <span style="color: #aaeecc;">(</span>lazy-cat <span style="color: #ccaaff;">[</span>n <span style="color: #fff59d;">(</span>inc n<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">]</span>
                      <span style="color: #ccaaff;">(</span>map inc <span style="color: #fff59d;">(</span>rest <span style="color: #ff8888;">(</span>gen-range n<span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
          <span style="color: #aaccff;">%1</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題要實作類似 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a> 的功能，我們先來複習一下 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>range<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4 5 6 7 8 9 10 ... 12770 12771 12772 12773 ... n</span>

<span style="color: #aadddd;">(</span>take 10 <span style="color: #81d4fa;">(</span>range<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt;(0 1 2 3 4 5 6 7 8 9)</span>

<span style="color: #aadddd;">(</span>range -5 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-5 -4 -3 -2 -1 0 1 2 3 4)</span>

<span style="color: #aadddd;">(</span>range -100 100 10<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-100 -90 -80 -70 -60 -50 -40 -30 -20 -10 0 10 20 30 40 50 60 70 80 90)</span>
</pre>
</div>

<p>
那要怎麼解呢? 我一開始想到的是要自己做出從 0 ~ N 的 lazy sequence，因此就想到了<a href="#org04dd67b">026: Fibonacci Sequence</a> 使用過的 <a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> ，來複習一下當時是怎樣使用
lazy-cat 產生 Fibonacci Sequence 的
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">fib-seq</span>
  <span style="color: #81d4fa;">(</span>lazy-cat <span style="color: #aaccff;">[</span>0 1<span style="color: #aaccff;">]</span>
            <span style="color: #aaccff;">(</span>map + fib-seq <span style="color: #aaeecc;">(</span>rest fib-seq<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>take 10 fib-seq<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 1 2 3 5 8 13 21 34)</span>
</pre>
</div>

<p>
因此我們就可以依樣畫葫蘆打照一個簡單的 0 ~ N 的序列 (sequence) 產生器
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">gen</span>
  <span style="color: #81d4fa;">(</span>lazy-cat <span style="color: #aaccff;">[</span>0 1<span style="color: #aaccff;">]</span>
            <span style="color: #aaccff;">(</span>map inc <span style="color: #aaeecc;">(</span>rest gen<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>take 10 gen<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4 5 6 7 8 9)</span>
</pre>
</div>

<p>
有了這個產生器後，我們可以把他改為函式 (function) 的版本，並讓他有一個輸入，用來設定起始值
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>take 10
       <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">gen-range</span> <span style="color: #aaeecc;">[</span>n<span style="color: #aaeecc;">]</span>
          <span style="color: #aaeecc;">(</span>lazy-cat <span style="color: #ccaaff;">[</span>n <span style="color: #fff59d;">(</span>inc n<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">]</span>
                    <span style="color: #ccaaff;">(</span>map inc <span style="color: #fff59d;">(</span>rest <span style="color: #ff8888;">(</span>gen-range n<span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
        -4<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-4 -3 -2 -1 0 1 2 3 4 5 )</span>
</pre>
</div>

<p>
接下來我們就可以把所有東西合併，於是這題的解法就出現了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>take <span style="color: #aaccff;">(</span>- <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span><span style="color: #aaccff;">)</span>
         <span style="color: #aaccff;">(</span><span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">gen-range</span> <span style="color: #ccaaff;">[</span>n<span style="color: #ccaaff;">]</span>
            <span style="color: #ccaaff;">(</span>lazy-cat <span style="color: #fff59d;">[</span>n <span style="color: #ff8888;">(</span>inc n<span style="color: #ff8888;">)</span><span style="color: #fff59d;">]</span>
                      <span style="color: #fff59d;">(</span>map inc <span style="color: #ff8888;">(</span>rest <span style="color: #795548;">(</span>gen-range n<span style="color: #795548;">)</span><span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
          <span style="color: #aaccff;">%1</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
  -2 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-2 -1 0 1)</span>
</pre>
</div>

<p>
除了使用 <a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 外，其實我們也可以使用 <a href="https://clojuredocs.org/clojure.core/iterate" target="_blank" rel="external">iterate</a> 去產生連續的序列 (sequence)
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>iterate inc 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (5 6 7 8 9 10 11 12 13 14 15 ... n)</span>
<span style="color: #aadddd;">(</span>take 5 <span style="color: #81d4fa;">(</span>iterate inc 5<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (5 6 7 8 9)</span>
<span style="color: #aadddd;">(</span>take 10 <span style="color: #81d4fa;">(</span>iterate <span style="color: #aaccff;">(</span>partial + 2<span style="color: #aaccff;">)</span> 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 2 4 6 8 10 12 14 16 18)</span>
</pre>
</div>

<p>
因此這題如果使用 <a href="https://clojuredocs.org/clojure.core/iterate" target="_blank" rel="external">iterate</a> 來解的話，作法則是像這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x y<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>take <span style="color: #aaeecc;">(</span>- y x<span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>iterate inc x<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> -1 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-1 0 1)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgbf0c3da" class="outline-2">
<h2 id="orgbf0c3da">035: Local bindings</h2>
<div class="outline-text-2" id="text-orgbf0c3da">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/35" target="_blank" rel="external">https://www.4clojure.com/problem/35</a><br>
<br>
Clojure lets you give local names to values using the special let-form.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaccff;">[</span>x 5<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>+ 2 x<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaccff;">[</span>x 3, y 10<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>- y x<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaccff;">[</span>x 21<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaeecc;">[</span>y 3<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span>/ x y<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p035')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p035" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">7
</pre>
</div>
</blockquote>

<p>
這一題在複習 <a href="https://clojuredocs.org/clojure.core/let" target="_blank" rel="external">let</a> 的使用方式，在 clojure 中 let 是用來產生 <code>區域變數</code> 的好方法
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>x 1<span style="color: #81d4fa;">]</span> x<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Note that the binding for the symbol y won't exist outside of the let:</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>y 1<span style="color: #81d4fa;">]</span> y<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
<span style="color: #aadddd;">(</span>prn y<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Exception: Unable to resolve symbol: y in this context (NO_SOURCE_FILE:7)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgb23bb3d" class="outline-2">
<h2 id="orgb23bb3d">036: Let it Be</h2>
<div class="outline-text-2" id="text-orgb23bb3d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/36" target="_blank" rel="external">https://www.4clojure.com/problem/36</a><br>
<br>
Can you bind x, y, and z so that these are all true?<br>
</p>


<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p036')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p036" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span>x 7 y 3 z 1<span style="color: #aadddd;">]</span>
</pre>
</div>
</blockquote>

<p>
讓我們再一次複習 <a href="https://clojuredocs.org/clojure.core/let" target="_blank" rel="external">let</a> 的使用方式
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>x 1<span style="color: #81d4fa;">]</span> x<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Note that the binding for the symbol y won't exist outside of the let:</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>y 1<span style="color: #81d4fa;">]</span> y<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
<span style="color: #aadddd;">(</span>prn y<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Exception: Unable to resolve symbol: y in this context (NO_SOURCE_FILE:7)</span>

<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>a 1 b 2<span style="color: #81d4fa;">]</span> 
       <span style="color: #81d4fa;">(</span>+ a b<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org8bba862" class="outline-2">
<h2 id="org8bba862">037: Regular Expressions</h2>
<div class="outline-text-2" id="text-org8bba862">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/37" target="_blank" rel="external">https://www.4clojure.com/problem/37</a><br>
<br>
Regex patterns are supported with a special reader macro.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>apply str <span style="color: #aaccff;">(</span>re-seq #<span style="color: #aadddd;">"[A-Z]+"</span> <span style="color: #aadddd;">"bA1B3Ce "</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p037')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p037" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">"ABC"</span>
</pre>
</div>
</blockquote>

<p>
在 clojure 中，我們可以使用 <a href="https://clojuredocs.org/clojure.core/re-seq" target="_blank" rel="external">re-seq</a> 去根據正規表達式產生 lazy sequence，由於回傳
的東西是序列 (sequence) 因此我們再使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 與 <a href="https://clojuredocs.org/clojure.core/str" target="_blank" rel="external">str</a> 將其合併為字串
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\d</span><span style="color: #aadddd;">"</span> <span style="color: #aadddd;">"clojure 1.1.0"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("1" "1" "0")</span>
<span style="color: #aadddd;">(</span>re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\w</span><span style="color: #aadddd;">+"</span> <span style="color: #aadddd;">"mary had a little lamb"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("mary" "had" "a" "little" "lamb")</span>
<span style="color: #aadddd;">(</span>re-seq #<span style="color: #aadddd;">"[A-Z]+"</span> <span style="color: #aadddd;">"bA1B3Ce "</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("A" "B" "C")</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org649034f" class="outline-2">
<h2 id="org649034f">038: Maximum value</h2>
<div class="outline-text-2" id="text-org649034f">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/38" target="_blank" rel="external">https://www.4clojure.com/problem/38</a><br>
<br>
Write a function which takes a variable number of parameters and returns the<br>
maximum value.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 1 8 3 4<span style="color: #81d4fa;">)</span> 8<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 30 20<span style="color: #81d4fa;">)</span> 30<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 45 67 11<span style="color: #81d4fa;">)</span> 67<span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>max</li>
<li>max-key</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p038')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p038" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>x &amp; xs<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span>reduce #<span style="color: #aaccff;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaeecc;">(</span>&gt; <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span> <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span> x xs<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
我們先來想想，假設輸入參數是一個序列 (sequence) 的話，我們會怎麼作? 想到序列
(sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，因此就可以像這樣去找出一個序列中的最大值
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reduce <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>a b<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaeecc;">(</span>&gt; a b<span style="color: #aaeecc;">)</span> a b<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 5 2 8<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 8</span>
</pre>
</div>

<p>
然而實際上這個題目是不定數量的參數，因此就變成要這樣寫
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x &amp; xs<span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span>reduce #<span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">(</span>&gt; <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #ccaaff;">)</span> <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span> x xs<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 5 2 8<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; 8</span>
</pre>
</div>

<p>
當然匿名函式除了可以用 <code>%1</code> 、 <code>%2</code> 來指定是第一還是第二個參數，我們也可以用
<code>%&amp;</code> 來指定所有參數，因此更簡單的 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> 則是這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>reduce <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>a b<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">(</span>&gt; a b<span style="color: #ccaaff;">)</span> a b<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">%&amp;</span><span style="color: #81d4fa;">)</span> 1 5 2 8<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">= &gt; 8</span>
</pre>
</div>

<p>
或者是這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>&amp; x<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>reduce <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>a b<span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #fff59d;">(</span>&gt; a b<span style="color: #fff59d;">)</span> a b<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span> x<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 1 5 2 8<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">= &gt; 8</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgab5b2b4" class="outline-2">
<h2 id="orgab5b2b4">039: Interleave Two Seqs</h2>
<div class="outline-text-2" id="text-orgab5b2b4">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/39" target="_blank" rel="external">https://www.4clojure.com/problem/39</a><br>
<br>
Write a function which takes two sequences and returns the first item from each,<br>
then the second item from each, then the third, etc.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span> 3 <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>3 4 5 6<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 3 2 4<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3 4<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>30 20<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>25 15<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>30 25 20 15<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>interleave</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p039')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p039" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">mapcat list
</pre>
</div>
</blockquote>

<p>
我們在 <a href="#org1a6bf13">032: Duplicate a Sequence</a> 裡面用到了 <a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> ，現在換要我們實作
<a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> 的功能了，不過先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>interleave <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1 </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3)</span>
</pre>
</div>

<p>
在前面說過了看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 、<a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，現在有兩個序列我們可以想
到 map 的變種: <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a>
</p>

<p>
<a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 其實就是先對序列 (sequence) 進行 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 之後再進行 <a href="https://clojuredocs.org/clojure.core/concat" target="_blank" rel="external">concat</a> 的運作:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Suppose you've got a function that takes a value</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">and returns a list of things from it, for example:</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">f1</span>
  <span style="color: #81d4fa;">[</span>n<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">(</span>- n 1<span style="color: #aaccff;">)</span> n <span style="color: #aaccff;">(</span>+ n 1<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>f1 1<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [0 1 2]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Perhaps you'd like to map it onto each item in a collection:</span>
<span style="color: #aadddd;">(</span>map f1 <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ([0 1 2] [1 2 3] [2 3 4])</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">But suppose you wanted them all concatenated? You could do this:</span>
<span style="color: #aadddd;">(</span>apply concat <span style="color: #81d4fa;">(</span>map f1 <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 1 2 3 2 3 4)</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Or you could get the same thing with `</span><span style="color: #ccaaff; font-style: italic;">mapcat</span><span style="color: #9ac; font-style: italic;">`:</span>
<span style="color: #aadddd;">(</span>mapcat f1 <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 1 2 3 2 3 4)</span>
</pre>
</div>

<p>
所以你就可以使用 <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 來解決這個問題
</p>

<div class="org-src-container">
<pre class="src src-clojure"> <span style="color: #aadddd;">(</span>mapcat list <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 3 </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">)</span>
</pre>
</div>

<p>
或是
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>mapcat <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>&amp; x<span style="color: #aaccff;">]</span> x<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 3 </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org8d4418e" class="outline-2">
<h2 id="org8d4418e">040: Interpose a Seq</h2>
<div class="outline-text-2" id="text-org8d4418e">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/40" target="_blank" rel="external">https://www.4clojure.com/problem/40</a><br>
<br>
Write a function which separates the items of a sequence by an arbitrary value.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 0 <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 0 2 0 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>apply str <span style="color: #aaccff;">(</span>__ <span style="color: #aadddd;">", "</span> <span style="color: #aaeecc;">[</span><span style="color: #aadddd;">"one"</span> <span style="color: #aadddd;">"two"</span> <span style="color: #aadddd;">"three"</span><span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
   <span style="color: #aadddd;">"one, two, three"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">:z</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:z</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:z</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:z</span> <span style="color: #ccaaff;">:d</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>interpose</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p040')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p040" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>sep coll<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span>drop-last <span style="color: #aaccff;">(</span>mapcat list coll <span style="color: #aaeecc;">(</span>repeat <span style="color: #ccaaff;">(</span>count coll<span style="color: #ccaaff;">)</span> sep<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
題目要我們實現 <a href="https://clojuredocs.org/clojure.core/interpose" target="_blank" rel="external">interpose</a> ，因此照慣例再來複習一下，簡單來說 <a href="https://clojuredocs.org/clojure.core/interpose" target="_blank" rel="external">interpose</a> 就是將傳入
的參入內插到 collection 中
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>interpose <span style="color: #ccaaff;">:a</span> <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 3)</span>
<span style="color: #aadddd;">(</span>interpose <span style="color: #aadddd;">", "</span> <span style="color: #81d4fa;">[</span><span style="color: #aadddd;">"one"</span> <span style="color: #aadddd;">"two"</span> <span style="color: #aadddd;">"three"</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("one" ", " "two" ", " "three")</span>
<span style="color: #aadddd;">(</span>apply str <span style="color: #81d4fa;">(</span>interpose <span style="color: #aadddd;">", "</span> <span style="color: #aaccff;">[</span><span style="color: #aadddd;">"one"</span> <span style="color: #aadddd;">"two"</span> <span style="color: #aadddd;">"three"</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "one, two, three"</span>
</pre>
</div>

<p>
在 <a href="#orgab5b2b4">039: Interleave Two Seqs</a> 我們說到了看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 、<a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a>
。雖然本題中我們目前只有一個序列 (sequence) ，但是我們可以透過 <a href="https://clojuredocs.org/clojure.core/repeat" target="_blank" rel="external">repeat</a> 自己製作另外一組序列 (sequence)
</p>

<p>
現在有兩個序列我們可以想到 map 的變種: <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a>
</p>

<p>
<a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 其實就是先對序列 (sequence) 進行 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 之後再進行 <a href="https://clojuredocs.org/clojure.core/concat" target="_blank" rel="external">concat</a> 的運作，再重新複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Suppose you've got a function that takes a value</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">and returns a list of things from it, for example:</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">f1</span>
  <span style="color: #81d4fa;">[</span>n<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">(</span>- n 1<span style="color: #aaccff;">)</span> n <span style="color: #aaccff;">(</span>+ n 1<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>f1 1<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [0 1 2]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Perhaps you'd like to map it onto each item in a collection:</span>
<span style="color: #aadddd;">(</span>map f1 <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ([0 1 2] [1 2 3] [2 3 4])</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">But suppose you wanted them all concatenated? You could do this:</span>
<span style="color: #aadddd;">(</span>apply concat <span style="color: #81d4fa;">(</span>map f1 <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 1 2 3 2 3 4)</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Or you could get the same thing with `</span><span style="color: #ccaaff; font-style: italic;">mapcat</span><span style="color: #9ac; font-style: italic;">`:</span>
<span style="color: #aadddd;">(</span>mapcat f1 <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 1 2 3 2 3 4)</span>
</pre>
</div>

<p>
也複習一下 <a href="https://clojuredocs.org/clojure.core/repeat" target="_blank" rel="external">repeat</a> 的使用
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>take 5 <span style="color: #81d4fa;">(</span>repeat <span style="color: #aadddd;">"x"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("x" "x" "x" "x" "x")</span>

<span style="color: #aadddd;">(</span>repeat 5 <span style="color: #aadddd;">"x"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("x" "x" "x" "x" "x")</span>
</pre>
</div>

<p>
所以你就可以使用 <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat </a> 搭配 <a href="https://clojuredocs.org/clojure.core/repeat" target="_blank" rel="external">repeat</a> 來解決這個問題
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>sep coll<span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span>mapcat list coll <span style="color: #aaeecc;">(</span>repeat <span style="color: #ccaaff;">(</span>count coll<span style="color: #ccaaff;">)</span> sep<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
  <span style="color: #ccaaff;">:a</span> <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 3 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">)</span>
</pre>
</div>

<p>
但是由於這樣會多出一個 <code>:a</code> ，因此我們再使用 <a href="https://clojuredocs.org/clojure.core/drop-last" target="_blank" rel="external">drop-last</a> 將最後一個元素捨棄，本題
的答案就這樣完成了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>sep coll<span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span>drop-last <span style="color: #aaeecc;">(</span>mapcat list coll <span style="color: #ccaaff;">(</span>repeat <span style="color: #fff59d;">(</span>count coll<span style="color: #fff59d;">)</span> sep<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
  <span style="color: #ccaaff;">:a</span> <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org5b6af3b" class="outline-2">
<h2 id="org5b6af3b">041: Drop Every Nth Item</h2>
<div class="outline-text-2" id="text-org5b6af3b">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/41" target="_blank" rel="external">https://www.4clojure.com/problem/41</a><br>
<br>
Write a function which drops every Nth item from a sequence.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3 4 5 6 7 8<span style="color: #aaccff;">]</span> 3<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 2 4 5 7 8<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:e</span> <span style="color: #ccaaff;">:f</span><span style="color: #aaccff;">]</span> 2<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:e</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3 4 5 6<span style="color: #aaccff;">]</span> 4<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 2 3 5 6<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p041')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p041" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>apply concat <span style="color: #81d4fa;">(</span>partition-all <span style="color: #aaccff;">(</span>dec <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
題目要求我們 <code>每隔</code> 幾個數值就將該位置的東西剔除，因此我們可以考慮先將資料分組，
<a href="https://clojuredocs.org/clojure.core/partition-all" target="_blank" rel="external">partition-all</a> 就是處理這件事的不二人選，讓我們來看看他的用法以及和 <a href="https://clojuredocs.org/clojure.core/partition" target="_blank" rel="external">partition</a> 的
不同
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>partition 4 <span style="color: #81d4fa;">[</span>0 1 2 3 4 5 6 7 8 9<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7))</span>
<span style="color: #aadddd;">(</span>partition-all 4 <span style="color: #81d4fa;">[</span>0 1 2 3 4 5 6 7 8 9<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7) (8 9))</span>

<span style="color: #aadddd;">(</span>partition-all 2 <span style="color: #81d4fa;">[</span>0 1 2 3 4 5 6 7 8 9<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1) (2 3) (4 5) (6 7) (8 9))</span>
<span style="color: #aadddd;">(</span>partition-all 2 4 <span style="color: #81d4fa;">[</span>0 1 2 3 4 5 6 7 8 9<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1) (4 5) (8 9))</span>
</pre>
</div>

<p>
因此這一題就可以這樣作
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>apply concat <span style="color: #81d4fa;">(</span>partition-all 2 3 <span style="color: #aaccff;">[</span>1 2 3 4 5 6 7 8<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 4 5 7 8)</span>
<span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>apply concat <span style="color: #aaccff;">(</span>partition-all <span style="color: #aaeecc;">(</span>dec <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span> <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 2 3 4 5 6 7 8<span style="color: #81d4fa;">]</span> 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 4 5 7 8)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org03e8648" class="outline-2">
<h2 id="org03e8648">042: Factorial Fun</h2>
<div class="outline-text-2" id="text-org03e8648">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/42" target="_blank" rel="external">https://www.4clojure.com/problem/42</a><br>
<br>
Write a function which calculates factorials.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 1<span style="color: #81d4fa;">)</span> 1<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 3<span style="color: #81d4fa;">)</span> 6<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 5<span style="color: #81d4fa;">)</span> 120<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 8<span style="color: #81d4fa;">)</span> 40320<span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p042')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p042" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>reduce * <span style="color: #81d4fa;">(</span>range 1 <span style="color: #aaccff;">(</span>inc <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
題目要求計算階乘 (<a href="https://en.wikipedia.org/wiki/Factorial" target="_blank" rel="external">Factorial</a>)，比如說 5! 就是 5 * 4 * 3 * 2 * 1 = 120，以數學公式
來看的話 Factorial 則是長這樣
</p>

<div class="org-src-container">
<pre class="src src-latex"><span style="color: #aaffaa;">\begin</span>{<span style="color: #aaccff;">equation*</span>}
n! = <span style="color: #aaffaa;">\prod</span>_{k=1}^{n}k
<span style="color: #aaffaa;">\end</span>{<span style="color: #aaccff;">equation*</span>}
</pre>
</div>


<p>
在這個題目中我使用 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a> 去取得 1 ~ x 的序列
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>range 1 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
</pre>
</div>

<p>
由於 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a> 不會將 x 包進序列中，所以我使用 <a href="https://clojuredocs.org/clojure.core/inc" target="_blank" rel="external">inc</a> 去增加這個序列的範圍
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>inc 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>

<span style="color: #aadddd;">(</span>range 1 <span style="color: #81d4fa;">(</span>inc 5<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4 5)</span>
</pre>
</div>

<p>
接下來我們就可以快樂的使用 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> 來針對序列進行乘法的運作
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reduce * '<span style="color: #81d4fa;">(</span>1 2 3 4 5<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 120</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgf5f06fe" class="outline-2">
<h2 id="orgf5f06fe">043: Reverse Interleave</h2>
<div class="outline-text-2" id="text-orgf5f06fe">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/43" target="_blank" rel="external">https://www.4clojure.com/problem/43</a><br>
<br>
Write a function which reverses the interleave process into x number of<br>
subsequences.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3 4 5 6<span style="color: #aaccff;">]</span> 2<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>1 3 5<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>2 4 6<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span>range 9<span style="color: #aaccff;">)</span> 3<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>0 3 6<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>1 4 7<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>2 5 8<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span>range 10<span style="color: #aaccff;">)</span> 5<span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>0 5<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>1 6<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>2 7<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>3 8<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>4 9<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p043')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p043" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>apply map list <span style="color: #81d4fa;">(</span>partition <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題真的不要想的太複雜，我在寫這一題時因為整天都在寫 4clojure 腦袋壞掉了，於是有
一個很複雜的版本，等等來看看。
</p>

<p>
看到這個題目第一個我想到的就是使用 <a href="https://clojuredocs.org/clojure.core/partition" target="_blank" rel="external">partition</a> 幫我將序列 (sequence) 分組，照慣例
來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>partition 4 <span style="color: #81d4fa;">[</span>0 1 2 3 4 5 6 7 8 9<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7))</span>
<span style="color: #aadddd;">(</span>partition-all 4 <span style="color: #81d4fa;">[</span>0 1 2 3 4 5 6 7 8 9<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7) (8 9))</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">partition a list of 22 items into 5 (20/4) lists of 4 items</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">the last two items do not make a complete partition and are dropped.</span>
<span style="color: #aadddd;">(</span>partition 4 <span style="color: #81d4fa;">(</span>range 22<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7) (8 9 10 11) (12 13 14 15) (16 17 18 19))</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">uses the step to select the starting point for each partition</span>
<span style="color: #aadddd;">(</span>partition 4 6 <span style="color: #81d4fa;">(</span>range 20<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (6 7 8 9) (12 13 14 15))</span>
</pre>
</div>

<p>
所以我們先用 <a href="https://clojuredocs.org/clojure.core/partition" target="_blank" rel="external">partition</a> 將序列 (sequence) 分組，再使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 將分組的東西分配給
<a href="https://clojuredocs.org/clojure.core/list" target="_blank" rel="external">list</a> 即可，這真是太神奇了 ~
</p>

<p>
就像這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>partition 3 <span style="color: #81d4fa;">(</span>range 9<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2) (3 4 5) (6 7 8))</span>

<span style="color: #aadddd;">(</span>apply list <span style="color: #81d4fa;">(</span>partition 3 <span style="color: #aaccff;">(</span>range 9<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 3 6) (1 4 7) (2 5 8))</span>
</pre>
</div>

<p>
那我一開始想得很複雜的版本是怎樣呢？我想到使用 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 搭配 <a href="https://clojuredocs.org/clojure.core/nth" target="_blank" rel="external">nth</a> 去一個一個的進行組合，就像這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>list
  <span style="color: #81d4fa;">(</span>map first
       <span style="color: #aaccff;">(</span>partition 2 <span style="color: #aaeecc;">[</span>1 2 3 4 5 6<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 3 5)</span>
  <span style="color: #81d4fa;">(</span>map second
       <span style="color: #aaccff;">(</span>partition 2 <span style="color: #aaeecc;">[</span>1 2 3 4 5 6<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (2 4 6)</span>
  <span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((1 3 5) (2 4 6))</span>
</pre>
</div>

<p>
於是套用兩次 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 就可以解決問題了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>map
  #<span style="color: #81d4fa;">(</span>map <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>coll<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span>nth coll <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
          <span style="color: #aaccff;">(</span>partition 3 <span style="color: #aaeecc;">(</span>range 9<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>range 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 3 6) (1 4 7) (2 5 8))</span>
</pre>
</div>

<p>
在整理成函式(function)，最後複雜點的版本就成了這個樣子:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>sep n<span style="color: #aaccff;">]</span>
  <span style="color: #aaccff;">(</span>map
   <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>x<span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">(</span>map <span style="color: #fff59d;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ff8888;">[</span>coll<span style="color: #ff8888;">]</span> <span style="color: #ff8888;">(</span>nth coll x<span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span>
                <span style="color: #fff59d;">(</span>partition n sep<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>range n<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
   <span style="color: #81d4fa;">(</span>range 9<span style="color: #81d4fa;">)</span> 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 3 6) (1 4 7) (2 5 8))</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org92b1162" class="outline-2">
<h2 id="org92b1162">044: Rotate Sequence</h2>
<div class="outline-text-2" id="text-org92b1162">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/44" target="_blank" rel="external">https://www.4clojure.com/problem/44</a><br>
<br>
Write a function which can rotate a sequence in either direction.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 2 <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>3 4 5 1 2<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ -2 <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>4 5 1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 6 <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>2 3 4 5 1<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 1 '<span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:a</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ -4 '<span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p044')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p044" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>dir s<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaccff;">[</span>n <span style="color: #aaeecc;">(</span>mod dir <span style="color: #ccaaff;">(</span>count s<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span>concat <span style="color: #aaeecc;">(</span>drop n s<span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>take n s<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題我一開始是使用條件判斷，比如說剛開始想要得到 <code>(3 4 5 1 2)</code> 時，我們就可以
這樣作
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>concat <span style="color: #81d4fa;">(</span>drop 2 <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>take 2 <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 4 5 1 2)</span>
</pre>
</div>

<p>
或是
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>concat <span style="color: #81d4fa;">(</span>drop <span style="color: #aaccff;">(</span>+ 5 -2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>take <span style="color: #aaccff;">(</span>+ 5 -2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (4 5 1 2 3)</span>
</pre>
</div>

<p>
而如果輸入是正的，則取輸入數值，反之取得 <code>全部 + 輸入</code> ，就像這樣：
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">(</span>&gt; <span style="color: #aaccff;">%1</span> 0<span style="color: #aaccff;">)</span>
     <span style="color: #aaccff;">(</span>concat <span style="color: #aaeecc;">(</span>drop <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>take <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
     <span style="color: #aaccff;">(</span>concat <span style="color: #aaeecc;">(</span>drop <span style="color: #ccaaff;">(</span>+ <span style="color: #fff59d;">(</span>count <span style="color: #aaccff;">%2</span><span style="color: #fff59d;">)</span> <span style="color: #aaccff;">%1</span><span style="color: #ccaaff;">)</span> <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>take <span style="color: #ccaaff;">(</span>+ <span style="color: #fff59d;">(</span>count <span style="color: #aaccff;">%2</span><span style="color: #fff59d;">)</span> <span style="color: #aaccff;">%1</span><span style="color: #ccaaff;">)</span> <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
  -2 <span style="color: #81d4fa;">[</span>1 2 3 4 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<p>
我們發現其實都是先進行 <code>drop</code> 再進行 <code>take</code> ，因此我們只要有一個方式可以簡單取得
要 drop 或是 take 多少即可，這個時候就可以透過 <a href="https://clojuredocs.org/clojure.core/mod" target="_blank" rel="external">mod</a> 來計算，也就是這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>mod 2 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
<span style="color: #aadddd;">(</span>mod -2 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
於是我們的程式就完成了:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>dir s<span style="color: #aaccff;">]</span>
  <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaeecc;">[</span>n <span style="color: #ccaaff;">(</span>mod dir <span style="color: #fff59d;">(</span>count s<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">]</span>
    <span style="color: #aaeecc;">(</span>concat <span style="color: #ccaaff;">(</span>drop n s<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>take n s<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> -2 <span style="color: #81d4fa;">[</span>1 2 3 4 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (4 5 1 2 3)</span>
</pre>
</div>

<p>
使用條件判斷的複雜版本則是長成這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>n coll<span style="color: #aaccff;">]</span>
     <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaeecc;">[</span>c <span style="color: #ccaaff;">(</span>count coll<span style="color: #ccaaff;">)</span>
           x <span style="color: #ccaaff;">(</span><span style="color: #aaffaa;">cond</span>
               <span style="color: #fff59d;">(</span>&gt; n c<span style="color: #fff59d;">)</span> <span style="color: #fff59d;">(</span>- n c<span style="color: #fff59d;">)</span>
               <span style="color: #fff59d;">(</span>&gt; n 0<span style="color: #fff59d;">)</span> n
               <span style="color: #fff59d;">(</span>&lt; <span style="color: #ff8888;">(</span>+ n c<span style="color: #ff8888;">)</span> 0<span style="color: #fff59d;">)</span> <span style="color: #fff59d;">(</span>+ n c c<span style="color: #fff59d;">)</span>
               <span style="color: #fff59d;">(</span>&lt; n 0<span style="color: #fff59d;">)</span> <span style="color: #fff59d;">(</span>+ c n<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">]</span>
       <span style="color: #aaeecc;">(</span>concat <span style="color: #ccaaff;">(</span>drop x coll<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>take x coll<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
   -4 '<span style="color: #81d4fa;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org6996139" class="outline-2">
<h2 id="org6996139">045: Intro to Iterate</h2>
<div class="outline-text-2" id="text-org6996139">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/45" target="_blank" rel="external">https://www.4clojure.com/problem/45</a><br>
<br>
The iterate function can be used to produce an infinite lazy sequence.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>take 5 <span style="color: #aaccff;">(</span>iterate #<span style="color: #aaeecc;">(</span>+ 3 <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> 1<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p045')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p045" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'<span style="color: #aadddd;">(</span>1 4 7 10 13<span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題在介紹 clojure 的 <a href="https://clojuredocs.org/clojure.core/iterate" target="_blank" rel="external">iterate</a> ，我們先來看看一般用法
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">iterate Ad Infinitum starting at 5 using the inc (increment) function</span>
<span style="color: #aadddd;">(</span>iterate inc 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (5 6 7 8 9 10 11 12 13 14 15 ... n</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">limit results</span>
<span style="color: #aadddd;">(</span>take 5 <span style="color: #81d4fa;">(</span>iterate inc 5<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (5 6 7 8 9)</span>
</pre>
</div>

<p>
也就是說，使用 <a href="https://clojuredocs.org/clojure.core/iterate" target="_blank" rel="external">iterate</a> 的序列本身會從 0 開始不斷的往上增加，因此此題就會像這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>take 5 <span style="color: #81d4fa;">(</span>iterate #<span style="color: #aaccff;">(</span>+ 3 <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> 1<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 4 7 10 13)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org377c163" class="outline-2">
<h2 id="org377c163">046: Flipping out</h2>
<div class="outline-text-2" id="text-org377c163">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/46" target="_blank" rel="external">https://www.4clojure.com/problem/46</a><br>
<br>
Write a higher-order function which flips the order of the arguments of an input<br>
function.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= 3 <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ nth<span style="color: #aaccff;">)</span> 2 <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ &gt;<span style="color: #aaccff;">)</span> 7 8<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= 4 <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ quot<span style="color: #aaccff;">)</span> 2 8<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ take<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span> 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p046')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p046" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>x y<span style="color: #81d4fa;">]</span>
   <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">%</span> y x<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題&#x2026;.我不會解釋耶 XD 簡單來說就是使用匿名函式搭配匿名函式產生新的函式 (好拗
口)，於是答案就出來了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>f<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>x y<span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">(</span>f y x<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span> &gt;<span style="color: #81d4fa;">)</span> 7 8<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

<p>
這題也可以使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 來解決 (不過沒有比較好)
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>f<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>arg1 arg2 &amp; args<span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">(</span>apply f arg2 arg1 args<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
  &gt;<span style="color: #81d4fa;">)</span> 7 8<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgea5d156" class="outline-2">
<h2 id="orgea5d156">047: Contain Yourself</h2>
<div class="outline-text-2" id="text-orgea5d156">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/47" target="_blank" rel="external">https://www.4clojure.com/problem/47</a><br>
<br>
The contains? function checks if a KEY is present in a given collection. This<br>
often leads beginner clojurians to use it incorrectly with numerically indexed<br>
collections like vectors and lists.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>contains? #<span style="color: #81d4fa;">{</span>4 5 6<span style="color: #81d4fa;">}</span> __<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>contains? <span style="color: #81d4fa;">[</span>1 1 1 1 1<span style="color: #81d4fa;">]</span> __<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>contains? <span style="color: #81d4fa;">{</span>4 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span><span style="color: #81d4fa;">}</span> __<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>not <span style="color: #81d4fa;">(</span>contains? <span style="color: #aaccff;">[</span>1 2 4<span style="color: #aaccff;">]</span> __<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p047')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p047" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">4
</pre>
</div>
</blockquote>

<p>
這一題目的是搞清楚 <a href="https://clojuredocs.org/clojure.core/contains_q" target="_blank" rel="external">contains?</a> 的用法，其實這函式就如其名，是用來檢查是否有 <code>key</code>
在提供的 collection 中的，常用的用法是這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>contains? <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2<span style="color: #81d4fa;">}</span> <span style="color: #ccaaff;">:a</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>

<span style="color: #aadddd;">(</span>contains? <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2<span style="color: #81d4fa;">}</span> <span style="color: #ccaaff;">:c</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
當然如果你拿來用在 vector 或是 sequence 中，就會出錯，因為只有 <code>Maps</code> 的結構具有
<code>key</code> ，陣列之類的則是透過 index 去找尋資料。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">It's likely to surprise you for other sequences because it's</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">about *indices* or *keys*, not *contents*:</span>

<span style="color: #aadddd;">(</span>contains? <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span> <span style="color: #ccaaff;">:b</span><span style="color: #aadddd;">)</span>  <span style="color: #9ac; font-style: italic;">;=&gt; false</span>
<span style="color: #aadddd;">(</span>contains? <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span> 2<span style="color: #aadddd;">)</span>   <span style="color: #9ac; font-style: italic;">;=&gt; true</span>

<span style="color: #aadddd;">(</span>contains? <span style="color: #aadddd;">"f"</span> 0<span style="color: #aadddd;">)</span>          <span style="color: #9ac; font-style: italic;">;=&gt; true</span>
<span style="color: #aadddd;">(</span>contains? <span style="color: #aadddd;">"f"</span> 1<span style="color: #aadddd;">)</span>          <span style="color: #9ac; font-style: italic;">;=&gt; false</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org6a6a092" class="outline-2">
<h2 id="org6a6a092">048: Intro to some</h2>
<div class="outline-text-2" id="text-org6a6a092">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/48" target="_blank" rel="external">https://www.4clojure.com/problem/48</a><br>
<br>
The some function takes a predicate function and a collection. It returns the<br>
first logical true value of (predicate x) where x is an item in the collection.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>some #<span style="color: #aaccff;">{</span>2 7 6<span style="color: #aaccff;">}</span> <span style="color: #aaccff;">[</span>5 6 7 8<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span>some #<span style="color: #aaccff;">(</span><span style="color: #aaffaa;">when</span> <span style="color: #aaeecc;">(</span>even? <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">[</span>5 6 7 8<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p048')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p048" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">6
</pre>
</div>
</blockquote>

<p>
這一題介紹了 <a href="https://clojuredocs.org/clojure.core/some" target="_blank" rel="external">some</a> 的使用方式，<a href="https://clojuredocs.org/clojure.core/some" target="_blank" rel="external">some</a> 會去尋找序列中 <code>第一個</code> 符合的元素並回傳，因
此你只會得到第一個被找到的結果
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">2 is even, so `</span><span style="color: #ccaaff; font-style: italic;">some</span><span style="color: #9ac; font-style: italic;">` stops there, 3 and 4 are never tested</span>
<span style="color: #aadddd;">(</span>some even? '<span style="color: #81d4fa;">(</span>1 2 3 4<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; true</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">they are all odd, so not true, i.e. nil</span>
<span style="color: #aadddd;">(</span>some even? '<span style="color: #81d4fa;">(</span>1 3 5 7<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; nil</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">the first logical true value is returned, i.e. anything but nil and false</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">when return nil if its predicate is logical false.</span>
<span style="color: #aadddd;">(</span>some #<span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">when</span> <span style="color: #aaccff;">(</span>even? <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span>1 2 3 4<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">a hash acts as a function returning nil when the</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">key is not present and the key value otherwise.</span>
<span style="color: #aadddd;">(</span>some <span style="color: #81d4fa;">{</span>2 <span style="color: #aadddd;">"two"</span> 3 <span style="color: #aadddd;">"three"</span><span style="color: #81d4fa;">}</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">nil</span> 3 2<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; "three"</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org502642a" class="outline-2">
<h2 id="org502642a">049: Split a sequence</h2>
<div class="outline-text-2" id="text-org502642a">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/49" target="_blank" rel="external">https://www.4clojure.com/problem/49</a><br>
<br>
Write a function which will split a sequence into two parts.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 3 <span style="color: #aaccff;">[</span>1 2 3 4 5 6<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>4 5 6<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 1 <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 2 <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>5 6<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>5 6<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>split-at</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p049')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p049" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>vector <span style="color: #81d4fa;">(</span>take <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>drop <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
先來複習一下 <a href="https://clojuredocs.org/clojure.core/split-at" target="_blank" rel="external">split-at</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>split-at 2 <span style="color: #81d4fa;">[</span>1 2 3 4 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [(1 2) (3 4 5)]</span>
<span style="color: #aadddd;">(</span>split-at 3 <span style="color: #81d4fa;">[</span>1 2<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [(1 2) ()]</span>
</pre>
</div>

<p>
這題看到題目就讓我想到了可以使用 <a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 和 <a href="https://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 來解決問題，因此可以這樣解題
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>vector <span style="color: #aaccff;">(</span>take <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>drop <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 3 <span style="color: #81d4fa;">[</span>1 2 3 4 5 6<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [[1 2 3] [4 5 6]]</span>
</pre>
</div>

<p>
除了上面的方法外，我們也可以用 <a href="https://clojuredocs.org/clojure.core/juxt" target="_blank" rel="external">juxt</a> 來產生更簡單的解法，先看看他的用法
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Extract values from a map, treating keywords as functions.</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>juxt <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2 <span style="color: #ccaaff;">:c</span> 3 <span style="color: #ccaaff;">:d</span> 4<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [1 2]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">"Explode" a value.</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>juxt identity name<span style="color: #81d4fa;">)</span> <span style="color: #ccaaff;">:keyword</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [</span><span style="color: #9ac; font-style: italic;">:keyword</span><span style="color: #9ac; font-style: italic;"> "keyword"]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Get the first character and length of string</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>juxt first count<span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"Clojure Rocks"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [\C 13]</span>
</pre>
</div>

<p>
因此此題就可以這樣解:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>juxt take drop<span style="color: #81d4fa;">)</span> 3 <span style="color: #81d4fa;">[</span>1 2 3 4 5 6<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [[1 2 3] [4 5 6]]</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org912c098" class="outline-2">
<h2 id="org912c098">050: Split by Type</h2>
<div class="outline-text-2" id="text-org912c098">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/50" target="_blank" rel="external">https://www.4clojure.com/problem/50</a><br>
<br>
Write a function which takes a sequence consisting of items with different types<br>
and splits them up into a set of homogeneous sub-sequences. The internal order<br>
of each sub-sequence should be maintained, but the sub-sequences themselves can<br>
be returned in any order (this is why 'set' is used in the test cases).<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>set <span style="color: #aaccff;">(</span>__ <span style="color: #aaeecc;">[</span>1 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span> 3 <span style="color: #ccaaff;">:c</span><span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> #<span style="color: #81d4fa;">{</span><span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>set <span style="color: #aaccff;">(</span>__ <span style="color: #aaeecc;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #aadddd;">"foo"</span>  <span style="color: #aadddd;">"bar"</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> #<span style="color: #81d4fa;">{</span><span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #aadddd;">"foo"</span> <span style="color: #aadddd;">"bar"</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>set <span style="color: #aaccff;">(</span>__ <span style="color: #aaeecc;">[</span><span style="color: #ccaaff;">[</span>1 2<span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">[</span>3 4<span style="color: #ccaaff;">]</span> 5 6 <span style="color: #ccaaff;">:b</span><span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> #<span style="color: #81d4fa;">{</span><span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>5 6<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p050')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p050" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>vals <span style="color: #81d4fa;">(</span>group-by type <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
根據此題的要求，我們首先要會使用 <a href="https://clojuredocs.org/clojure.core/type" target="_blank" rel="external">type</a> 去知道不同的型別
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>type 10<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Long</span>
<span style="color: #aadddd;">(</span>type 10.0<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Double</span>
<span style="color: #aadddd;">(</span>type <span style="color: #81d4fa;">[</span>10 20<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">= &gt; clojure.lang.PersistentVector</span>
</pre>
</div>

<p>
那麼要怎樣分組呢？我們可以使用 <a href="https://clojuredocs.org/clojure.core/group-by" target="_blank" rel="external">group-by</a> 來達到這件事情
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">group strings by their length</span>
<span style="color: #aadddd;">(</span>group-by count <span style="color: #81d4fa;">[</span><span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"as"</span> <span style="color: #aadddd;">"asd"</span> <span style="color: #aadddd;">"aa"</span> <span style="color: #aadddd;">"asdf"</span> <span style="color: #aadddd;">"qwer"</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; {1 ["a"], 2 ["as" "aa"], 3 ["asd"], 4 ["asdf" "qwer"]}</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">group integers by a predicate</span>
<span style="color: #aadddd;">(</span>group-by odd? <span style="color: #81d4fa;">(</span>range 10<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; {false [0 2 4 6 8], true [1 3 5 7 9]}</span>
</pre>
</div>

<p>
但是因為我們使用 <a href="https://clojuredocs.org/clojure.core/type" target="_blank" rel="external">type</a> 得到的是目標的型別，因此要使用 <a href="https://clojuredocs.org/clojure.core/vals" target="_blank" rel="external">vals</a> 將型別還原成數值
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>group-by type  <span style="color: #81d4fa;">[</span>1 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span> 3 <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {java.lang.Long [1 2 3], clojure.lang.Keyword [</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">]}</span>
<span style="color: #aadddd;">(</span>vals <span style="color: #81d4fa;">(</span>group-by type  <span style="color: #aaccff;">[</span>1 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span> 3 <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ([1 2 3] [</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">])</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org81da237" class="outline-2">
<h2 id="org81da237">051: Advanced Destructuring</h2>
<div class="outline-text-2" id="text-org81da237">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/51" target="_blank" rel="external">https://www.4clojure.com/problem/51</a><br>
<br>
Here is an example of some more sophisticated destructuring.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>1 2 <span style="color: #aaccff;">[</span>3 4 5<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>a b &amp; c <span style="color: #ccaaff;">:as</span> d<span style="color: #aaeecc;">]</span> __<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>a b c d<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p051')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p051" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span>1 2 3 4 5<span style="color: #aadddd;">]</span>
</pre>
</div>
</blockquote>

<p>
重新複習一下 <a href="https://clojuredocs.org/clojure.core/let" target="_blank" rel="external">let</a> 的使用方式
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>a 1 b 2<span style="color: #81d4fa;">]</span> 
         <span style="color: #81d4fa;">(</span>+ a b<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>

<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>a <span style="color: #aaccff;">(</span>take 5 <span style="color: #aaeecc;">(</span>range<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
             <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:keys</span> <span style="color: #aaeecc;">[</span>b c d<span style="color: #aaeecc;">]</span> <span style="color: #ccaaff;">:or</span> <span style="color: #aaeecc;">{</span>d 10 b 20 c 30<span style="color: #aaeecc;">}</span><span style="color: #aaccff;">}</span> <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:c</span> 50 <span style="color: #ccaaff;">:d</span> 100<span style="color: #aaccff;">}</span>
             <span style="color: #aaccff;">[</span>e f g &amp; h<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"b"</span> <span style="color: #aadddd;">"c"</span> <span style="color: #aadddd;">"d"</span> <span style="color: #aadddd;">"e"</span><span style="color: #aaccff;">]</span>
             _ <span style="color: #aaccff;">(</span>println <span style="color: #aadddd;">"I was here!"</span><span style="color: #aaccff;">)</span>
             foo 12
             bar <span style="color: #aaccff;">(</span>+ foo 100<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">]</span>
         <span style="color: #81d4fa;">[</span>a b c d e f g h foo bar<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; I was here!</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">-&gt; [(0 1 2 3 4) 20 50 100 "a" "b" "c" ("d" "e") 12 112]</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orga810fa8" class="outline-2">
<h2 id="orga810fa8">052: Intro to Destructuring</h2>
<div class="outline-text-2" id="text-orga810fa8">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/52" target="_blank" rel="external">https://www.4clojure.com/problem/52</a><br>
<br>
Let bindings and function parameter lists support destructuring.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>2 4<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>a b c d e<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>0 1 2 3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span> __<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p052')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p052" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span>c e<span style="color: #aadddd;">]</span>
</pre>
</div>
</blockquote>

<p>
<a href="http://clojure.org/special_forms#Special%20Forms--Binding%20Forms%20%28Destructuring%29-Map%20binding%20destructuring" target="_blank" rel="external">destructing</a> 是 clojure 下一個非常好用的功能，他可以讓你輸入的陣列直接被指派給變數，如下:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">get-points</span> <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span>x y<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span>format <span style="color: #aadddd;">"(x, y) = (%d, %d)"</span> x y <span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>get-points <span style="color: #81d4fa;">[</span>1 2<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "(x, y) = (1, 2)"</span>
</pre>
</div>


</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org4ad9623" class="outline-2">
<h2 id="org4ad9623">053: Longest Increasing Sub-Seq</h2>
<div class="outline-text-2" id="text-org4ad9623">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/53" target="_blank" rel="external">https://www.4clojure.com/problem/53</a><br>
<br>
Given a vector of integers, find the longest consecutive sub-sequence of<br>
increasing numbers. If two sub-sequences have the same length, use the one that<br>
occurs first. An increasing sub-sequence must have a length of 2 or greater to<br>
qualify.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 0 1 2 3 0 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>0 1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>5 6 1 3 2 7<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>5 6<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>2 3 3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>3 4 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>7 6 5 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p053')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p053" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>coll<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span>
   <span style="color: #aaccff;">(</span>range 2 <span style="color: #aaeecc;">(</span>inc <span style="color: #ccaaff;">(</span>count coll<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
   <span style="color: #aaccff;">(</span>mapcat #<span style="color: #aaeecc;">(</span>partition <span style="color: #aaccff;">%</span> 1 coll<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
   <span style="color: #aaccff;">(</span>filter #<span style="color: #aaeecc;">(</span>apply &lt; <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
   <span style="color: #aaccff;">(</span>cons <span style="color: #aaeecc;">[]</span><span style="color: #aaccff;">)</span>
   <span style="color: #aaccff;">(</span>sort-by count &gt;<span style="color: #aaccff;">)</span>
   first<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題&#x2026;.有點難 Orz.. 不愧是 hard 等級的題目。
</p>

<p>
題目要找的是 <code>連續</code> 的序列 (sequence)，因此我們先想辦法生出所有可能的序列 (sequence)
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>coll <span style="color: #aaccff;">[</span>5 6 1 3 2 7<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span>
   <span style="color: #81d4fa;">(</span>mapcat #<span style="color: #aaccff;">(</span>partition <span style="color: #aaccff;">%</span> 1 coll<span style="color: #aaccff;">)</span>
           <span style="color: #aaccff;">(</span>range 2 <span style="color: #aaeecc;">(</span>inc <span style="color: #ccaaff;">(</span>count coll<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((5 6) (6 1) (1 3) (3 2) (2 7) (5 6 1) (6 1 3) (1 3 2) (3 2 7) (5 6 1 3) (6 1 3 2) (1 3 2 7) (5 6 1 3 2) (6 1 3 2 7) (5 6 1 3 2 7))</span>
</pre>
</div>

<p>
接下來，我們要過濾出開頭數值比較小的組合
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>filter #<span style="color: #81d4fa;">(</span>apply &lt; <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span>
        '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>5 6<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>6 1<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>1 3<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>3 2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>2 7<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>5 6 1<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>6 1 3<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>1 3 2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>3 2 7<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>5 6 1 3<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>6 1 3 2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>1 3 2 7<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>5 6 1 3 2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>6 1 3 2 7<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>5 6 1 3 2 7<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((5 6) (1 3) (2 7))</span>
</pre>
</div>

<p>
接著對前面的結果進行排序，為了避免產生的結果為空的鍊表，我們使用 <a href="https://clojuredocs.org/clojure.core/cons" target="_blank" rel="external">cons</a> 送一個空陣
列進去，最後在使用 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 取出第一個結果就是我們的答案了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>sort-by count &gt;
          <span style="color: #81d4fa;">(</span>cons <span style="color: #aaccff;">[]</span>
                <span style="color: #aaccff;">(</span>filter #<span style="color: #aaeecc;">(</span>apply &lt; <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span>
                        '<span style="color: #aaeecc;">(</span><span style="color: #ccaaff;">(</span>5 6<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>1 3<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>2 7<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((5 6) (1 3) (2 7) [])</span>
</pre>
</div>

<p>
可以來比較一下為什麼需要用到 <a href="https://clojuredocs.org/clojure.core/cons" target="_blank" rel="external">cons</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>sort-by count &gt;
          <span style="color: #81d4fa;">(</span>cons <span style="color: #aaccff;">[]</span>
                <span style="color: #aaccff;">(</span>filter #<span style="color: #aaeecc;">(</span>apply &lt; <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span>
                        '<span style="color: #aaeecc;">()</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ([])</span>

<span style="color: #aadddd;">(</span>sort-by count &gt;
          <span style="color: #81d4fa;">(</span>filter #<span style="color: #aaccff;">(</span>apply &lt; <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span>
                  '<span style="color: #aaccff;">()</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ()</span>
</pre>
</div>

<p>
因此這題就是這樣解:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>coll<span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span>first
     <span style="color: #aaeecc;">(</span>sort-by count &gt;
              <span style="color: #ccaaff;">(</span>cons <span style="color: #fff59d;">[]</span>
                    <span style="color: #fff59d;">(</span>filter #<span style="color: #ff8888;">(</span>apply &lt; <span style="color: #aaccff;">%</span><span style="color: #ff8888;">)</span>
                            <span style="color: #ff8888;">(</span>mapcat #<span style="color: #795548;">(</span>partition <span style="color: #aaccff;">%</span> 1 coll<span style="color: #795548;">)</span>
                                    <span style="color: #795548;">(</span>range 2 <span style="color: #827717;">(</span>inc <span style="color: #aadddd;">(</span>count coll<span style="color: #aadddd;">)</span><span style="color: #827717;">)</span><span style="color: #795548;">)</span><span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
  <span style="color: #81d4fa;">[</span>5 6 1 3 2 7<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
  <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [5 6]</span>
</pre>
</div>

<p>
但是這樣實在太醜了，於是使用 <a href="https://clojuredocs.org/clojure.core/-%3E%3E" target="_blank" rel="external">-&gt;&gt;</a> 來簡化程式，就變成了這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>coll<span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span>
    <span style="color: #aaeecc;">(</span>range 2 <span style="color: #ccaaff;">(</span>inc <span style="color: #fff59d;">(</span>count coll<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
    <span style="color: #aaeecc;">(</span>mapcat #<span style="color: #ccaaff;">(</span>partition <span style="color: #aaccff;">%</span> 1 coll<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
    <span style="color: #aaeecc;">(</span>filter #<span style="color: #ccaaff;">(</span>apply &lt; <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
    <span style="color: #aaeecc;">(</span>cons <span style="color: #ccaaff;">[]</span><span style="color: #aaeecc;">)</span>
    <span style="color: #aaeecc;">(</span>sort-by count &gt;<span style="color: #aaeecc;">)</span>
    first<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #81d4fa;">[</span>5 6 1 3 2 7<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [5 6]</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org8e6cd9a" class="outline-2">
<h2 id="org8e6cd9a">054: Partition a Sequence</h2>
<div class="outline-text-2" id="text-org8e6cd9a">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/54" target="_blank" rel="external">https://www.4clojure.com/problem/54</a><br>
<br>
Write a function which returns a sequence of lists of x items each. Lists of<br>
less than x items should not be returned.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 3 <span style="color: #aaccff;">(</span>range 9<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>0 1 2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>3 4 5<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>6 7 8<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 2 <span style="color: #aaccff;">(</span>range 8<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>0 1<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>2 3<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>4 5<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>6 7<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 3 <span style="color: #aaccff;">(</span>range 8<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>0 1 2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>3 4 5<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>partition</li>
<li>partition-all</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p054')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p054" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">partition*</span> <span style="color: #81d4fa;">[</span>n v<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">(</span>&gt;= <span style="color: #aaeecc;">(</span>count v<span style="color: #aaeecc;">)</span> n<span style="color: #aaccff;">)</span>
    <span style="color: #aaccff;">(</span>cons <span style="color: #aaeecc;">(</span>take n v<span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>partition* n <span style="color: #ccaaff;">(</span>drop n v<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題要實作 <a href="http://clojuredocs.org/clojure.core/partition" target="_blank" rel="external">partition</a> 的功能，而 partition 和一系列的 <a href="http://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 與 <a href="http://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 的組合蠻像的，
因此我們就可以這樣解決他
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">partition*</span> <span style="color: #aaccff;">[</span>n v<span style="color: #aaccff;">]</span>
  <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaeecc;">(</span>&gt;= <span style="color: #ccaaff;">(</span>count v<span style="color: #ccaaff;">)</span> n<span style="color: #aaeecc;">)</span>
    <span style="color: #aaeecc;">(</span>cons <span style="color: #ccaaff;">(</span>take n v<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>partition* n <span style="color: #fff59d;">(</span>drop n v<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 3 <span style="color: #81d4fa;">(</span>range 9<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2) (3 4 5) (6 7 8))</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgc5c18d5" class="outline-2">
<h2 id="orgc5c18d5">055: Count Occurrences</h2>
<div class="outline-text-2" id="text-orgc5c18d5">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/55" target="_blank" rel="external">https://www.4clojure.com/problem/55</a><br>
<br>
Write a function which returns a map containing the number of occurences of each<br>
distinct item in a sequence.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 1 2 3 2 1 1<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">{</span>1 4, 2 2, 3 1<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 2, <span style="color: #ccaaff;">:b</span> 3<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>1 3<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>1 3<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">{</span><span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> 1, <span style="color: #aaccff;">[</span>1 3<span style="color: #aaccff;">]</span> 2<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>frequencies</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p055')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p055" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>x<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> x
       <span style="color: #aaccff;">(</span>sort<span style="color: #aaccff;">)</span>
       <span style="color: #aaccff;">(</span>partition-by identity<span style="color: #aaccff;">)</span>
       <span style="color: #aaccff;">(</span>map #<span style="color: #aaeecc;">(</span>hash-map <span style="color: #ccaaff;">(</span>first <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>count <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
       <span style="color: #aaccff;">(</span>into <span style="color: #aaeecc;">{}</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題要實作 <a href="http://clojuredocs.org/clojure.core/frequencies" target="_blank" rel="external">frequencies</a> 的功能，我們先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>frequencies <span style="color: #81d4fa;">[</span>'a 'b 'a 'a<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {a 3, b 1}</span>
</pre>
</div>

<p>
因此我們首要任務事先將序列 (sequence) 排序，接著使用 <a href="http://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a> 將其根據數值進
行切割，最後提出我們要的數據即可。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> <span style="color: #81d4fa;">[</span>1 1 2 3 2 1 1<span style="color: #81d4fa;">]</span>
     <span style="color: #81d4fa;">(</span>sort<span style="color: #81d4fa;">)</span>                   <span style="color: #9ac; font-style: italic;">; =&gt; (1 1 1 1 2 2 3)</span>
     <span style="color: #81d4fa;">(</span>partition-by identity<span style="color: #81d4fa;">)</span>  <span style="color: #9ac; font-style: italic;">; =&gt; ((1 1 1 1) (2 2) (3))</span>
     <span style="color: #81d4fa;">(</span>map #<span style="color: #aaccff;">(</span>hash-map <span style="color: #aaeecc;">(</span>first <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>count <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #9ac; font-style: italic;">; =&gt; ({1 4} {2 2} {3 1})</span>
     <span style="color: #81d4fa;">(</span>into <span style="color: #aaccff;">{}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {1 4, 2 2, 3 1}</span>
</pre>
</div>


<p>
<a href="http://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">http://clojuredocs.org/clojure.core/partition-by</a>
</p>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orge23b132" class="outline-2">
<h2 id="orge23b132">056: Find Distinct Items</h2>
<div class="outline-text-2" id="text-orge23b132">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/56" target="_blank" rel="external">https://www.4clojure.com/problem/56</a><br>
<br>
Write a function which removes the duplicates from a sequence. Order of the<br>
items must be maintained.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 1 3 1 2 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 2 3 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #aaeecc;">[</span>2 4<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>1 3<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>1 3<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">[</span>2 4<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span>range 50<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>range 50<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>distinct</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p056')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p056" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">reduce #<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>set <span style="color: #aaccff;">%1</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">%2</span><span style="color: #81d4fa;">)</span> <span style="color: #aaccff;">%1</span> <span style="color: #81d4fa;">(</span>conj <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span> <span style="color: #aadddd;">[]</span>
</pre>
</div>
</blockquote>

<p>
這一題我們可以透過 <a href="http://clojuredocs.org/clojure.core/set" target="_blank" rel="external">set</a> 的功能去移除重複的元素
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>set <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{1 3 2}</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>set <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> 1<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>set <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> 4<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
接著只要搭配判斷式以及 <a href="http://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，問題就解決了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reduce #<span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">(</span><span style="color: #aaeecc;">(</span>set <span style="color: #aaccff;">%1</span><span style="color: #aaeecc;">)</span> <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">(</span>conj <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
        <span style="color: #81d4fa;">[]</span> <span style="color: #81d4fa;">[</span>1 2 1 3 1 2 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3 4]</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orge5d744d" class="outline-2">
<h2 id="orge5d744d">057: Simple Recursion</h2>
<div class="outline-text-2" id="text-orge5d744d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/57" target="_blank" rel="external">https://www.4clojure.com/problem/57</a><br>
<br>
A recursive function is a function which calls itself. This is one of the<br>
fundamental techniques used in functional programming.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">foo</span> <span style="color: #aaeecc;">[</span>x<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">when</span> <span style="color: #ccaaff;">(</span>&gt; x 0<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>conj <span style="color: #fff59d;">(</span>foo <span style="color: #ff8888;">(</span>dec x<span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span> x<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span> 5<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p057')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p057" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span>5 4 3 2 1<span style="color: #aadddd;">]</span>
</pre>
</div>
</blockquote>

<p>
這題目的是要看懂遞迴函式，我也不知道怎樣解釋 XD
</p>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orga38850c" class="outline-2">
<h2 id="orga38850c">058: Function Composition</h2>
<div class="outline-text-2" id="text-orga38850c">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/58" target="_blank" rel="external">https://www.4clojure.com/problem/58</a><br>
<br>
Write a function which allows you to create function compositions. The parameter<br>
list should take a variable number of functions, and create a function that<br>
applies them from right-to-left.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>3 2 1<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ rest reverse<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">[</span>1 2 3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= 5 <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ <span style="color: #aaeecc;">(</span>partial + 3<span style="color: #aaeecc;">)</span> second<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">[</span>1 2 3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ zero? #<span style="color: #aaeecc;">(</span>mod <span style="color: #aaccff;">%</span> 8<span style="color: #aaeecc;">)</span> +<span style="color: #aaccff;">)</span> 3 5 7 9<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #aadddd;">"HELLO"</span> <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ #<span style="color: #aaeecc;">(</span><span style="color: #ff8888;">.toUpperCase</span> <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> #<span style="color: #aaeecc;">(</span>apply str <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> take<span style="color: #aaccff;">)</span> 5 <span style="color: #aadddd;">"hello world"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>comp</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p058')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p058" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>&amp; f<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>&amp; coll<span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span>first
     <span style="color: #aaeecc;">(</span>reduce #<span style="color: #ccaaff;">(</span>vector <span style="color: #fff59d;">(</span>apply <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span> coll <span style="color: #ccaaff;">(</span>reverse f<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
此題在實作 <a href="https://clojuredocs.org/clojure.core/comp" target="_blank" rel="external">comp</a> 的功能，讓我們來複習一下
</p>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>comp str +<span style="color: #81d4fa;">)</span> 8 8 8<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "24"</span>
<span style="color: #aadddd;">(</span>filter <span style="color: #81d4fa;">(</span>comp not zero?<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>0 1 0 2 0 3 0 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
</pre>
</div>

<p>
假設參數是固定的話，我們就可以這樣解:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>f1 f2<span style="color: #aaeecc;">]</span>
    <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>coll<span style="color: #ccaaff;">]</span>
      <span style="color: #ccaaff;">(</span>f1
       <span style="color: #fff59d;">(</span>f2 coll<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
  rest reverse<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 2 3 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
但是因為題目的參數不固定，因此就得換個寫法來解決:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>&amp; funcs<span style="color: #aaeecc;">]</span>
    <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>&amp; args<span style="color: #ccaaff;">]</span>
      <span style="color: #ccaaff;">(</span>first
       <span style="color: #fff59d;">(</span>reduce #<span style="color: #ff8888;">(</span>vector <span style="color: #795548;">(</span>apply <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span><span style="color: #795548;">)</span><span style="color: #ff8888;">)</span> args <span style="color: #ff8888;">(</span>reverse funcs <span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
  rest reverse<span style="color: #81d4fa;">)</span>
 <span style="color: #81d4fa;">[</span>1 2 3 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgb295c97" class="outline-2">
<h2 id="orgb295c97">059: Juxtaposition</h2>
<div class="outline-text-2" id="text-orgb295c97">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/59" target="_blank" rel="external">https://www.4clojure.com/problem/59</a><br>
<br>
<br>
Take a set of functions and return a new function that takes a variable number<br>
of arguments and returns a sequence containing the result of applying each<br>
function left-to-right to the argument list.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>21 6 1<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ + max min<span style="color: #aaccff;">)</span> 2 3 5 1 6 4<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span><span style="color: #aadddd;">"HELLO"</span> 5<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ #<span style="color: #aaeecc;">(</span><span style="color: #ff8888;">.toUpperCase</span> <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> count<span style="color: #aaccff;">)</span> <span style="color: #aadddd;">"hello"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>2 6 4<span style="color: #81d4fa;">]</span>
   <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> 2, <span style="color: #ccaaff;">:b</span> 4, <span style="color: #ccaaff;">:c</span> 6, <span style="color: #ccaaff;">:d</span> 8 <span style="color: #ccaaff;">:e</span> 10<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>juxt</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p059')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p059" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>&amp; op<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>&amp; sep<span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span>map
     #<span style="color: #aaeecc;">(</span>apply <span style="color: #aaccff;">%</span> sep<span style="color: #aaeecc;">)</span> op<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題要我們實作 <a href="https://clojuredocs.org/clojure.core/juxt" target="_blank" rel="external">juxt</a> 的功能，我們先來複習一下:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Extract values from a map, treating keywords as functions.</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>juxt <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2 <span style="color: #ccaaff;">:c</span> 3 <span style="color: #ccaaff;">:d</span> 4<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [1 2]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">"Explode" a value.</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>juxt identity name<span style="color: #81d4fa;">)</span> <span style="color: #ccaaff;">:keyword</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [</span><span style="color: #9ac; font-style: italic;">:keyword</span><span style="color: #9ac; font-style: italic;"> "keyword"]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Get the first character and length of string</span>
<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span>juxt first count<span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"Clojure Rocks"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [\C 13]</span>
</pre>
</div>

<p>
為了可以解決這個問題，我們可以假設只處理一個 運算元 (operator) 的情況要怎樣處理:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>op<span style="color: #aaeecc;">]</span>
    <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>&amp; sep<span style="color: #ccaaff;">]</span>
      <span style="color: #ccaaff;">(</span>apply op sep<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
  +<span style="color: #81d4fa;">)</span> 1 2 3 4 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 15</span>
</pre>
</div>

<p>
接著將他變成一次處理三個運算元 (operator)
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>op1 op2 op3<span style="color: #aaeecc;">]</span>
    <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>&amp; sep<span style="color: #ccaaff;">]</span>
      <span style="color: #ccaaff;">(</span>vector
       <span style="color: #fff59d;">(</span>apply op1 sep<span style="color: #fff59d;">)</span>
       <span style="color: #fff59d;">(</span>apply op2 sep<span style="color: #fff59d;">)</span>
       <span style="color: #fff59d;">(</span>apply op3 sep<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
  + min max<span style="color: #81d4fa;">)</span> 2 3 5 1 6 4<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [21 6 1]</span>
</pre>
</div>

<p>
將程式整理乾淨，答案就出來囉 ~
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>&amp; op<span style="color: #aaeecc;">]</span>
    <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>&amp; sep<span style="color: #ccaaff;">]</span>
      <span style="color: #ccaaff;">(</span>map
       #<span style="color: #fff59d;">(</span>apply <span style="color: #aaccff;">%</span> sep<span style="color: #fff59d;">)</span> op<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
  + min max<span style="color: #81d4fa;">)</span> 1 2 3 4 5<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (15 1 5)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgd29d9ea" class="outline-2">
<h2 id="orgd29d9ea">060: Sequence Reductions</h2>
<div class="outline-text-2" id="text-orgd29d9ea">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/60" target="_blank" rel="external">https://www.4clojure.com/problem/60</a><br>
<br>
Write a function which behaves like reduce, but returns each intermediate value<br>
of the reduction. Your function must accept either two or three arguments, and<br>
the return sequence must be lazy.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>take 5 <span style="color: #aaccff;">(</span>__ + <span style="color: #aaeecc;">(</span>range<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>0 1 3 6 10<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ conj <span style="color: #aaccff;">[</span>1<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>2 3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span>1<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2 3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>last <span style="color: #aaccff;">(</span>__ * 2 <span style="color: #aaeecc;">[</span>3 4 5<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>reduce * 2 <span style="color: #aaccff;">[</span>3 4 5<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> 120<span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>reductions</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p060')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p060" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">reduction*</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">[</span>f <span style="color: #aaeecc;">[</span>p1 &amp; ps<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>reduction* f p1 ps<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">[</span>f p1 <span style="color: #aaeecc;">[</span>p2 &amp; ps<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span>cons p1
         <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">when</span> p2
           <span style="color: #ccaaff;">(</span>lazy-seq <span style="color: #fff59d;">(</span>reduction* f <span style="color: #ff8888;">(</span>f p1 p2<span style="color: #ff8888;">)</span> ps<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題要我們實作 <a href="http://clojuredocs.org/clojure.core/reductions" target="_blank" rel="external">reductions</a> ，讓我們來複習一下他的功能
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reductions + <span style="color: #81d4fa;">[</span>1 1 1 1<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
<span style="color: #aadddd;">(</span>reductions + <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 3 6)</span>
<span style="color: #aadddd;">(</span>reductions conj <span style="color: #81d4fa;">[]</span> '<span style="color: #81d4fa;">(</span>1 2 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ([] [1] [1 2] [1 2 3])</span>
</pre>
</div>

<p>
老實說這題我真的不會解釋，最後使用 <a href="http://clojuredocs.org/clojure.core/lazy-seq" target="_blank" rel="external">lazy-seq</a> 處理掉這一題 (心虛)
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">reduction*</span>
  <span style="color: #aaccff;">(</span><span style="color: #aaeecc;">[</span>f <span style="color: #ccaaff;">[</span>p1 &amp; ps<span style="color: #ccaaff;">]</span><span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span>reduction* f p1 ps<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
  <span style="color: #aaccff;">(</span><span style="color: #aaeecc;">[</span>f p1 <span style="color: #ccaaff;">[</span>p2 &amp; ps<span style="color: #ccaaff;">]</span><span style="color: #aaeecc;">]</span>
   <span style="color: #aaeecc;">(</span>cons p1
         <span style="color: #ccaaff;">(</span><span style="color: #aaffaa;">when</span> p2
           <span style="color: #fff59d;">(</span>lazy-seq <span style="color: #ff8888;">(</span>reduction* f <span style="color: #795548;">(</span>f p1 p2<span style="color: #795548;">)</span> ps<span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 * 2 <span style="color: #81d4fa;">[</span>3 4 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (2 6 24 120)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgcee147f" class="outline-2">
<h2 id="orgcee147f">061: Map Construction</h2>
<div class="outline-text-2" id="text-orgcee147f">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/61" target="_blank" rel="external">https://www.4clojure.com/problem/61</a><br>
<br>
Write a function which takes a vector of keys and a vector of values and<br>
constructs a map from them.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1, <span style="color: #ccaaff;">:b</span> 2, <span style="color: #ccaaff;">:c</span> 3<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3 4<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #aadddd;">"one"</span> <span style="color: #aadddd;">"two"</span> <span style="color: #aadddd;">"three"</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span>
   <span style="color: #81d4fa;">{</span>1 <span style="color: #aadddd;">"one"</span>, 2 <span style="color: #aadddd;">"two"</span>, 3 <span style="color: #aadddd;">"three"</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:foo</span> <span style="color: #ccaaff;">:bar</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #aadddd;">"foo"</span> <span style="color: #aadddd;">"bar"</span> <span style="color: #aadddd;">"baz"</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> 
   <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:foo</span> <span style="color: #aadddd;">"foo"</span>, <span style="color: #ccaaff;">:bar</span> <span style="color: #aadddd;">"bar"</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>zipmap</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p061')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p061" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>apply merge <span style="color: #81d4fa;">(</span>map hash-map <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題想要做到 <a href="https://clojuredocs.org/clojure.core/zipmap" target="_blank" rel="external">zipmap</a> 的功能，照慣例再來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>zipmap <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:e</span><span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span>1 2 3 4 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:e</span><span style="color: #9ac; font-style: italic;"> 5, </span><span style="color: #9ac; font-style: italic;">:d</span><span style="color: #9ac; font-style: italic;"> 4, </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

<p>
看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 與 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，因此我們先使用 map 將各自合併為 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>map hash-map  <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ({</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1} {</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2} {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3})</span>
</pre>
</div>

<p>
接下來再使用 <a href="https://clojuredocs.org/clojure.core/merge" target="_blank" rel="external">merge</a> 的功能將各各 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a> 合併成一個就大功告成了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>apply merge
       <span style="color: #81d4fa;">(</span>map hash-map  <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org70b8dec" class="outline-2">
<h2 id="org70b8dec">062: Re-implement Iterate</h2>
<div class="outline-text-2" id="text-org70b8dec">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/62" target="_blank" rel="external">https://www.4clojure.com/problem/62</a><br>
<br>
Given a side-effect free function f and an initial value x write a function<br>
which returns an infinite lazy sequence of x, (f x), (f (f x)), (f (f (f x))),<br>
etc.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>take 5 <span style="color: #aaccff;">(</span>__ #<span style="color: #aaeecc;">(</span>* 2 <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> 1<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1 2 4 8 16<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>take 100 <span style="color: #aaccff;">(</span>__ inc 0<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>take 100 <span style="color: #aaccff;">(</span>range<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>take 9 <span style="color: #aaccff;">(</span>__ #<span style="color: #aaeecc;">(</span>inc <span style="color: #ccaaff;">(</span>mod <span style="color: #aaccff;">%</span> 3<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span> 1<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span>take 9 <span style="color: #aaccff;">(</span>cycle <span style="color: #aaeecc;">[</span>1 2 3<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>iterate</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p062')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p062" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">it</span> <span style="color: #81d4fa;">[</span>f n<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span>lazy-cat <span style="color: #aaccff;">[</span>n <span style="color: #aaeecc;">(</span>f n<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
            <span style="color: #aaccff;">(</span>map f <span style="color: #aaeecc;">(</span>rest <span style="color: #ccaaff;">(</span>it f n<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
看到了這一題就讓我想到 <a href="#org5be2c97">034: Implement range</a> 這題，這個時候我們使用了 <a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 實
作一個和 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a> 具有相同功能的函式，我們再來實作一次
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">range*</span>
  <span style="color: #81d4fa;">(</span>lazy-cat <span style="color: #aaccff;">[</span>0 1<span style="color: #aaccff;">]</span>
            <span style="color: #aaccff;">(</span>map inc <span style="color: #aaeecc;">(</span>rest range*<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>take 5 range*<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4)</span>
</pre>
</div>

<p>
接著，因為我們遞增的條件不再是 <a href="https://clojuredocs.org/clojure.core/inc" target="_blank" rel="external">inc</a> 而是根據輸入的函式 (function) 來決定遞增的方
法，因此讓我們把這式子先改成函式 (function) 的版本
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">range*</span> <span style="color: #81d4fa;">[</span>n<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span>lazy-cat <span style="color: #aaccff;">[</span>n <span style="color: #aaeecc;">(</span>inc n<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
            <span style="color: #aaccff;">(</span>map inc <span style="color: #aaeecc;">(</span>rest <span style="color: #ccaaff;">(</span>range* n<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>take 5 <span style="color: #81d4fa;">(</span>range* 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4)</span>
</pre>
</div>

<p>
接著加入函式 (function) 作為參數就完成了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">it</span> <span style="color: #81d4fa;">[</span>f n<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span>lazy-cat <span style="color: #aaccff;">[</span>n <span style="color: #aaeecc;">(</span>f n<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
            <span style="color: #aaccff;">(</span>map f <span style="color: #aaeecc;">(</span>rest <span style="color: #ccaaff;">(</span>b f n<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>

<span style="color: #aadddd;">(</span>take 3 <span style="color: #81d4fa;">(</span>it inc 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2)</span>
</pre>
</div>

<p>
於是最後的結果就長這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>take 5
      <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>f n<span style="color: #aaeecc;">]</span>
         <span style="color: #aaeecc;">(</span>lazy-cat <span style="color: #ccaaff;">[</span>n <span style="color: #fff59d;">(</span>f n<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">]</span>
                   <span style="color: #ccaaff;">(</span>map f <span style="color: #fff59d;">(</span>rest <span style="color: #ff8888;">(</span>b f n<span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
       inc 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-org79d6465" class="outline-2">
<h2 id="org79d6465">065: Black Box Testing</h2>
<div class="outline-text-2" id="text-org79d6465">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/65" target="_blank" rel="external">https://www.4clojure.com/problem/65</a><br>
<br>
Clojure has many sequence types, which act in subtly different ways. The core<br>
functions typically convert them into a uniform "sequence" type and work with<br>
them that way, but it can be important to understand the behavioral and<br>
performance differences so that you know which kind is appropriate for your<br>
application.<br>
<br>
Write a function which takes a collection and returns one of :map, :set, :list,<br>
or :vector - describing the type of collection it was given. You won't be<br>
allowed to inspect their class or use the built-in predicates like list? - the<br>
point is to poke at them and understand their behavior.<br>
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">:map</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> 1, <span style="color: #ccaaff;">:b</span> 2<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">:list</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span>range <span style="color: #aaeecc;">(</span>rand-int 20<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">:vector</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3 4 5 6<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">:set</span> <span style="color: #81d4fa;">(</span>__ #<span style="color: #aaccff;">{</span>10 <span style="color: #aaeecc;">(</span>rand-int 5<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:map</span> <span style="color: #ccaaff;">:set</span> <span style="color: #ccaaff;">:vector</span> <span style="color: #ccaaff;">:list</span><span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span>map __ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">{}</span> #<span style="color: #aaeecc;">{}</span> <span style="color: #aaeecc;">[]</span> <span style="color: #aaeecc;">()</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>class</li>
<li>type</li>
<li>Class</li>
<li>vector?</li>
<li>sequential?</li>
<li>list?</li>
<li>seq?</li>
<li>map?</li>
<li>set?</li>
<li>instance?</li>
<li>getClass</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p065')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p065" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">cond</span>
    <span style="color: #81d4fa;">(</span>= <span style="color: #aaccff;">(</span>into <span style="color: #aaeecc;">[]</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">(</span>reversible? <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #ccaaff;">:vector</span> <span style="color: #ccaaff;">:list</span><span style="color: #81d4fa;">)</span>
    <span style="color: #81d4fa;">(</span>= <span style="color: #aaccff;">(</span>into #<span style="color: #aaeecc;">{}</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span> <span style="color: #ccaaff;">:set</span>
    <span style="color: #81d4fa;">(</span>= <span style="color: #aaccff;">(</span>into <span style="color: #aaeecc;">{}</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span> <span style="color: #ccaaff;">:map</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題真的很誇張，禁止了這麼多東西 XD
</p>

<p>
在 clojure 中，vector 和 list 很像，但是 vector 有實作 <a href="https://github.com/clojure/clojure/blob/master/src/jvm/clojure/lang/Reversible.java" target="_blank" rel="external">Reversible</a> 的接口，
以使用 <a href="https://clojuredocs.org/clojure.core/reversible_q" target="_blank" rel="external">reversible?</a> 去找出到底是 list 還是 vector。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reversible? <span style="color: #81d4fa;">[]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span>reversible? <span style="color: #81d4fa;">(</span>sorted-map<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span>reversible? <span style="color: #81d4fa;">(</span>sorted-set<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span>reversible? '<span style="color: #81d4fa;">()</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
<span style="color: #aadddd;">(</span>reversible? <span style="color: #81d4fa;">{}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
<span style="color: #aadddd;">(</span>reversible? #<span style="color: #81d4fa;">{}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
因此整個程式這樣解就好
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">cond</span>
    <span style="color: #aaccff;">(</span>= <span style="color: #aaeecc;">(</span>into <span style="color: #ccaaff;">[]</span> <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaeecc;">(</span>reversible? <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> <span style="color: #ccaaff;">:vector</span> <span style="color: #ccaaff;">:list</span><span style="color: #aaccff;">)</span>
    <span style="color: #aaccff;">(</span>= <span style="color: #aaeecc;">(</span>into #<span style="color: #ccaaff;">{}</span> <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #ccaaff;">:set</span>
    <span style="color: #aaccff;">(</span>= <span style="color: #aaeecc;">(</span>into <span style="color: #ccaaff;">{}</span> <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span> <span style="color: #ccaaff;">:map</span><span style="color: #81d4fa;">)</span>
 '<span style="color: #81d4fa;">(</span>1 2<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org60b73c7" class="outline-2">
<h2 id="org60b73c7">068: Recurring Theme</h2>
<div class="outline-text-2" id="text-org60b73c7">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/68" target="_blank" rel="external">https://www.4clojure.com/problem/68</a><br>
<br>
Clojure only has one non-stack-consuming looping construct: recur. Either a<br>
function or a loop can be used as the recursion point. Either way, recur rebinds<br>
the bindings of the recursion point to the values it is passed. Recur must be<br>
called from the tail-position, and calling it elsewhere will result in an error.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __
   <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">loop</span> <span style="color: #aaccff;">[</span>x 5
          result <span style="color: #aaeecc;">[]</span><span style="color: #aaccff;">]</span>
     <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaeecc;">(</span>&gt; x 0<span style="color: #aaeecc;">)</span>
       <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">recur</span> <span style="color: #ccaaff;">(</span>dec x<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>conj result <span style="color: #fff59d;">(</span>+ 2 x<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
       result<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p068')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p068" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span>7 6 5 4 3<span style="color: #aadddd;">]</span>
</pre>
</div>
</blockquote>

<p>
這題主要在講 clojure 的 <a href="http://clojuredocs.org/clojure.core/loop" target="_blank" rel="external">loop</a> 以及 <a href="http://clojuredocs.org/clojure.core/recur" target="_blank" rel="external">recur</a> 的使用，讓我們來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">loop</span> <span style="color: #81d4fa;">[</span>x 10<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">when</span> <span style="color: #aaccff;">(</span>&gt; x 1<span style="color: #aaccff;">)</span>
    <span style="color: #aaccff;">(</span>println x<span style="color: #aaccff;">)</span>
    <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">recur</span> <span style="color: #aaeecc;">(</span>- x 2<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; 10 8 6 4 2</span>

<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">loop</span> <span style="color: #81d4fa;">[</span>iter 1
       acc  0<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">(</span>&gt; iter 10<span style="color: #aaccff;">)</span>
    <span style="color: #aaccff;">(</span>println acc<span style="color: #aaccff;">)</span>
    <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">recur</span> <span style="color: #aaeecc;">(</span>inc iter<span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>+ acc iter<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 55</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">sum from 1 to 10</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org3745add" class="outline-2">
<h2 id="org3745add">070: Word Sorting</h2>
<div class="outline-text-2" id="text-org3745add">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/70" target="_blank" rel="external">https://www.4clojure.com/problem/70</a><br>
<br>
Write a function that splits a sentence up into a sorted list of words.<br>
Capitalization should not affect sort order and punctuation should be ignored.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__  <span style="color: #aadddd;">"Have a nice day."</span><span style="color: #81d4fa;">)</span>
   <span style="color: #81d4fa;">[</span><span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"day"</span> <span style="color: #aadddd;">"Have"</span> <span style="color: #aadddd;">"nice"</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__  <span style="color: #aadddd;">"Clojure is a fun language!"</span><span style="color: #81d4fa;">)</span>
   <span style="color: #81d4fa;">[</span><span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"Clojure"</span> <span style="color: #aadddd;">"fun"</span> <span style="color: #aadddd;">"is"</span> <span style="color: #aadddd;">"language"</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__  <span style="color: #aadddd;">"Fools fall for foolish follies."</span><span style="color: #81d4fa;">)</span>
   <span style="color: #81d4fa;">[</span><span style="color: #aadddd;">"fall"</span> <span style="color: #aadddd;">"follies"</span> <span style="color: #aadddd;">"foolish"</span> <span style="color: #aadddd;">"Fools"</span> <span style="color: #aadddd;">"for"</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p070')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p070" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>sort-by <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>w<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span><span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>lower-case w<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
          <span style="color: #81d4fa;">(</span>re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\w</span><span style="color: #aadddd;">+"</span> <span style="color: #aaccff;">%</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題很明顯就是 <a href="https://clojuredocs.org/clojure.core/sort-by" target="_blank" rel="external">sort-by</a> 的應用，我們首先先使用 <a href="https://clojuredocs.org/clojure.core/re-seq" target="_blank" rel="external">re-seq</a> 去將文字 (word) 切割出來
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\w</span><span style="color: #aadddd;">+"</span> <span style="color: #aadddd;">"Have a nice day!!!"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("Have" "a" "nice" "day")</span>
</pre>
</div>

<p>
接下來就可以使用 <a href="https://clojuredocs.org/clojure.core/sort-by" target="_blank" rel="external">sort-by</a> 進行排序
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>sort-by <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>w<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span><span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>lower-case w<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
           <span style="color: #aaccff;">(</span>re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\w</span><span style="color: #aadddd;">+"</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #aadddd;">"Fools fall for foolish follies."</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("fall" "follies" "foolish" "Fools" "for")</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org197235d" class="outline-2">
<h2 id="org197235d">071: Rearranging Code: -&gt;</h2>
<div class="outline-text-2" id="text-org197235d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/71" target="_blank" rel="external">https://www.4clojure.com/problem/71</a><br>
<br>
The -&gt; macro threads an expression x through a variable number of forms. First,<br>
x is inserted as the second item in the first form, making a list of it if it is<br>
not a list already. Then the first form is inserted as the second item in the<br>
second form, making a list of that form if necessary. This process continues for<br>
all the forms. Using -&gt; can sometimes make your code more readable.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span>sort <span style="color: #aaeecc;">(</span>rest <span style="color: #ccaaff;">(</span>reverse <span style="color: #fff59d;">[</span>2 5 4 1 3 6<span style="color: #fff59d;">]</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">-&gt;</span> <span style="color: #aaccff;">[</span>2 5 4 1 3 6<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>reverse<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>rest<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>sort<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>__<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 5<span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p071')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p071" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">last
</pre>
</div>
</blockquote>

<p>
clojure 的 <a href="http://clojuredocs.org/clojure.core/-%3E" target="_blank" rel="external">-&gt;</a> 可以讓整個語法變得更簡潔，我們先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Use of `</span><span style="color: #ccaaff; font-style: italic;">-&gt;</span><span style="color: #9ac; font-style: italic;">` (the "thread-first" macro) can help make code</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">more readable by removing nesting. It can be especially</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">useful when using host methods:</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Arguably a bit cumbersome to read:</span>
<span style="color: #aadddd;">(</span>first <span style="color: #81d4fa;">(</span><span style="color: #ff8888;">.split</span> <span style="color: #aaccff;">(</span><span style="color: #ff8888;">.replace</span> <span style="color: #aaeecc;">(</span><span style="color: #ff8888;">.toUpperCase</span> <span style="color: #aadddd;">"a b c d"</span><span style="color: #aaeecc;">)</span> <span style="color: #aadddd;">"A"</span> <span style="color: #aadddd;">"X"</span><span style="color: #aaccff;">)</span> <span style="color: #aadddd;">" "</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "X"</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Perhaps easier to read:</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">-&gt;</span> <span style="color: #aadddd;">"a b c d"</span>
    <span style="color: #ff8888;">.toUpperCase</span>
    <span style="color: #81d4fa;">(</span><span style="color: #ff8888;">.replace</span> <span style="color: #aadddd;">"A"</span> <span style="color: #aadddd;">"X"</span><span style="color: #81d4fa;">)</span>
    <span style="color: #81d4fa;">(</span><span style="color: #ff8888;">.split</span> <span style="color: #aadddd;">" "</span><span style="color: #81d4fa;">)</span>
    first<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "X"</span>
</pre>
</div>

<p>
而這題告訴我們最終答案會是 <code>5</code> ，因此我們就可以找出 <code>__</code> 的部分要填入什麼樣的答案
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">-&gt;</span> <span style="color: #81d4fa;">[</span>2 5 4 1 3 6<span style="color: #81d4fa;">]</span>
    <span style="color: #81d4fa;">(</span>reverse<span style="color: #81d4fa;">)</span>    <span style="color: #9ac; font-style: italic;">; =&gt; (6 3 1 4 5 2)</span>
    <span style="color: #81d4fa;">(</span>rest<span style="color: #81d4fa;">)</span>       <span style="color: #9ac; font-style: italic;">; =&gt; (3 1 4 5 2)</span>
    <span style="color: #81d4fa;">(</span>sort<span style="color: #81d4fa;">)</span>       <span style="color: #9ac; font-style: italic;">; =&gt; (1 2 3 4 5)</span>
    <span style="color: #81d4fa;">(</span>last<span style="color: #81d4fa;">)</span>       <span style="color: #9ac; font-style: italic;">; =&gt; 5</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org088235a" class="outline-2">
<h2 id="org088235a">072: Rearranging Code: -&gt;&gt;</h2>
<div class="outline-text-2" id="text-org088235a">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/72" target="_blank" rel="external">https://www.4clojure.com/problem/72</a><br>
<br>
The -&gt;&gt; macro threads an expression x through a variable number of forms. First,<br>
x is inserted as the last item in the first form, making a list of it if it is<br>
not a list already. Then the first form is inserted as the last item in the<br>
second form, making a list of that form if necessary. This process continues for<br>
all the forms. Using -&gt;&gt; can sometimes make your code more readable.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span>map inc <span style="color: #aaeecc;">(</span>take 3 <span style="color: #ccaaff;">(</span>drop 2 <span style="color: #fff59d;">[</span>2 5 4 1 3 6<span style="color: #fff59d;">]</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
   <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> <span style="color: #aaccff;">[</span>2 5 4 1 3 6<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>drop 2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>take 3<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>map inc<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>__<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
   11<span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p072')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p072" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">reduce +
</pre>
</div>
</blockquote>

<p>
clojure 的 <a href="http://clojuredocs.org/clojure.core/-%3E%3E" target="_blank" rel="external">-&gt;&gt;</a> 可以讓整個語法變得更簡潔，我們先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">An example of using the "thread-last" macro to get</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">the sum of the first 10 even squares.</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> <span style="color: #81d4fa;">(</span>range<span style="color: #81d4fa;">)</span>
     <span style="color: #81d4fa;">(</span>map #<span style="color: #aaccff;">(</span>* <span style="color: #aaccff;">%</span> <span style="color: #aaccff;">%</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
     <span style="color: #81d4fa;">(</span>filter even?<span style="color: #81d4fa;">)</span>
     <span style="color: #81d4fa;">(</span>take 10<span style="color: #81d4fa;">)</span>
     <span style="color: #81d4fa;">(</span>reduce +<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1140</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">This expands to:</span>
<span style="color: #aadddd;">(</span>reduce +
        <span style="color: #81d4fa;">(</span>take 10
              <span style="color: #aaccff;">(</span>filter even?
                      <span style="color: #aaeecc;">(</span>map #<span style="color: #ccaaff;">(</span>* <span style="color: #aaccff;">%</span> <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span>
                           <span style="color: #ccaaff;">(</span>range<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1140</span>
</pre>
</div>

<p>
而這題告訴我們最終答案會是 <code>11</code> ，因此我們就可以找出 <code>__</code> 的部分要填入什麼樣的答案
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> <span style="color: #81d4fa;">[</span>2 5 4 1 3 6<span style="color: #81d4fa;">]</span>
     <span style="color: #81d4fa;">(</span>drop 2<span style="color: #81d4fa;">)</span>     <span style="color: #9ac; font-style: italic;">; =&gt; [4 1 3 6]</span>
     <span style="color: #81d4fa;">(</span>take 3<span style="color: #81d4fa;">)</span>     <span style="color: #9ac; font-style: italic;">; =&gt; [4 1 3]</span>
     <span style="color: #81d4fa;">(</span>map inc<span style="color: #81d4fa;">)</span>    <span style="color: #9ac; font-style: italic;">; =&gt; [5 2 4]</span>
     <span style="color: #81d4fa;">(</span>reduce +<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>  <span style="color: #9ac; font-style: italic;">; =&gt; 11</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>



<div id="outline-container-orgf5e9d4d" class="outline-2">
<h2 id="orgf5e9d4d">083: A Half-Truth</h2>
<div class="outline-text-2" id="text-orgf5e9d4d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/83" target="_blank" rel="external">https://www.4clojure.com/problem/83</a><br>
<br>
Write a function which takes a variable number of booleans. Your function should<br>
return true if some of the parameters are true, but not all of the parameters<br>
are true. Otherwise your function should return false.<br>
</p>

<div class="row "><div class="col-md-6 ">
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">false</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">false</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">false</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">true</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-6">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">false</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p083')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p083" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>&amp; coll<span style="color: #81d4fa;">]</span>
   <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">and</span>
        <span style="color: #aaeecc;">(</span>some true? coll<span style="color: #aaeecc;">)</span>
        <span style="color: #aaeecc;">(</span>some false? coll<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
     <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
從題目來看，此題要求寫出一個函式 (function) 並判斷參數中是否至少有一個 <code>true</code> 以
及 <code>false</code> ，因此我們可以使用 <a href="https://clojuredocs.org/clojure.core/some" target="_blank" rel="external">some</a> 來解決這一個題目
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>&amp; coll<span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">and</span>
        <span style="color: #aaeecc;">(</span>some true? coll<span style="color: #aaeecc;">)</span>
        <span style="color: #aaeecc;">(</span>some false? coll<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
  <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">true</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

<p>
但是這樣的解法有一個問題就是，如果傳送的序列 (sequence) 缺少了 <code>true</code> 或 <code>false</code>
，則我們會得到 <code>nil</code> 的結果
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>&amp; coll<span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">and</span>
        <span style="color: #aaeecc;">(</span>some true? coll<span style="color: #aaeecc;">)</span>
        <span style="color: #aaeecc;">(</span>some false? coll<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
  <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; nil</span>
</pre>
</div>

<p>
為了解決這個問題，我們使用 <a href="https://clojuredocs.org/clojure.core/if" target="_blank" rel="external">if</a> ， 在 clojure 中 <code>false</code> 和 <code>nil</code> 都是邏輯上的
<code>false</code> ，因此我們就可以這樣解決此題
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>&amp; coll<span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">and</span>
        <span style="color: #ccaaff;">(</span>some true? coll<span style="color: #ccaaff;">)</span>
        <span style="color: #ccaaff;">(</span>some false? coll<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
     <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>

 <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgf029caa" class="outline-2">
<h2 id="orgf029caa">088: Symmetric Difference</h2>
<div class="outline-text-2" id="text-orgf029caa">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/88" target="_blank" rel="external">https://www.4clojure.com/problem/88</a><br>
<br>
Write a function which returns the symmetric difference of two sets. The<br>
symmetric difference is the set of items belonging to one but not both of the<br>
two sets.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ #<span style="color: #aaccff;">{</span>1 2 3 4 5 6<span style="color: #aaccff;">}</span> #<span style="color: #aaccff;">{</span>1 3 5 7<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span> #<span style="color: #81d4fa;">{</span>2 4 6 7<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ #<span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">}</span> #<span style="color: #aaccff;">{}</span><span style="color: #81d4fa;">)</span> #<span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ #<span style="color: #aaccff;">{}</span> #<span style="color: #aaccff;">{</span>4 5 6<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span> #<span style="color: #81d4fa;">{</span>4 5 6<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ #<span style="color: #aaccff;">{</span><span style="color: #aaeecc;">[</span>1 2<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>2 3<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">}</span> #<span style="color: #aaccff;">{</span><span style="color: #aaeecc;">[</span>2 3<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 4<span style="color: #aaeecc;">]</span><span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span> #<span style="color: #81d4fa;">{</span><span style="color: #aaccff;">[</span>1 2<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p088')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p088" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>union
  <span style="color: #81d4fa;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>difference <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #81d4fa;">)</span>
  <span style="color: #81d4fa;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>difference <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題可以用數學的觀念來解決，clojure 提供了 <a href="https://clojuredocs.org/clojure.set/difference" target="_blank" rel="external">clojure.set/difference</a> 來找出第二個
參數和第一個參數不同的地方:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>difference <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #81d4fa;">)</span>
 #<span style="color: #81d4fa;">{</span>1 2 3 4 5 6<span style="color: #81d4fa;">}</span> #<span style="color: #81d4fa;">{</span>1 3 5 7<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt;  #{4 6 2}</span>

<span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>difference <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span><span style="color: #81d4fa;">)</span>
 #<span style="color: #81d4fa;">{</span>1 2 3 4 5 6<span style="color: #81d4fa;">}</span> #<span style="color: #81d4fa;">{</span>1 3 5 7<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{7}</span>
</pre>
</div>

<p>
因此我們只要對這兩種結果使用 <a href="https://clojuredocs.org/clojure.set/union" target="_blank" rel="external">clojure.set/union</a> 進行聯集即可
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>union
   <span style="color: #aaccff;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>difference <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span>
   <span style="color: #aaccff;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>difference <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 #<span style="color: #81d4fa;">{</span>1 2 3 4 5 6<span style="color: #81d4fa;">}</span> #<span style="color: #81d4fa;">{</span>1 3 5 7<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{7 4 6 2}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgb05d20d" class="outline-2">
<h2 id="orgb05d20d">099: Product Digits</h2>
<div class="outline-text-2" id="text-orgb05d20d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/99" target="_blank" rel="external">https://www.4clojure.com/problem/99</a><br>
<br>
Write a function which multiplies two numbers and returns the result as a<br>
sequence of its digits.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 1 1<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>1<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 99 9<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>8 9 1<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 999 99<span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span>9 8 9 0 1<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p099')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p099" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>a b<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span>map #<span style="color: #aaccff;">(</span><span style="color: #fff59d;">Integer</span><span style="color: #000000; background-color: #ffffff;">/</span><span style="color: #ff8888;">parseInt</span> <span style="color: #aaeecc;">(</span>str <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>  <span style="color: #aaccff;">(</span>str <span style="color: #aaeecc;">(</span>* a b<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題用比較 tricky 的解法，我們先使用 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 將字串切成字串序列 (sequence)，接下來透
過 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29" target="_blank" rel="external">Integer/parseInt</a> 將每個字串轉換成數值
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>map str <span style="color: #aadddd;">"891"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("8" "9" "1")</span>

<span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>a b<span style="color: #aaccff;">]</span>
  <span style="color: #aaccff;">(</span>map #<span style="color: #aaeecc;">(</span><span style="color: #fff59d;">Integer</span><span style="color: #000000; background-color: #ffffff;">/</span><span style="color: #ff8888;">parseInt</span> <span style="color: #ccaaff;">(</span>str <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>  <span style="color: #aaeecc;">(</span>str <span style="color: #ccaaff;">(</span>* a b<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 99 9<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (8 9 1)</span>
</pre>
</div>

<p>
如果你不想使用 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29" target="_blank" rel="external">Integer/parseInt</a> 來解決這問題，你也可以這樣作
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>x y<span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span>map  #<span style="color: #aaeecc;">(</span>- <span style="color: #ccaaff;">(</span>int <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>int <span style="color: #aadddd;">\0</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
         <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">-&gt;</span> <span style="color: #ccaaff;">(</span>* x y<span style="color: #ccaaff;">)</span>   <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 891</span>
             <span style="color: #ccaaff;">(</span>str<span style="color: #ccaaff;">)</span>     <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "891"</span>
             <span style="color: #ccaaff;">(</span>seq<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>    <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (\8 \9 \1)</span>
         <span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 99 9<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (8 9 1)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-orgb0af4ac" class="outline-2">
<h2 id="orgb0af4ac">095: To Tree, or not to Tree</h2>
<div class="outline-text-2" id="text-orgb0af4ac">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/95" target="_blank" rel="external">https://www.4clojure.com/problem/95</a><br>
<br>
Write a predicate which checks whether or not a given sequence represents a<br>
<a href="http://en.wikipedia.org/wiki/Binary_tree" target="_blank" rel="external">binary tree</a>. Each node in the tree must have a value, a left child, and a right<br>
child.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #aaeecc;">(</span><span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaeecc;">)</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #ccaaff;">true</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #aaeecc;">(</span><span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 <span style="color: #ccaaff;">nil</span> <span style="color: #aaeecc;">[</span>2 <span style="color: #ccaaff;">[</span>3 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">[</span>4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #ccaaff;">]</span><span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span>
 <span style="color: #ccaaff;">true</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 <span style="color: #aaeecc;">[</span>2 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>3 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">[</span>4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaeecc;">]</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span>
 <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 <span style="color: #aaeecc;">[</span>2 <span style="color: #ccaaff;">[</span>3 <span style="color: #fff59d;">[</span>4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #fff59d;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaeecc;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span>
 <span style="color: #ccaaff;">true</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 <span style="color: #aaeecc;">[</span>2 <span style="color: #ccaaff;">[</span>3 <span style="color: #fff59d;">[</span>4 <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">nil</span><span style="color: #fff59d;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaeecc;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span>
 <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ '<span style="color: #aaccff;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> <span style="color: #aaeecc;">()</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p095')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p095" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">btree?</span> <span style="color: #81d4fa;">[</span>root<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">or</span> <span style="color: #aaccff;">(</span>nil? root<span style="color: #aaccff;">)</span>
      <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">and</span> <span style="color: #aaeecc;">(</span>sequential? root<span style="color: #aaeecc;">)</span>
           <span style="color: #aaeecc;">(</span>= 3 <span style="color: #ccaaff;">(</span>count root<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
           <span style="color: #aaeecc;">(</span>every? btree? <span style="color: #ccaaff;">(</span>rest root<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
題目要我們找出題目提供的序列(sequence)是否為<a href="http://www.csie.ntnu.edu.tw/~u91029/BinaryTree.html" target="_blank" rel="external">二元樹(binary tree)</a>。
</p>

<p>
以題目內的其中一項為例:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span>1 <span style="color: #81d4fa;">[</span>2 <span style="color: #aaccff;">[</span>3 <span style="color: #aaeecc;">[</span>4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaeecc;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaccff;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #81d4fa;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #aadddd;">]</span>
</pre>
</div>

<p>
他是二元樹，其樹則長成這樣:
</p>

<div class="org-src-container">
<pre class="src src-latex"><span style="color: #aaffaa;">\usetikzlibrary</span>{decorations, decorations.text,backgrounds}
<span style="color: #aaffaa;">\begin</span>{<span style="color: #aaccff;">tikzpicture</span>}[background rectangle/.style={fill=white}, show background rectangle]
  <span style="color: #aaffaa;">\node</span> [circle,draw]{1}  [level distance=10mm,sibling distance=25mm]
  child {
    node [circle,draw]{2} [level distance=10mm ,sibling distance=15mm]
    child {
      node [circle,draw]{3} [level distance=10mm ,sibling distance=15mm]
      child { node [circle,draw]{4} [level distance=10mm ,sibling distance=15mm]
        child {node [circle,draw] {nil}}
        child {node [circle,draw] {nil}}
      }
      child {node [circle,draw] {nil}}
    }
    child {node [circle,draw] {nil}}
  }
  child {node [circle,draw] {nil}}
<span style="color: #aaffaa;">\end</span>{<span style="color: #aaccff;">tikzpicture</span>}
</pre>
</div>

<p>
也因此，除了透過 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequencial?</a> 去判斷目標是否為序列(sequence) 外，我們也需要去檢測目標是否滿足題目的條件:
</p>

<ol class="org-ol">
<li>Full binary tree: 此二元樹 <b>必定</b> 有左右節點</li>
<li>承上，也因此每個節點共有三個元數</li>
</ol>

<p>
透過這樣的概念，我們就可以用遞回的方式不斷查找這棵樹的內容
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">btree?</span> <span style="color: #aaccff;">[</span>root<span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">or</span> <span style="color: #aaeecc;">(</span>nil? root<span style="color: #aaeecc;">)</span>
       <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">and</span> <span style="color: #ccaaff;">(</span>sequential? root<span style="color: #ccaaff;">)</span>
            <span style="color: #ccaaff;">(</span>= 3 <span style="color: #fff59d;">(</span>count root<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span>
            <span style="color: #ccaaff;">(</span>every? btree? <span style="color: #fff59d;">(</span>rest root<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>

 <span style="color: #81d4fa;">[</span>1 <span style="color: #aaccff;">[</span>2 <span style="color: #aaeecc;">[</span>3 <span style="color: #ccaaff;">[</span>4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span><span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaeecc;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #aaccff;">]</span> <span style="color: #ccaaff;">nil</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org4036235" class="outline-2">
<h2 id="org4036235">102: intoCamelCase</h2>
<div class="outline-text-2" id="text-org4036235">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/102" target="_blank" rel="external">https://www.4clojure.com/problem/102</a><br>
<br>
When working with java, you often need to create an object with fieldsLikeThis,<br>
but you'd rather work with a hashmap that has :keys-like-this until it's time to<br>
convert. Write a function which takes lower-case hyphen-separated strings and<br>
converts them to camel-case strings.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"something"</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"something"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"multi-word-key"</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"multiWordKey"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"leaveMeAlone"</span><span style="color: #81d4fa;">)</span> <span style="color: #aadddd;">"leaveMeAlone"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p102')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p102" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span>x &amp; xs<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span><span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>split <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-"</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> <span style="color: #aaccff;">(</span>cons x <span style="color: #aaeecc;">(</span>map <span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>capitalize xs<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
       <span style="color: #aaccff;">(</span>apply str<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題我最初的想法是使用 <a href="http://clojuredocs.org/clojure.string/split" target="_blank" rel="external">split</a> 將字串依據 <code>-</code> 來進行切割，並將切割出來的序列
(sequence) 除了第一項以外其他都使用 <a href="http://clojuredocs.org/clojure.string/capitalize" target="_blank" rel="external">capitalize</a> 將其轉換成首字大寫的狀況，因此最
初雛形如下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>apply str
         <span style="color: #aaccff;">(</span>concat <span style="color: #aaeecc;">(</span>first <span style="color: #ccaaff;">(</span><span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>split <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-"</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
                 <span style="color: #aaeecc;">(</span>map <span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>capitalize
                      <span style="color: #ccaaff;">(</span>drop 1 <span style="color: #fff59d;">(</span><span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>split <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-"</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #aadddd;">"multi-word-key"</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<p>
將程式碼整理一下後就變成這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>x &amp; xs<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span><span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>split <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-"</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> <span style="color: #aaeecc;">(</span>cons x <span style="color: #ccaaff;">(</span>map <span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>capitalize xs<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
         <span style="color: #aaeecc;">(</span>apply str<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #aadddd;">"multi-word-key"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "multiWordKey"</span>
</pre>
</div>

<p>
這題如果是用正規表達式進行搜尋取代，則可以得到更簡單的答案
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #fff59d;">clojure.string</span><span style="color: #000000; background-color: #ffffff;">/</span>replace <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-."</span> <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span><span style="color: #ccaaff;">[</span>_ x<span style="color: #ccaaff;">]</span><span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span>format <span style="color: #aadddd;">"%S"</span> x<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #aadddd;">"multi-word-key"</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "multiWordKey"</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-org7af7e95" class="outline-2">
<h2 id="org7af7e95">105: Identify keys and values</h2>
<div class="outline-text-2" id="text-org7af7e95">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/105" target="_blank" rel="external">https://www.4clojure.com/problem/105</a><br>
<br>
Given an input sequence of keywords and numbers, create a map such that each key<br>
in the map is a keyword, and the value is a sequence of all the numbers (if any)<br>
between it and the next keyword in the sequence.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">{}</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #aaccff;">[</span>1<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">}</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> 1<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #aaccff;">[</span>1<span style="color: #aaccff;">]</span>, <span style="color: #ccaaff;">:b</span> <span style="color: #aaccff;">[</span>2<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">}</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> 1, <span style="color: #ccaaff;">:b</span> 2<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span>, <span style="color: #ccaaff;">:b</span> <span style="color: #aaccff;">[]</span>, <span style="color: #ccaaff;">:c</span> <span style="color: #aaccff;">[</span>4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">}</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p105')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p105" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>m<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> m
       <span style="color: #aaccff;">(</span>interpose <span style="color: #aaeecc;">[]</span><span style="color: #aaccff;">)</span>
       <span style="color: #aaccff;">(</span>partition-by keyword?<span style="color: #aaccff;">)</span>
       <span style="color: #aaccff;">(</span>partition 2<span style="color: #aaccff;">)</span>
       <span style="color: #aaccff;">(</span>map flatten<span style="color: #aaccff;">)</span>
       <span style="color: #aaccff;">(</span>map #<span style="color: #aaeecc;">(</span>hash-map <span style="color: #ccaaff;">(</span>first <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>vec <span style="color: #fff59d;">(</span>drop 1 <span style="color: #aaccff;">%</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
       <span style="color: #aaccff;">(</span>into <span style="color: #aaeecc;">{}</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這問題一開始讓我想到的是使用 <a href="http://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a> 來對所有的 <a href="http://clojuredocs.org/clojure.core/keyword_q" target="_blank" rel="external">keyword?</a> 進行切割，就像這樣子
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>partition-by keyword? <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> 2<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">) (2))</span>
</pre>
</div>

<p>
於是我們就可以以此數據作為基準，做出我們的雛形
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> 2<span style="color: #81d4fa;">]</span>
     <span style="color: #81d4fa;">(</span>partition-by keyword?<span style="color: #81d4fa;">)</span>  <span style="color: #9ac; font-style: italic;">; =&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">) (2))</span>
     <span style="color: #81d4fa;">(</span>partition 2<span style="color: #81d4fa;">)</span>            <span style="color: #9ac; font-style: italic;">; =&gt; (((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3)) ((</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">) (2)))</span>
     <span style="color: #81d4fa;">(</span>map flatten<span style="color: #81d4fa;">)</span>            <span style="color: #9ac; font-style: italic;">; =&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2))</span>
     <span style="color: #81d4fa;">(</span>map #<span style="color: #aaccff;">(</span>hash-map <span style="color: #aaeecc;">(</span>first <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>into <span style="color: #ccaaff;">[]</span> <span style="color: #ccaaff;">(</span>drop 1 <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
     <span style="color: #81d4fa;">(</span>into <span style="color: #aaccff;">{}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> [1 2 3], </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> [2]}</span>
</pre>
</div>

<p>
但是如果你覺得這樣就是答案的話，那你就錯了，因為測試條件四的輸入會變成這樣的結果
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4<span style="color: #81d4fa;">]</span>
     <span style="color: #81d4fa;">(</span>partition-by keyword?<span style="color: #81d4fa;">)</span> <span style="color: #9ac; font-style: italic;">; =&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">) (4))</span>
     <span style="color: #81d4fa;">(</span>partition 2<span style="color: #81d4fa;">)</span>           <span style="color: #9ac; font-style: italic;">; =&gt; (((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3)) ((</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">) (4)))</span>
     <span style="color: #81d4fa;">(</span>map flatten<span style="color: #81d4fa;">)</span>           <span style="color: #9ac; font-style: italic;">; =&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 4))</span>
     <span style="color: #81d4fa;">(</span>map #<span style="color: #aaccff;">(</span>hash-map <span style="color: #aaeecc;">(</span>first <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>into <span style="color: #ccaaff;">[]</span> <span style="color: #ccaaff;">(</span>drop 1 <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
     <span style="color: #81d4fa;">(</span>into <span style="color: #aaccff;">{}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ({</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> [1 2 3]} {</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> [</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 4]})</span>
</pre>
</div>

<p>
為了解決這個問題，我們要想辦法把輸入變成下面這樣的情況，這樣在使用 <a href="http://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a>
時就不會出錯
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">[</span><span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4<span style="color: #aadddd;">]</span>  =&gt; <span style="color: #aadddd;">[</span><span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #81d4fa;">[]</span> <span style="color: #ccaaff;">:c</span> 4<span style="color: #aadddd;">]</span>
</pre>
</div>

<p>
但是為了解決這問題實在麻煩，索性使用 <a href="http://clojuredocs.org/clojure.core/interpose" target="_blank" rel="external">interpose</a> 在每個元素旁邊都加入空向量 (vector) 即可
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>interpose <span style="color: #81d4fa;">[]</span> <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span> 
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> [] 1 [] 2 [] 3 [] </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> [] </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> [] 4)</span>
</pre>
</div>

<p>
於是我們最後的答案就出來了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>coll<span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">-&gt;&gt;</span> coll
        <span style="color: #aaeecc;">(</span>interpose <span style="color: #ccaaff;">[]</span><span style="color: #aaeecc;">)</span>
        <span style="color: #aaeecc;">(</span>partition-by keyword?<span style="color: #aaeecc;">)</span>
        <span style="color: #aaeecc;">(</span>partition 2<span style="color: #aaeecc;">)</span>
        <span style="color: #aaeecc;">(</span>map flatten<span style="color: #aaeecc;">)</span>
        <span style="color: #aaeecc;">(</span>map #<span style="color: #ccaaff;">(</span>hash-map <span style="color: #fff59d;">(</span>first <span style="color: #aaccff;">%</span><span style="color: #fff59d;">)</span> <span style="color: #fff59d;">(</span>into <span style="color: #ff8888;">[]</span> <span style="color: #ff8888;">(</span>drop 1 <span style="color: #aaccff;">%</span><span style="color: #ff8888;">)</span><span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
        <span style="color: #aaeecc;">(</span>into <span style="color: #ccaaff;">{}</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> [1 2 3], </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> [], </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> [4]}</span>
</pre>
</div>



</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>
<div id="outline-container-org7b936cd" class="outline-2">
<h2 id="org7b936cd">107: Simple closures</h2>
<div class="outline-text-2" id="text-org7b936cd">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/107" target="_blank" rel="external">https://www.4clojure.com/problem/107</a><br>
<br>
Lexical scope and first-class functions are two of the most basic building<br>
blocks of a functional language like Clojure. When you combine the two together,<br>
you get something very powerful called lexical closures. With these, you can<br>
exercise a great deal of control over the lifetime of your local bindings,<br>
saving their values for use later, long after the code you're running now has<br>
finished.<br>
<br>
It can be hard to follow in the abstract, so let's build a simple closure. Given<br>
a positive integer n, return a function (f x) which computes xn. Observe that<br>
the effect of this is to preserve the value of n for use outside the scope in<br>
which it is defined.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= 256 <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ 2<span style="color: #aaccff;">)</span> 16<span style="color: #81d4fa;">)</span>,
   <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>__ 8<span style="color: #aaccff;">)</span> 2<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>1 8 27 64<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span>map <span style="color: #aaccff;">(</span>__ 3<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">[</span>1 2 3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">[</span>1 2 4 8 16<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span>map #<span style="color: #aaccff;">(</span><span style="color: #aaeecc;">(</span>__ <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span> 2<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">[</span>0 1 2 3 4<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p107')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p107" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span><span style="color: #81d4fa;">[</span>x<span style="color: #81d4fa;">]</span>
    <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>y<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span>reduce * <span style="color: #aaeecc;">(</span>repeat x y<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這個題目要我們實現簡單的<a href="https://zh.wikipedia.org/wiki/%E9%97%AD%E5%8C%85_%28%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%29" target="_blank" rel="external">閉包</a> (Closure) ，簡單的說法就是函式會回傳另外一個函式，
因此此題就是這樣子來寫
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span><span style="color: #aaeecc;">[</span>x<span style="color: #aaeecc;">]</span>
    <span style="color: #aaeecc;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #ccaaff;">[</span>y<span style="color: #ccaaff;">]</span> <span style="color: #ccaaff;">(</span>reduce * <span style="color: #fff59d;">(</span>repeat x y<span style="color: #fff59d;">)</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
  2<span style="color: #81d4fa;">)</span> 16<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 256</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-org877fc60" class="outline-2">
<h2 id="org877fc60">115: The Balance of N</h2>
<div class="outline-text-2" id="text-org877fc60">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/115" target="_blank" rel="external">https://www.4clojure.com/problem/115</a><br>
<br>
A balanced number is one whose component digits have the same sum on the left<br>
and right halves of the number. Write a function which accepts an integer n, and<br>
returns true iff n is balanced.<br>
</p>

<div class="row "><div class="col-md-6 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span>__ 11<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span>__ 121<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">false</span> <span style="color: #81d4fa;">(</span>__ 123<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span>__ 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-6">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">false</span> <span style="color: #81d4fa;">(</span>__ 88099<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span>__ 89098<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">true</span> <span style="color: #81d4fa;">(</span>__ 89089<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div></div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>take 20 <span style="color: #aaccff;">(</span>filter __ <span style="color: #aaeecc;">(</span>range<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 <span style="color: #81d4fa;">[</span>0 1 2 3 4 5 6 7 8 9 11 22 33 44 55 66 77 88 99 101<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>  
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p115')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p115" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>s <span style="color: #aaccff;">(</span>seq <span style="color: #aaeecc;">(</span>str <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
       c <span style="color: #aaccff;">(</span>count s<span style="color: #aaccff;">)</span>
       m <span style="color: #aaccff;">(</span>quot c 2<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">]</span>
   <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">or</span>
    <span style="color: #aaccff;">(</span>= <span style="color: #aaeecc;">(</span>take m s<span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>drop <span style="color: #ccaaff;">(</span>- <span style="color: #fff59d;">(</span>count s<span style="color: #fff59d;">)</span> m<span style="color: #ccaaff;">)</span> s<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
    <span style="color: #aaccff;">(</span>= <span style="color: #aaeecc;">(</span>reverse s<span style="color: #aaeecc;">)</span> s<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這一題和 <a href="#orgd759353">027: Palindrome Detector</a> 很像，我們可以將一個數值先變成字串，再使用 <a href="https://clojuredocs.org/clojure.core/seq" target="_blank" rel="external">seq</a>
將其變成序列 (sequence)
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>str 1111<span style="color: #aadddd;">)</span>       <span style="color: #9ac; font-style: italic;">; =&gt; "1111"</span>
<span style="color: #aadddd;">(</span>seq <span style="color: #81d4fa;">(</span>str 1111<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span> <span style="color: #9ac; font-style: italic;">; =&gt; (\1 \1 \1 \1)</span>
</pre>
</div>

<p>
為了要取的序列 (sequence) 的中間值，我們使用 <a href="https://clojuredocs.org/clojure.core/quot" target="_blank" rel="external">quot</a> 來達成這件事
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>quot 10 3<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
<span style="color: #aadddd;">(</span>quot 5 2<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
</pre>
</div>

<p>
接下來就是用 <a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 以及 <a href="https://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 來完成程式的雛形
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaccff;">[</span>s <span style="color: #aaeecc;">(</span>seq <span style="color: #ccaaff;">(</span>str <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
        c <span style="color: #aaeecc;">(</span>count s<span style="color: #aaeecc;">)</span>
        m <span style="color: #aaeecc;">(</span>quot c 2<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span>=
     <span style="color: #aaeecc;">(</span>take m s<span style="color: #aaeecc;">)</span> <span style="color: #9ac; font-style: italic;">; =&gt; (\8 \9)</span>
     <span style="color: #aaeecc;">(</span>drop <span style="color: #ccaaff;">(</span>- <span style="color: #fff59d;">(</span>count s<span style="color: #fff59d;">)</span> m<span style="color: #ccaaff;">)</span> s<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> <span style="color: #9ac; font-style: italic;">; =&gt; (\9 \8)</span>
 89098<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
但是根據題目，我們還需要將迴文的狀況考慮進去，因此最後程式就變成了這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #aaccff;">[</span>s <span style="color: #aaeecc;">(</span>seq <span style="color: #ccaaff;">(</span>str <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
        c <span style="color: #aaeecc;">(</span>count s<span style="color: #aaeecc;">)</span>
        m <span style="color: #aaeecc;">(</span>quot c 2<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
    <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">or</span>
     <span style="color: #aaeecc;">(</span>= <span style="color: #ccaaff;">(</span>take m s<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>drop <span style="color: #fff59d;">(</span>- <span style="color: #ff8888;">(</span>count s<span style="color: #ff8888;">)</span> m<span style="color: #fff59d;">)</span> s<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span>
     <span style="color: #aaeecc;">(</span>= <span style="color: #ccaaff;">(</span>reverse s<span style="color: #ccaaff;">)</span> s<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 89098<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-org69e8b6c" class="outline-2">
<h2 id="org69e8b6c">126: Through the Looking Class</h2>
<div class="outline-text-2" id="text-org69e8b6c">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/126" target="_blank" rel="external">https://www.4clojure.com/problem/126</a><br>
<br>
Enter a value which satisfies the following:<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">let</span> <span style="color: #81d4fa;">[</span>x __<span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">and</span> <span style="color: #aaccff;">(</span>= <span style="color: #aaeecc;">(</span>class x<span style="color: #aaeecc;">)</span> x<span style="color: #aaccff;">)</span> x<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p0126')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p126" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #fff59d;">Class</span>
</pre>
</div>
</blockquote>

<p>
在 clojure 中，<a href="https://clojuredocs.org/clojure.core/class" target="_blank" rel="external">class</a> 是用來查看輸入參數是屬於哪一個 Java Class
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>class 1<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Integer</span>
<span style="color: #aadddd;">(</span>class <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; clojure.lang.PersistentVector</span>
<span style="color: #aadddd;">(</span>class <span style="color: #81d4fa;">(</span><span style="color: #fff59d;">String.</span> <span style="color: #aadddd;">"foo"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.String</span>
</pre>
</div>

<p>
而這題的答案之所以會是 <code>Class</code> 是因為 <code>java.lang.Class</code> 不管是使用 <a href="https://clojuredocs.org/clojure.core/class" target="_blank" rel="external">class</a> 或是
<a href="https://clojuredocs.org/clojure.core/type" target="_blank" rel="external">type</a> 得到的答案都會相同
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>type <span style="color: #fff59d;">Class</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Class</span>
<span style="color: #aadddd;">(</span>type <span style="color: #fff59d;">java.lang.Class</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Class  </span>
<span style="color: #aadddd;">(</span>class <span style="color: #fff59d;">Class</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Class</span>
<span style="color: #aadddd;">(</span>class <span style="color: #fff59d;">java.lang.Class</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Class  </span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org0f3f8ab" class="outline-2">
<h2 id="org0f3f8ab">134: A nil key</h2>
<div class="outline-text-2" id="text-org0f3f8ab">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/134" target="_blank" rel="external">https://www.4clojure.com/problem/134</a><br>
<br>
Write a function which, given a key and map, returns true <a href="http://en.wikipedia.org/wiki/If_and_only_if" target="_blank" rel="external">iff</a> the map contains<br>
an entry with that key and its value is nil.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>true?  <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">:a</span> <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">:b</span> 2<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>false? <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">:b</span> <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">:b</span> 2<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>false? <span style="color: #81d4fa;">(</span>__ <span style="color: #ccaaff;">:c</span> <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">:b</span> 2<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p134')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p134" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>key coll<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">and</span> <span style="color: #aaccff;">(</span>contains? coll key<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>nil? <span style="color: #aaeecc;">(</span>key coll<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題要求滿足兩個條件:
</p>

<ol class="org-ol">
<li>參數 1 的 <i>key</i> 必須在參數 2 的 hash-map 中</li>
<li>hash-map 根據參數 1 所得的數值必須為 <i>nil</i></li>
</ol>

<p>
因此我們可以使用 <a href="https://clojuredocs.org/clojure.core/contains_q" target="_blank" rel="external">contains?</a> 去檢查 hash-map 是否包含這個 key
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>contains? <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1<span style="color: #81d4fa;">}</span> <span style="color: #ccaaff;">:a</span><span style="color: #aadddd;">)</span>    <span style="color: #9ac; font-style: italic;">;=&gt; true</span>
<span style="color: #aadddd;">(</span>contains? <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span><span style="color: #81d4fa;">}</span> <span style="color: #ccaaff;">:a</span><span style="color: #aadddd;">)</span>  <span style="color: #9ac; font-style: italic;">;=&gt; true</span>
<span style="color: #aadddd;">(</span>contains? <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1<span style="color: #81d4fa;">}</span> <span style="color: #ccaaff;">:b</span><span style="color: #aadddd;">)</span>    <span style="color: #9ac; font-style: italic;">;=&gt; false</span>
</pre>
</div>

<p>
而在 hash-map 中，我們可以將 <i>key</i> 當作 function 來取得其數值
</p>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #ccaaff;">:a</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
</pre>
</div>

<p>
當然你也可以用 <a href="https://clojuredocs.org/clojure.core/get" target="_blank" rel="external">get</a> 去取得 <i>key</i> 對應的數值
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>get <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> 1<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>

<span style="color: #aadddd;">(</span>get <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2<span style="color: #81d4fa;">}</span> <span style="color: #ccaaff;">:b</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
</pre>
</div>

<p>
最後再使用 <a href="https://clojuredocs.org/clojure.core/nil_q" target="_blank" rel="external">nil?</a> 去檢查得到的數值是否為 <i>nil</i>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>nil? <span style="color: #ccaaff;">nil</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span>nil? 0<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
<span style="color: #aadddd;">(</span>nil? <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
<span style="color: #aadddd;">(</span>nil? '<span style="color: #81d4fa;">()</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
因此就可以得到我們的答案:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>key coll<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">and</span> <span style="color: #aaeecc;">(</span>contains? coll key<span style="color: #aaeecc;">)</span> <span style="color: #aaeecc;">(</span>nil? <span style="color: #ccaaff;">(</span>key coll<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span>
   <span style="color: #ccaaff;">:a</span> <span style="color: #aaccff;">{</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">:b</span> 2<span style="color: #aaccff;">}</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org649c556" class="outline-2">
<h2 id="org649c556">143: dot product</h2>
<div class="outline-text-2" id="text-org649c556">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/143" target="_blank" rel="external">https://www.4clojure.com/problem/143</a><br>
<br>
Create a function that computes the <a href="http://en.wikipedia.org/wiki/Dot_product#Definition" target="_blank" rel="external">dot product</a> of two sequences. You may assume<br>
that the vectors will have the same length.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= 0 <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>0 1 0<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 0 0<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= 3 <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 1 1<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 1 1<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= 32 <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>4 5 6<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= 256 <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>2 5 6<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>100 10 1<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p143')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p143" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #81d4fa;">[</span>a b<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">(</span>reduce + <span style="color: #aaccff;">(</span>map * a b<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題要我們實現 <a href="http://en.wikipedia.org/wiki/Dot_product#Definition" target="_blank" rel="external">dot product</a> ，以數學來看就是我們有 A = [A<sub>1</sub>, A<sub>2</sub>, &#x2026;, A<sub>n</sub>] 以及
B = [B<sub>1</sub>, B<sub>2</sub>, &#x2026;, B<sub>n</sub>] 這兩組 vector，將其套用到以下公式:
</p>

<div class="org-src-container">
<pre class="src src-latex"><span style="color: #aaffaa;">\begin</span>{<span style="color: #aaccff;">equation*</span>}
 A <span style="color: #aaffaa;">\cdot</span>  B = <span style="color: #aaffaa;">\sum</span>_{i=1}^{n}A_{i}B_{i} = A_{1}B_{1} + A_{2}B_{2} + <span style="color: #aaffaa;">\cdots</span> A_{n}B_{n}
<span style="color: #aaffaa;">\end</span>{<span style="color: #aaccff;">equation*</span>}
</pre>
</div>

<p>
當然，看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 、<a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，因此這題就解決了
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>map * <span style="color: #81d4fa;">[</span>1 2 3<span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span>1 1 1<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3]</span>
<span style="color: #aadddd;">(</span>reduce + <span style="color: #81d4fa;">(</span>map * <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span>1 1 1<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org212fe0b" class="outline-2">
<h2 id="org212fe0b">145: For the win</h2>
<div class="outline-text-2" id="text-org212fe0b">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/145" target="_blank" rel="external">https://www.4clojure.com/problem/145</a><br>
<br>
Clojure's <a href="http://clojuredocs.org/clojure_core/clojure.core/for" target="_blank" rel="external">for</a> macro is a tremendously versatile mechanism for producing a<br>
sequence based on some other sequence(s). It can take some time to understand<br>
how to use it properly, but that investment will be paid back with clear,<br>
concise sequence-wrangling later. With that in mind, read over these for<br>
expressions and try to see how each of them produces the same result.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">for</span> <span style="color: #aaccff;">[</span>x <span style="color: #aaeecc;">(</span>range 40<span style="color: #aaeecc;">)</span>
            <span style="color: #ccaaff;">:when</span> <span style="color: #aaeecc;">(</span>= 1 <span style="color: #ccaaff;">(</span>rem x 4<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
        x<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">for</span> <span style="color: #aaccff;">[</span>x <span style="color: #aaeecc;">(</span>iterate #<span style="color: #ccaaff;">(</span>+ 4 <span style="color: #aaccff;">%</span><span style="color: #ccaaff;">)</span> 0<span style="color: #aaeecc;">)</span>
            <span style="color: #ccaaff;">:let</span> <span style="color: #aaeecc;">[</span>z <span style="color: #ccaaff;">(</span>inc x<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">]</span>
            <span style="color: #ccaaff;">:while</span> <span style="color: #aaeecc;">(</span>&lt; z 40<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
        z<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">for</span> <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span>x y<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span>partition 2 <span style="color: #ccaaff;">(</span>range 20<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
      <span style="color: #aaccff;">(</span>+ x y<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p145')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p145" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'<span style="color: #aadddd;">(</span>1 5 9 13 17 21 25 29 33 37<span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
此題在複習 clojure 的迴圈方法之一 : <a href="http://clojuredocs.org/clojure.core/for" target="_blank" rel="external">for</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">prepare a seq of the even values</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">from the first six multiples of three</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">for</span> <span style="color: #81d4fa;">[</span>x <span style="color: #aaccff;">[</span>0 1 2 3 4 5<span style="color: #aaccff;">]</span>
      <span style="color: #ccaaff;">:let</span> <span style="color: #aaccff;">[</span>y <span style="color: #aaeecc;">(</span>* x 3<span style="color: #aaeecc;">)</span><span style="color: #aaccff;">]</span>
      <span style="color: #ccaaff;">:when</span> <span style="color: #aaccff;">(</span>even? y<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">]</span>
  y<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (0 6 12)</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">produce a seq of all pairs drawn from two vectors</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">for</span> <span style="color: #81d4fa;">[</span>x <span style="color: #aaccff;">[</span>'a 'b 'c<span style="color: #aaccff;">]</span>
      y <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span>
  <span style="color: #81d4fa;">[</span>x y<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ([a 1] [a 2] [a 3] [b 1] [b 2] [b 3] [c 1] [c 2] [c 3])</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org63cf66a" class="outline-2">
<h2 id="org63cf66a">156: Map Defaults</h2>
<div class="outline-text-2" id="text-org63cf66a">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/156" target="_blank" rel="external">https://www.4clojure.com/problem/156</a><br>
<br>
When retrieving values from a map, you can specify default values in case the<br>
key is not found:<br>
<br>
(= 2 (:foo {:bar 0, :baz 1} 2))<br>
<br>
However, what if you want the map itself to contain the default values? Write a<br>
function which takes a default value and a sequence of keys and constructs a<br>
map.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ 0 <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:a</span> 0 <span style="color: #ccaaff;">:b</span> 0 <span style="color: #ccaaff;">:c</span> 0<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aadddd;">"x"</span> <span style="color: #aaccff;">[</span>1 2 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">{</span>1 <span style="color: #aadddd;">"x"</span> 2 <span style="color: #aadddd;">"x"</span> 3 <span style="color: #aadddd;">"x"</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:foo</span> <span style="color: #ccaaff;">:bar</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">{</span><span style="color: #ccaaff;">:foo</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">]</span> <span style="color: #ccaaff;">:bar</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p156')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p156" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>zipmap <span style="color: #aaccff;">%2</span> <span style="color: #81d4fa;">(</span>repeat <span style="color: #aaccff;">(</span>count <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span> <span style="color: #aaccff;">%1</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
這題乍看之下和 <a href="#org1a6bf13">032: Duplicate a Sequence</a> 很像，只是他要求的是產生成 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a> ，
因此我們使用 <a href="https://clojuredocs.org/clojure.core/zipmap" target="_blank" rel="external">zipmap</a> 來解這一題，照慣例先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>zipmap <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:e</span><span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span>1 2 3 4 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:e</span><span style="color: #9ac; font-style: italic;"> 5, </span><span style="color: #9ac; font-style: italic;">:d</span><span style="color: #9ac; font-style: italic;"> 4, </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

<p>
因此本題就可以這樣解決
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span>zipmap <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">(</span>repeat <span style="color: #aaeecc;">(</span>count <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span> <span style="color: #aaccff;">%1</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span> 0 <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 0, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 0, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">, 0}</span>
</pre>
</div>

<p>
實際上在寫這個題目時我第一個想到的是 <a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> ，但是很可惜的事情是，interleave
產生出來的東西是 list，和本題要求的 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a> 是不相容的格式
</p>

<p>
因此如果這題使用 <a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> 來解的話，要記得將結果轉為 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>apply hash-map <span style="color: #81d4fa;">(</span>#<span style="color: #aaccff;">(</span>interleave <span style="color: #aaccff;">%2</span> <span style="color: #aaeecc;">(</span>repeat <span style="color: #ccaaff;">(</span>count <span style="color: #aaccff;">%2</span><span style="color: #ccaaff;">)</span> <span style="color: #aaccff;">%1</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span> 0 <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 0, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 0, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">, 0}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org31efb53" class="outline-2">
<h2 id="org31efb53">157: Indexing Sequences</h2>
<div class="outline-text-2" id="text-org31efb53">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/157" target="_blank" rel="external">https://www.4clojure.com/problem/157</a><br>
<br>
Transform a sequence into a sequence of pairs containing the original elements<br>
along with their index.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> 0<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:b</span> 1<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:c</span> 2<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span>0 1 3<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> '<span style="color: #81d4fa;">(</span><span style="color: #aaccff;">(</span>0 0<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>1 1<span style="color: #aaccff;">)</span> <span style="color: #aaccff;">(</span>3 2<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span><span style="color: #ccaaff;">:foo</span><span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">{</span><span style="color: #ccaaff;">:bar</span> <span style="color: #ccaaff;">:baz</span><span style="color: #aaeecc;">}</span><span style="color: #aaccff;">]</span><span style="color: #81d4fa;">)</span> <span style="color: #81d4fa;">[</span><span style="color: #aaccff;">[</span><span style="color: #aaeecc;">[</span><span style="color: #ccaaff;">:foo</span><span style="color: #aaeecc;">]</span> 0<span style="color: #aaccff;">]</span> <span style="color: #aaccff;">[</span><span style="color: #aaeecc;">{</span><span style="color: #ccaaff;">:bar</span> <span style="color: #ccaaff;">:baz</span><span style="color: #aaeecc;">}</span> 1<span style="color: #aaccff;">]</span><span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p157')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p157" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span>reverse <span style="color: #81d4fa;">(</span>zipmap  <span style="color: #aaccff;">%</span> <span style="color: #aaccff;">(</span>range <span style="color: #aaeecc;">(</span>count <span style="color: #aaccff;">%</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
我們可以使用 <a href="https://clojuredocs.org/clojure.core/zipmap" target="_blank" rel="external">zipmap</a> 來將一份 <i>key</i> 以及 <i>value</i> 整合在一起，但是要注意這樣運行的
結果會是反向的，因此為了滿足此題的要求需要再 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 一次
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>zipmap <span style="color: #81d4fa;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:e</span><span style="color: #81d4fa;">]</span> <span style="color: #81d4fa;">[</span>1 2 3 4 5<span style="color: #81d4fa;">]</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:e</span><span style="color: #9ac; font-style: italic;"> 5, </span><span style="color: #9ac; font-style: italic;">:d</span><span style="color: #9ac; font-style: italic;"> 4, </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

<p>
也就是說
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>reverse <span style="color: #81d4fa;">(</span>zipmap <span style="color: #aaccff;">[</span><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span><span style="color: #aaccff;">]</span> '<span style="color: #aaccff;">(</span>0 1 2<span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">([</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 0] [</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 1] [</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 2])</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>



<div id="outline-container-org2b3ce15" class="outline-2">
<h2 id="org2b3ce15">161: Subset and Superset</h2>
<div class="outline-text-2" id="text-org2b3ce15">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/161" target="_blank" rel="external">https://www.4clojure.com/problem/161</a><br>
<br>
Set A is a subset of set B, or equivalently B is a superset of A, if A is<br>
"contained" inside B. A and B may coincide.<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>superset? __ #<span style="color: #81d4fa;">{</span>2<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>subset? #<span style="color: #81d4fa;">{</span>1<span style="color: #81d4fa;">}</span> __<span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>superset? __ #<span style="color: #81d4fa;">{</span>1 2<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>subset? #<span style="color: #81d4fa;">{</span>1 2<span style="color: #81d4fa;">}</span> __<span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p161')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p161" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">{</span>1 2<span style="color: #aadddd;">}</span>
</pre>
</div>
</blockquote>

<p>
這一題其實就是在講數學中的 <code>子集合 (subset)</code> 與 <code>超級合 (superset)</code> 的概念
</p>

<p>
<a href="https://clojuredocs.org/clojure.set/subset_q" target="_blank" rel="external">subset?</a> 的用法:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>subset? #<span style="color: #81d4fa;">{</span>2 3<span style="color: #81d4fa;">}</span> #<span style="color: #81d4fa;">{</span>1 2 3 4<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>subset? #<span style="color: #81d4fa;">{</span>2 4<span style="color: #81d4fa;">}</span> #<span style="color: #81d4fa;">{</span>1 2 3 4<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>subset? #<span style="color: #81d4fa;">{</span>2 5<span style="color: #81d4fa;">}</span> #<span style="color: #81d4fa;">{</span>1 2 3 4<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
<a href="https://clojuredocs.org/clojure.set/superset_q" target="_blank" rel="external">superset?</a> 的用法:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>superset? #<span style="color: #81d4fa;">{</span>0<span style="color: #81d4fa;">}</span> #<span style="color: #81d4fa;">{</span>0<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>superset? #<span style="color: #81d4fa;">{</span>0 1<span style="color: #81d4fa;">}</span> #<span style="color: #81d4fa;">{</span>0<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span><span style="color: #fff59d;">clojure.set</span><span style="color: #000000; background-color: #ffffff;">/</span>superset? #<span style="color: #81d4fa;">{</span>0<span style="color: #81d4fa;">}</span> #<span style="color: #81d4fa;">{</span>0 1<span style="color: #81d4fa;">}</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org1627b66" class="outline-2">
<h2 id="org1627b66">162: Logical falsity and truth</h2>
<div class="outline-text-2" id="text-org1627b66">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/162" target="_blank" rel="external">https://www.4clojure.com/problem/162</a><br>
<br>
In Clojure, only nil and false represent the values of logical falsity in<br>
conditional tests - anything else is logical truth.<br>
</p>

<div class="row "><div class="col-md-6 ">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if-not</span> <span style="color: #ccaaff;">false</span> 1 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if-not</span> <span style="color: #ccaaff;">nil</span> 1 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">true</span> 1 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">true</span> 1 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div><div class="col-md-6">

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">[]</span> 1 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">[</span>0<span style="color: #aaccff;">]</span> 1 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> 0 1 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= __ <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> 1 1 0<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p162')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p162" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">1
</pre>
</div>
</blockquote>

<p>
在 clojure 中， <code>nil</code> 以及 <code>false</code> 使用在邏輯判斷時即代表 <code>false</code> ，其他其況都是
<code>true</code> ，也因此:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #aaffaa;">if</span> 1 <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">if</span> 0 <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">if-not</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">if-not</span> <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span><span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>



<div id="outline-container-orgf73eadd" class="outline-2">
<h2 id="orgf73eadd">166: Comparisons</h2>
<div class="outline-text-2" id="text-orgf73eadd">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/166" target="_blank" rel="external">https://www.4clojure.com/problem/166</a><br>
<br>
For any orderable data type it's possible to derive all of the basic comparison<br>
operations (&lt;, ≤, =, ≠, ≥, and &gt;) from a single operation (any operator but = or<br>
≠ will work). Write a function that takes three arguments, a less than operator<br>
for the data and two items to compare. The function should return a keyword<br>
describing the relationship between the two items. The keywords for the<br>
relationship between x and y are as follows:<br>
<br>
- x = y → :eq<br>
- x &gt; y → :gt<br>
- x &lt; y → :lt<br>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">:gt</span> <span style="color: #81d4fa;">(</span>__ &lt; 5 1<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">:eq</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>x y<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span>&lt; <span style="color: #ccaaff;">(</span>count x<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>count y<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span> <span style="color: #aadddd;">"pear"</span> <span style="color: #aadddd;">"plum"</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">:lt</span> <span style="color: #81d4fa;">(</span>__ <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaeecc;">[</span>x y<span style="color: #aaeecc;">]</span> <span style="color: #aaeecc;">(</span>&lt; <span style="color: #ccaaff;">(</span>mod x 5<span style="color: #ccaaff;">)</span> <span style="color: #ccaaff;">(</span>mod y 5<span style="color: #ccaaff;">)</span><span style="color: #aaeecc;">)</span><span style="color: #aaccff;">)</span> 21 3<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>= <span style="color: #ccaaff;">:gt</span> <span style="color: #81d4fa;">(</span>__ &gt; 0 2<span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p166')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p166" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#<span style="color: #aadddd;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #81d4fa;">(</span><span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%3</span><span style="color: #81d4fa;">)</span> <span style="color: #ccaaff;">:lt</span> <span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">(</span><span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%3</span> <span style="color: #aaccff;">%2</span><span style="color: #aaccff;">)</span> <span style="color: #ccaaff;">:gt</span> <span style="color: #ccaaff;">:eq</span><span style="color: #81d4fa;">)</span><span style="color: #aadddd;">)</span>
</pre>
</div>
</blockquote>

<p>
題目要求我們寫一個函式 (function) 接收三個參數，第一個參數是 <code>判斷是否小於</code> 的運
算元，其他的則是運算子，也就是說得到答案為 <code>true</code> 時，代表 <code>arg1 &lt; arg2</code> 。
</p>

<p>
因此我們就可以使用 <a href="https://clojuredocs.org/clojure.core/if" target="_blank" rel="external">if</a> 來處理這個問題
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span>#<span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaccff;">(</span><span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%3</span><span style="color: #aaccff;">)</span> <span style="color: #ccaaff;">:lt</span> <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">if</span> <span style="color: #aaeecc;">(</span><span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%3</span> <span style="color: #aaccff;">%2</span><span style="color: #aaeecc;">)</span> <span style="color: #ccaaff;">:gt</span> <span style="color: #ccaaff;">:eq</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 &lt; 5 1<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; </span><span style="color: #9ac; font-style: italic;">:gt</span>
</pre>
</div>

<p>
或是使用 <a href="https://clojuredocs.org/clojure.core/cond" target="_blank" rel="external">cond</a> 依據條件選擇回傳值
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">(</span><span style="color: #81d4fa;">(</span><span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">[</span>op a b<span style="color: #aaccff;">]</span>
   <span style="color: #aaccff;">(</span><span style="color: #aaffaa;">cond</span>
     <span style="color: #aaeecc;">(</span>op a b<span style="color: #aaeecc;">)</span> <span style="color: #ccaaff;">:lt</span>
     <span style="color: #aaeecc;">(</span>op b a<span style="color: #aaeecc;">)</span> <span style="color: #ccaaff;">:gt</span>
     <span style="color: #ccaaff;">:else</span> <span style="color: #ccaaff;">:eq</span><span style="color: #aaccff;">)</span><span style="color: #81d4fa;">)</span>
 &lt; 5 1<span style="color: #aadddd;">)</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; </span><span style="color: #9ac; font-style: italic;">:gt</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>
</div>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/clojure/" rel="tag">#clojure</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/e71fca4a/" rel="prev">Project Euler 練習</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/f794a7db/" rel="next">自己的 iPhone 電源座自己印 2</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

 </div>

        
          <div class="comments" id="comments">
            
               <div id="gitalk-container"></div>
            
          </div>
        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="https://schema.org/Person">
          <img class="site-author-image" src="https://www.gravatar.com/avatar/bda0c97c8dca6eb45824d1b83f477ad9" alt="Yen-Chin, Lee" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Yen-Chin, Lee</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">117</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">14</span>
              <span class="site-state-item-name">分類</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">88</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/rss.xml" rel="alternate">
              <i class="menu-item-icon icon-next-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/coldnew" target="_blank">github</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://plus.google.com/u/0/106837301382084981260/posts" target="_blank">google+</a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#org0293759"><span class="nav-text">001: Nothing but the Truth</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org3cc5003"><span class="nav-text">002: Simple Math</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org0f6d1f1"><span class="nav-text">003: Intro to Strings</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org65336b4"><span class="nav-text">004: Intro to Lists</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org2ec6837"><span class="nav-text">005: Lists: conj</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org2e22893"><span class="nav-text">006: Intro to Vectors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org1490059"><span class="nav-text">007: Vectors: conj</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org59696b6"><span class="nav-text">008: Intro to Sets</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgc5c1756"><span class="nav-text">009: Sets: conj</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgc054582"><span class="nav-text">010: Intro to Maps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org49f65b3"><span class="nav-text">011: Maps: conj</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org3a74efa"><span class="nav-text">012: Intro to Sequences</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgbe06767"><span class="nav-text">013: Sequences: rest</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org76c8504"><span class="nav-text">014: Intro to Functions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org51d0175"><span class="nav-text">015: Double Down</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org22ecc4b"><span class="nav-text">016: Hello World</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org91cbabc"><span class="nav-text">017: Sequences: map</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgeea0c5f"><span class="nav-text">018: Sequences: filter</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orge13d222"><span class="nav-text">019: Last Element</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org29250d0"><span class="nav-text">020: Penultimate Element</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org26970a4"><span class="nav-text">021: Nth Element</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org9df4dd8"><span class="nav-text">022: Count a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org4de5da9"><span class="nav-text">023: Reverse a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org4c55846"><span class="nav-text">024: Sum It All Up</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org07af6d4"><span class="nav-text">025: Find the odd numbers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org04dd67b"><span class="nav-text">026: Fibonacci Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgd759353"><span class="nav-text">027: Palindrome Detector</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org8856adf"><span class="nav-text">028: Flatten a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org7dcccfc"><span class="nav-text">029: Get the Caps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgf164d86"><span class="nav-text">030: Compress a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org56afd97"><span class="nav-text">031: Pack a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org1a6bf13"><span class="nav-text">032: Duplicate a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org411bc0d"><span class="nav-text">033: Replicate a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org5be2c97"><span class="nav-text">034: Implement range</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgbf0c3da"><span class="nav-text">035: Local bindings</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgb23bb3d"><span class="nav-text">036: Let it Be</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org8bba862"><span class="nav-text">037: Regular Expressions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org649034f"><span class="nav-text">038: Maximum value</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgab5b2b4"><span class="nav-text">039: Interleave Two Seqs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org8d4418e"><span class="nav-text">040: Interpose a Seq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org5b6af3b"><span class="nav-text">041: Drop Every Nth Item</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org03e8648"><span class="nav-text">042: Factorial Fun</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgf5f06fe"><span class="nav-text">043: Reverse Interleave</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org92b1162"><span class="nav-text">044: Rotate Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org6996139"><span class="nav-text">045: Intro to Iterate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org377c163"><span class="nav-text">046: Flipping out</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgea5d156"><span class="nav-text">047: Contain Yourself</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org6a6a092"><span class="nav-text">048: Intro to some</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org502642a"><span class="nav-text">049: Split a sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org912c098"><span class="nav-text">050: Split by Type</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org81da237"><span class="nav-text">051: Advanced Destructuring</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga810fa8"><span class="nav-text">052: Intro to Destructuring</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org4ad9623"><span class="nav-text">053: Longest Increasing Sub-Seq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org8e6cd9a"><span class="nav-text">054: Partition a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgc5c18d5"><span class="nav-text">055: Count Occurrences</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orge23b132"><span class="nav-text">056: Find Distinct Items</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orge5d744d"><span class="nav-text">057: Simple Recursion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga38850c"><span class="nav-text">058: Function Composition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgb295c97"><span class="nav-text">059: Juxtaposition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgd29d9ea"><span class="nav-text">060: Sequence Reductions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgcee147f"><span class="nav-text">061: Map Construction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org70b8dec"><span class="nav-text">062: Re-implement Iterate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org79d6465"><span class="nav-text">065: Black Box Testing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org60b73c7"><span class="nav-text">068: Recurring Theme</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org3745add"><span class="nav-text">070: Word Sorting</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org197235d"><span class="nav-text">071: Rearranging Code: -></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org088235a"><span class="nav-text">072: Rearranging Code: ->></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgf5e9d4d"><span class="nav-text">083: A Half-Truth</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgf029caa"><span class="nav-text">088: Symmetric Difference</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgb05d20d"><span class="nav-text">099: Product Digits</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgb0af4ac"><span class="nav-text">095: To Tree, or not to Tree</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org4036235"><span class="nav-text">102: intoCamelCase</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org7af7e95"><span class="nav-text">105: Identify keys and values</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org7b936cd"><span class="nav-text">107: Simple closures</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org877fc60"><span class="nav-text">115: The Balance of N</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org69e8b6c"><span class="nav-text">126: Through the Looking Class</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org0f3f8ab"><span class="nav-text">134: A nil key</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org649c556"><span class="nav-text">143: dot product</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org212fe0b"><span class="nav-text">145: For the win</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org63cf66a"><span class="nav-text">156: Map Defaults</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org31efb53"><span class="nav-text">157: Indexing Sequences</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org2b3ce15"><span class="nav-text">161: Subset and Superset</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org1627b66"><span class="nav-text">162: Logical falsity and truth</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgf73eadd"><span class="nav-text">166: Comparisons</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="container">
      <div class="footer">
        <div class="footer-inner"> 
<div class="copyright" >
  
  Copyright  &copy; &nbsp;  2012 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="author" itemprop="copyrightHolder">Yen-Chin, Lee</span>
   &middot;  Powered by  <a href="https://github.com/coldnew/hexo-renderer-org" target="_blank">coldnew/hexo-renderer-org</a>
</div>

<!--
<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


 </div>
      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <!-- <script type="text/javascript" src="/vendors/jquery/dist/jquery.min.js"></script> -->
  <!-- <link rel="stylesheet" href="/vendors/bootstrap/dist/css/bootstrap.min.css" type="text/css"> -->
  <!-- <script type="text/javascript" src="/vendors/bootstrap/dist/js/bootstrap.min.js"></script> -->

  
  
  
    
  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.1" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  


  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
  <script type="text/javascript" src="/js/app.js"></script>

<!-- LOCAL: You can save these files to your site and update links -->
  
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<!-- END LOCAL -->
    
      <script type="text/javascript">
      function renderGitalk(){
        var gitalk = new Gitalk({
            owner: 'coldnew',
            repo: 'coldnew.github.io',
            clientID: 'b68fc8fd50fcc051b95e',
            clientSecret: '7f005263788db4a303b57e8296bb6800de1f9acf',
            admin: 'coldnew',
            
              distractionFreeMode: 'true'
            
            });
        gitalk.render('gitalk-container');
      }
      renderGitalk();
      </script>
    

</body>
</html>
