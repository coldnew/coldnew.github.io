<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<script type="text/javascript" src="/vendors/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="/vendors/bootstrap/dist/css/bootstrap.min.css" type="text/css">
<script type="text/javascript" src="/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/js/responsive.js"></script>

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />




  <meta name="msvalidate.01" content="A2F329127555BDD555949FFD886CFF2B" />



  <meta name="baidu-site-verification" content="fwxmwVqWtK,5z58vsAQKG" />





  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>




  <meta name="keywords" content="clojure," />



  <link rel="alternate" href="/rss.xml" title="coldnew&#39;s blog" type="application/atom+xml" />



  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="4clojure 是一個非常棒的 Clojure 練習網站，可以在練習的過程中逐漸熟悉 clojure 的 核心命令以及常用函式。    這邊列出我最近重寫 4clojure 整理的資訊。">
<meta name="keywords" content="clojure">
<meta property="og:type" content="article">
<meta property="og:title" content="4Clojure 練習">
<meta property="og:url" content="https://coldnew.github.io/a3e0d91a/index.html">
<meta property="og:site_name" content="coldnew&#39;s blog">
<meta property="og:description" content="4clojure 是一個非常棒的 Clojure 練習網站，可以在練習的過程中逐漸熟悉 clojure 的 核心命令以及常用函式。    這邊列出我最近重寫 4clojure 整理的資訊。">
<meta property="og:updated_time" content="2015-11-12T14:24:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="4Clojure 練習">
<meta name="twitter:description" content="4clojure 是一個非常棒的 Clojure 練習網站，可以在練習的過程中逐漸熟悉 clojure 的 核心命令以及常用函式。    這邊列出我最近重寫 4clojure 整理的資訊。">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>

  <title> 4Clojure 練習 | coldnew&#39;s blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-tw,en,default">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-42122243-1', 'auto');
  ga('send', 'pageview');
</script>




  <div class="container-fluid one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><link rel="canonical" href="https://coldnew.github.io/a3e0d91a/" />
<h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">coldnew&#39;s blog</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-next-categories"></i> <br />
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            標籤
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              4Clojure 練習
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          最後更新
          <time itemprop="dateCreated" datetime="2015-11-12T22:24:00+08:00" content="2015-11-12">
            2015-11-12
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                <a href="/categories/pratice/" itemprop="url" rel="index">
                  <span itemprop="name">程式練習</span>
                </a>
              </span>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/a3e0d91a/#comments" itemprop="discussionUrl">
              <span class="post-comments-count disqus-comment-count" data-disqus-identifier="a3e0d91a/" itemprop="commentsCount"></span>
            </a>
          </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody">

<p>
<a href="https://www.4clojure.com/" target="_blank" rel="external">4clojure</a> 是一個非常棒的 Clojure 練習網站，可以在練習的過程中逐漸熟悉 clojure 的
核心命令以及常用函式。
</p>

<p>
這邊列出我最近重寫 4clojure 整理的資訊。
</p>

<a id="more"></a>

<p>
目前排名資訊:
</p>

<pre class="example">
Username: coldnew
Rank: 1916 out of 38587
Problems Solved: 85
</pre>

<div id="outline-container-org983a0f5" class="outline-2">
<h2 id="org983a0f5">001: Nothing but the Truth</h2>
<div class="outline-text-2" id="text-org983a0f5">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/1" target="_blank" rel="external">https://www.4clojure.com/problem/1</a>

This is a clojure form. Enter a value which will make the form evaluate to true.
Don't over think it! If you are confused, see the getting started page. Hint:
true is equal to true.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ <span style="color: #ccaaff;">true</span>)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p001')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p001" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #ccaaff;">true</span>
</pre>
</div>
</blockquote>

<p>
這是基本題，目的就是將題目的比較結果弄成 <code>true</code> ，因此餵 true 進去就好了。
</p>

<p>
在 clojure 中，只有 <code>true</code> 才是 <code>true</code> ，如果你餵其他的東西，就為發現:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> 1)       <span style="color: #9ac; font-style: italic;">; =&gt; false</span>
(= <span style="color: #ccaaff;">true</span> [1 2 3]) <span style="color: #9ac; font-style: italic;">; =&gt; false</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org2885e39" class="outline-2">
<h2 id="org2885e39">002: Simple Math</h2>
<div class="outline-text-2" id="text-org2885e39">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/2" target="_blank" rel="external">https://www.4clojure.com/problem/2</a>

If you are not familiar with <a href="http://en.wikipedia.org/wiki/Polish_notation" target="_blank" rel="external">polish notation</a>, simple arithmetic might seem
confusing.

Note: Enter only enough to fill in the blank (in this case, a single number) -
do not retype the whole problem.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (- 10 (* 2 3)) __)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p002')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p002" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">4
</pre>
</div>
</blockquote>

<p>
這題就是單純去了解 Lisp 的數學運算模式，Lisp 類語言皆是採用 <code>前置式</code> 表達式，弄
成我們看得懂的形式的話就是:
</p>

<div class="org-src-container">
<pre class="src src-c">10 - (2 * 3) = ?
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org2bc530d" class="outline-2">
<h2 id="org2bc530d">003: Intro to Strings</h2>
<div class="outline-text-2" id="text-org2bc530d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/3" target="_blank" rel="external">https://www.4clojure.com/problem/3</a>

Clojure strings are Java strings. This means that you can use any of the Java
string methods on Clojure strings.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #ff8888;">.toUpperCase</span> <span style="color: #aadddd;">"hello world"</span>))
</pre>
</div>


<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p003')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p003" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">"HELLO WORLD"</span>
</pre>
</div>
</blockquote>

<p>
在 Clojure 中，字串其實就是 <a href="http://www.tutorialspoint.com/java/lang/java_lang_string.htm" target="_blank" rel="external">java.lang.String</a> ，因此 <a href="http://docs.oracle.com/javase/7/docs/api/index.html?java/lang/String.html" target="_blank" rel="external">toUpperCase</a> 就是將所有字串轉
換成大寫。
</p>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org2ea1e8d" class="outline-2">
<h2 id="org2ea1e8d">004: Intro to Lists</h2>
<div class="outline-text-2" id="text-org2ea1e8d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/4" target="_blank" rel="external">https://www.4clojure.com/problem/4</a>

Lists can be constructed with either a function or a quoted form.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (list __) '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p004')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p004" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>
</pre>
</div>
</blockquote>

<p>
在 clojure 中我們可以使用 <a href="https://clojuredocs.org/clojure.core/list" target="_blank" rel="external">list</a> 將參數轉換成鍊表 (List) :
</p>

<div class="org-src-container">
<pre class="src src-clojure">(list 'a 'b 'c 'd 'e 'f 'g)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (a b c d e f g)</span>
(list 1 2 3)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgde95de5" class="outline-2">
<h2 id="orgde95de5">005: Lists: conj</h2>
<div class="outline-text-2" id="text-orgde95de5">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/5" target="_blank" rel="external">https://www.4clojure.com/problem/5</a>

When operating on a list, the conj function will return a new list with one or
more items "added" to the front.

Note that there are two test cases, but you are expected to supply only one
answer, which will cause all the tests to pass.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (conj '(2 3 4) 1))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (conj '(3 4) 2 1))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p005')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p005" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'(1 2 3 4)
</pre>
</div>
</blockquote>

<p>
<a href="https://clojuredocs.org/clojure.core/conj" target="_blank" rel="external">conj</a> 要注意的地方是對於 List 以及 Vector 有不同的處置方式：
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice that conjoining to a vector is done at the end</span>
(conj [1 2 3] 4)
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3 4]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice conjoining to a list is done at the beginning</span>
(conj '(1 2 3) 4)
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (4 1 2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org6bf8824" class="outline-2">
<h2 id="org6bf8824">006: Intro to Vectors</h2>
<div class="outline-text-2" id="text-org6bf8824">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/6" target="_blank" rel="external">https://www.4clojure.com/problem/6</a>

Vectors can be constructed several ways. You can compare them with lists.

<b>Note</b>: the brackets [] surrounding the blanks __ are part of the test case.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= [__] (list <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>) (vec '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>)) (vector <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p006')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p006" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>
</pre>
</div>
</blockquote>

<p>
在 Clojure 中，只要是 <code>sequential</code> 的都可以透過 <code>=</code> 來進行比較，而 vector 和 list 皆屬此類。
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= [1 2] '(1 2))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

<p>
至於什麼時候要用 vector 什麼時候要用 list, 這點可以看看 Raynes 在 irc 上面詢問
Clojure 作者 Rich Hickey 的紀錄: (<a href="http://stackoverflow.com/questions/1147975/in-clojure-when-should-i-use-a-vector-over-a-list-and-the-other-way-around" target="_blank" rel="external">原始討論串</a>)
</p>

<div class="org-src-container">
<pre class="src src-clojure">[12:21] &lt;Raynes&gt;  <span style="color: #fff59d;">Vectors</span> aren't seqs, right?
[12:21] &lt;rhickey&gt; Raynes: no, but they are sequential
[12:21] &lt;rhickey&gt; ,(sequential? [1 2 3])
[12:21] &lt;clojurebot&gt;  <span style="color: #ccaaff;">true</span>
[12:22] &lt;Raynes&gt;  <span style="color: #fff59d;">When</span> would you want to use a list over a vector?
[12:22] &lt;rhickey&gt; when generating code, when generating back-to-front
[12:23] &lt;rhickey&gt; not too often in <span style="color: #fff59d;">Clojure</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org11dd0ee" class="outline-2">
<h2 id="org11dd0ee">007: Vectors: conj</h2>
<div class="outline-text-2" id="text-org11dd0ee">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/7" target="_blank" rel="external">https://www.4clojure.com/problem/7</a>

When operating on a Vector, the conj function will return a new vector with one
or more items "added" to the end. test not run
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (conj [1 2 3] 4))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (conj [1 2] 3 4))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p007')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p007" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">[1 2 3 4]
</pre>
</div>
</blockquote>

<p>
這題其實和 <a href="#orgde95de5">005: Lists: conj</a> 是類似的，再來複習一次 <a href="https://clojuredocs.org/clojure.core/conj" target="_blank" rel="external">conj</a> 對於 List 以及 Vector 的
不同處置方式：
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice that conjoining to a vector is done at the end</span>
(conj [1 2 3] 4)
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3 4]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice conjoining to a list is done at the beginning</span>
(conj '(1 2 3) 4)
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (4 1 2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org3935173" class="outline-2">
<h2 id="org3935173">008: Intro to Sets</h2>
<div class="outline-text-2" id="text-org3935173">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/8" target="_blank" rel="external">https://www.4clojure.com/problem/8</a>

Sets are collections of unique values.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (set '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:d</span>)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>union #{<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>} #{<span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span>}))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p008')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p008" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#{<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span>}
</pre>
</div>
</blockquote>

<p>
clojure 中的 <a href="http://clojure.org/data_structures#Data%20Structures-Sets" target="_blank" rel="external">set</a> 會把重複的東西給剔除:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(set '(1 1 1 2 2))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{1 2}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgbaa5f32" class="outline-2">
<h2 id="orgbaa5f32">009: Sets: conj</h2>
<div class="outline-text-2" id="text-orgbaa5f32">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/9" target="_blank" rel="external">https://www.4clojure.com/problem/9</a>

When operating on a set, the conj function returns a new set with one or more
keys "added".
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= #{1 2 3 4} (conj #{1 4 3} __))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p009')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p009" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">2
</pre>
</div>
</blockquote>

<p>
<a href="http://clojure.org/data_structures#Data%20Structures-Sets" target="_blank" rel="external">Sets</a> 和 List 或是 Vector 不同，是沒有順序差別的。
</p>

<div class="org-src-container">
<pre class="src src-clojure">(conj #{1 4 3} 2)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{1 4 3 2}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgc6f05b9" class="outline-2">
<h2 id="orgc6f05b9">010: Intro to Maps</h2>
<div class="outline-text-2" id="text-orgc6f05b9">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/10" target="_blank" rel="external">https://www.4clojure.com/problem/10</a>

Maps store key-value pairs. Both maps and keywords can be used as lookup
functions. Commas can be used to make maps more readable, but they are not
required.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ ((hash-map <span style="color: #ccaaff;">:a</span> 10, <span style="color: #ccaaff;">:b</span> 20, <span style="color: #ccaaff;">:c</span> 30) <span style="color: #ccaaff;">:b</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #ccaaff;">:b</span> {<span style="color: #ccaaff;">:a</span> 10, <span style="color: #ccaaff;">:b</span> 20, <span style="color: #ccaaff;">:c</span> 30}))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p010')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p010" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">20
</pre>
</div>
</blockquote>

<p>
對於 <a href="http://clojure.org/data_structures#Data%20Structures-Maps%20%28IPersistentMap%29" target="_blank" rel="external">Maps</a> ，無論 keyword 在前面或是在後面都可以取值
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #ccaaff;">:username</span> {<span style="color: #ccaaff;">:username</span> <span style="color: #aadddd;">"joe"</span> <span style="color: #ccaaff;">:password</span> <span style="color: #aadddd;">"123456"</span>})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "joe"</span>
({<span style="color: #ccaaff;">:username</span> <span style="color: #aadddd;">"joe"</span> <span style="color: #ccaaff;">:password</span> <span style="color: #aadddd;">"123456"</span>} <span style="color: #ccaaff;">:username</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "joe"</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org9adca40" class="outline-2">
<h2 id="org9adca40">011: Maps: conj</h2>
<div class="outline-text-2" id="text-org9adca40">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/11" target="_blank" rel="external">https://www.4clojure.com/problem/11</a>

When operating on a map, the conj function returns a new map with one or more
key-value pairs "added".
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= {<span style="color: #ccaaff;">:a</span> 1, <span style="color: #ccaaff;">:b</span> 2, <span style="color: #ccaaff;">:c</span> 3} (conj {<span style="color: #ccaaff;">:a</span> 1} __ [<span style="color: #ccaaff;">:c</span> 3]))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p011')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p011" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">[<span style="color: #ccaaff;">:b</span> 2]
</pre>
</div>
</blockquote>

<p>
<a href="http://clojure.org/data_structures#Data%20Structures-Maps%20%28IPersistentMap%29" target="_blank" rel="external">Maps </a>和 <a href="http://clojure.org/data_structures#Data%20Structures-Sets" target="_blank" rel="external">Sets</a> 一樣是沒有順序差別的，而 <a href="https://clojuredocs.org/clojure.core/conj" target="_blank" rel="external">conj</a> 的參數有 Vector 以及 Maps 時，會轉換成 Maps。
</p>

<div class="org-src-container">
<pre class="src src-clojure">(conj {<span style="color: #ccaaff;">:a</span> 1} {<span style="color: #ccaaff;">:b</span> 2} [<span style="color: #ccaaff;">:c</span> 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
(conj {<span style="color: #ccaaff;">:a</span> 1} [<span style="color: #ccaaff;">:b</span> 2] {<span style="color: #ccaaff;">:c</span> 3})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orga380685" class="outline-2">
<h2 id="orga380685">012: Intro to Sequences</h2>
<div class="outline-text-2" id="text-orga380685">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/12" target="_blank" rel="external">https://www.4clojure.com/problem/12</a>

All Clojure collections support sequencing. You can operate on sequences with
functions like first, second, and last.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (first '(3 2 1)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (second [2 3 4]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (last (list 1 2 3)))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p012')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p012" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">3
</pre>
</div>
</blockquote>

<p>
這題就是基本的序列 (sequence) 使用的函式，其中 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 就是以前 lisp 的 car，用來
取得 list 的第一項。
</p>

<div class="org-src-container">
<pre class="src src-clojure">(first '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgccae877" class="outline-2">
<h2 id="orgccae877">013: Sequences: rest</h2>
<div class="outline-text-2" id="text-orgccae877">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/13" target="_blank" rel="external">https://www.4clojure.com/problem/13</a>

The rest function will return all the items of a sequence except the first.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (rest [10 20 30 40]))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p013')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p013" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'(20 30 40)
</pre>
</div>
</blockquote>

<p>
<a href="https://clojuredocs.org/clojure.core/rest" target="_blank" rel="external">rest</a> 就是傳統 Lisp 常用的 cdr，用來取得一個 list 的非第一項。
</p>

<div class="org-src-container">
<pre class="src src-clojure">(rest '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; (2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org61bff3d" class="outline-2">
<h2 id="org61bff3d">014: Intro to Functions</h2>
<div class="outline-text-2" id="text-org61bff3d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/14" target="_blank" rel="external">https://www.4clojure.com/problem/14</a>

Clojure has many different ways to create functions.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ ((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">add-five</span> [x] (+ x 5)) 3))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ ((<span style="color: #aaffaa;">fn</span> [x] (+ x 5)) 3))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (#(+ <span style="color: #aaccff;">%</span> 5) 3))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ ((partial + 5) 3))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p014')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p014" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">8
</pre>
</div>
</blockquote>

<p>
這一題實際上都在講 clojure 的匿名函式，我最常用的就是 <code>fn</code> 了，他和 emacs-lisp
下的 <code>lambda</code> 是相同功能的
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">add3</span> [x] (+ x 3)) 3)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
((<span style="color: #aaffaa;">fn</span> [x] (+ x 3)) 3)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
</pre>
</div>

<p>
而 <code>#</code> 則是懶人版的 <code>fn</code> ，不同的是使用 <code>%</code> 代表輸入參數，如果參數很多的話，則是
用 <code>%1</code> 、 <code>%2</code> 來代表
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [x] (+ x 3)) 3)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
(#(+ <span style="color: #aaccff;">%</span> 3) 3)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>

((<span style="color: #aaffaa;">fn</span> [x y] (+ x y)) 1 2)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
(#(+ <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>) 1 2)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
<a href="https://clojuredocs.org/clojure.core/partial" target="_blank" rel="external">partial</a> 我到是不常用，partial 會將第一個參數當作是操作子 (operator)/函式
(function) 並將後面的東西當作參數餵給剛剛的操作子/函式。
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">hundred-times</span> (partial * 100))

(hundred-times 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 500</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orga5065e9" class="outline-2">
<h2 id="orga5065e9">015: Double Down</h2>
<div class="outline-text-2" id="text-orga5065e9">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/15" target="_blank" rel="external">https://www.4clojure.com/problem/15</a>

Write a function which doubles a number.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 2) 4)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 3) 6)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 11) 22)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 7) 14)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p015')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p015" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(* 2 <span style="color: #aaccff;">%</span>)
</pre>
</div>
</blockquote>

<p>
這一題其實就是 <a href="#org61bff3d">014: Intro to Functions</a> 的應用，忘記的話再來複習一次匿名函式的用法
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [x] (+ x 3)) 3)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
(#(+ <span style="color: #aaccff;">%</span> 3) 3)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>

((<span style="color: #aaffaa;">fn</span> [x y] (+ x y)) 1 2)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
(#(+ <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>) 1 2)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orge330157" class="outline-2">
<h2 id="orge330157">016: Hello World</h2>
<div class="outline-text-2" id="text-orge330157">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/16" target="_blank" rel="external">https://www.4clojure.com/problem/16</a>

Write a function which returns a personalized greeting.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"Dave"</span>) <span style="color: #aadddd;">"Hello, Dave!"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"Jenn"</span>) <span style="color: #aadddd;">"Hello, Jenn!"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"Rhea"</span>) <span style="color: #aadddd;">"Hello, Rhea!"</span>)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p016')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p016" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(str <span style="color: #aadddd;">"Hello, "</span> <span style="color: #aaccff;">%</span> <span style="color: #aadddd;">"!"</span>)
</pre>
</div>
</blockquote>

<p>
這題匿名函式搭配 <a href="https://clojuredocs.org/clojure.core/str" target="_blank" rel="external">str</a> 去將不同的字串合併在一起
</p>

<div class="org-src-container">
<pre class="src src-clojure">(str <span style="color: #aadddd;">"Hello "</span> <span style="color: #aadddd;">"world!"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; Hello world!</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org3c7fdb0" class="outline-2">
<h2 id="org3c7fdb0">017: Sequences: map</h2>
<div class="outline-text-2" id="text-org3c7fdb0">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/17" target="_blank" rel="external">https://www.4clojure.com/problem/17</a>

The map function takes two arguments: a function (f) and a sequence (s). Map
returns a new sequence consisting of the result of applying f to each item of s.
Do not confuse the map function with the map data structure.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (map #(+ <span style="color: #aaccff;">%</span> 5) '(1 2 3)))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p017')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p017" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'(6 7 8)
</pre>
</div>
</blockquote>

<p>
<a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 是 lisp 下很常用的函式，我們可以透過 map 去對整個序列 (sequence) 裡面的個個
元數進行動作
</p>

<div class="org-src-container">
<pre class="src src-clojure">(map inc [1 2 3 4])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (2 3 4 5)</span>
</pre>
</div>

<p>
或者對兩組 vector 進行加法運算
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">map can be used with multiple collections. Collections will be consumed</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">and passed to the mapping function in parallel:</span>
(map + [1 2 3] [4 5 6])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (5 7 9)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org4c82553" class="outline-2">
<h2 id="org4c82553">018: Sequences: filter</h2>
<div class="outline-text-2" id="text-org4c82553">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/18" target="_blank" rel="external">https://www.4clojure.com/problem/18</a>

The filter function takes two arguments: a predicate function (f) and a sequence
(s). Filter returns a new sequence consisting of all the items of s for which (f
item) returns true.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (filter #(&gt; <span style="color: #aaccff;">%</span> 5) '(3 4 5 6 7)))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p018')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p018" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'(6 7)
</pre>
</div>
</blockquote>

<p>
<a href="https://clojuredocs.org/clojure.core/filter" target="_blank" rel="external">filter</a> 用來對序列 (sequence) 進行 "過濾" 的動作，完成後會回傳 lazy sequence
</p>

<div class="org-src-container">
<pre class="src src-clojure">(filter even? (range 10))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (0 2 4 6 8)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgd05e336" class="outline-2">
<h2 id="orgd05e336">019: Last Element</h2>
<div class="outline-text-2" id="text-orgd05e336">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/19" target="_blank" rel="external">https://www.4clojure.com/problem/19</a>

Write a function which returns the last element in a sequence.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3 4 5]) 5)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(5 4 3)) 3)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #aadddd;">"b"</span> <span style="color: #aadddd;">"c"</span> <span style="color: #aadddd;">"d"</span>]) <span style="color: #aadddd;">"d"</span>)
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>last</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p019')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p019" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(first (reverse <span style="color: #aaccff;">%</span>))
</pre>
</div>
</blockquote>

<p>
題目要求我們實現 <a href="https://clojuredocs.org/clojure.core/last" target="_blank" rel="external">last</a> 的功能，因此我們可以想想 <a href="https://clojuredocs.org/clojure.core/last" target="_blank" rel="external">last</a> 的用途，是的就是取出序列
(sequence) 的最後一個元素
</p>

<div class="org-src-container">
<pre class="src src-clojure">(last '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
而在前面我們知道了 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 則是取得一個序列 (sequence) 的第一個元素
</p>

<div class="org-src-container">
<pre class="src src-clojure">(first '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
</pre>
</div>

<p>
所以我們只要將序列 (sequence) 反轉後再使用 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 去取得第一個元素即可，我們先來
看看反轉用的命令 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reverse '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
所以這一題就可以這樣解
</p>

<div class="org-src-container">
<pre class="src src-clojure">(first (reverse '(1 2 3)))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org6ae1c28" class="outline-2">
<h2 id="org6ae1c28">020: Penultimate Element</h2>
<div class="outline-text-2" id="text-org6ae1c28">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/20" target="_blank" rel="external">https://www.4clojure.com/problem/20</a>

Write a function which returns the second to last element from a sequence.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ (list 1 2 3 4 5)) 4)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"b"</span> <span style="color: #aadddd;">"c"</span>]) <span style="color: #aadddd;">"b"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [[1 2] [3 4]]) [1 2])
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p020')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p020" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(second (reverse <span style="color: #aaccff;">%</span>))
</pre>
</div>
</blockquote>

<p>
題目要求我們取得倒數第二個元素，因此這時就要想到 <a href="#orgd05e336">019: Last Element</a> 所提到的
<a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> ，讓我們再來複習一次
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reverse '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
取得了反轉序列 (sequence) 後，接下來就是使用 <a href="https://clojuredocs.org/clojure.core/second" target="_blank" rel="external">second</a> 去取得第二個元素，讓我們先看
看 second 的用法
</p>

<div class="org-src-container">
<pre class="src src-clojure">(second '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
</pre>
</div>

<p>
因此此題就可以這樣解
</p>

<div class="org-src-container">
<pre class="src src-clojure">(second (reverse '(1 2 3 4)))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgf1ef991" class="outline-2">
<h2 id="orgf1ef991">021: Nth Element</h2>
<div class="outline-text-2" id="text-orgf1ef991">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/21" target="_blank" rel="external">https://www.4clojure.com/problem/21</a>

Write a function which returns the Nth element from a sequence.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(4 5 6 7) 2) 6)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>] 0) <span style="color: #ccaaff;">:a</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3 4] 1) 2)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '([1 2] [3 4] [5 6]) 2) [5 6])
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>nth</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p021')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p021" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(first (drop <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span>))
</pre>
</div>
</blockquote>

<p>
這題要我們做到 <a href="https://clojuredocs.org/clojure.core/nth" target="_blank" rel="external">nth</a> 的功能，讓我們先複習看看 <a href="https://clojuredocs.org/clojure.core/nth" target="_blank" rel="external">nth</a> 的用途
</p>

<div class="org-src-container">
<pre class="src src-clojure">(nth '(1 2 3 4 5) 2)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
在這題我使用了 <a href="https://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 來解決，drop 的使用方式是這樣的
</p>

<div class="org-src-container">
<pre class="src src-clojure">(drop -1 [1 2 3 4])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
(drop 0 [1 2 3 4])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
(drop 2 [1 2 3 4])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (3 4)</span>
</pre>
</div>

<p>
因此只要使用 <a href="https://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 搭配 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 就可以達到 <a href="https://clojuredocs.org/clojure.core/nth" target="_blank" rel="external">nth</a> 的功能了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(drop 2 '(1 2 3 4 5))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 4 5)</span>
(first (drop 2 '(1 2 3 4 5)))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
當然看到序列時也要想到使用 <a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 來取的需要數量的元素
</p>

<div class="org-src-container">
<pre class="src src-clojure">(take 3 '(1 2 3 4 5 6))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>

<p>
因此使用 take 的話這題我們可以這樣寫
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(last (take (inc <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span>)) '(4 5 6 7) 2)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgd8adec8" class="outline-2">
<h2 id="orgd8adec8">022: Count a Sequence</h2>
<div class="outline-text-2" id="text-orgd8adec8">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/22" target="_blank" rel="external">https://www.4clojure.com/problem/22</a>

Write a function which returns the total number of elements in a sequence.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(1 2 3 3 1)) 5)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"Hello World"</span>) 11)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [[1 2] [3 4] [5 6]]) 3)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(13)) 1)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>)) 3)
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>count</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p022')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p022" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(reduce (<span style="color: #aaffaa;">fn</span> [x y] (inc x)) 0 <span style="color: #aaccff;">%</span>)
</pre>
</div>
</blockquote>

<p>
這提要我們實作 <a href="https://clojuredocs.org/clojure.core/count" target="_blank" rel="external">count</a> 的功能，我們先來看看 <a href="https://clojuredocs.org/clojure.core/count" target="_blank" rel="external">count</a> 的用法
</p>

<div class="org-src-container">
<pre class="src src-clojure">(count '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
(count [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
(count <span style="color: #aadddd;">"hi"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
</pre>
</div>

<p>
也就是說，我們要實作一個函式來計算輸入序列 (sequence) 的元素數量，看到序列
(sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，讓我們再來複習一下 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reduce + [1 2 3 4 5])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 15</span>
(reduce conj #{} [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; #{</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">}</span>
</pre>
</div>

<p>
因此我們就可以這樣作
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reduce (<span style="color: #aaffaa;">fn</span> [x y] (inc x)) 0 '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org7c5c3b0" class="outline-2">
<h2 id="org7c5c3b0">023: Reverse a Sequence</h2>
<div class="outline-text-2" id="text-org7c5c3b0">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/23" target="_blank" rel="external">https://www.4clojure.com/problem/23</a>

Write a function which reverses a sequence.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3 4 5]) [5 4 3 2 1])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ (sorted-set 5 7 2 7)) '(7 5 2))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [[1 2][3 4][5 6]]) [[5 6][3 4][1 2]])
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>reverse</li>
<li>rseq</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p023')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p023" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(reduce conj '() <span style="color: #aaccff;">%</span>)
</pre>
</div>
</blockquote>

<p>
這一題要我們反轉序列 (sequence) 但是不能使用內建的 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 以及 <a href="https://clojuredocs.org/clojure.core/rseq" target="_blank" rel="external">rseq</a> ，因此要使
用匿名函式來自幹，不過讓我們回想一下在 <a href="#orgde95de5">005: Lists: conj</a> 裡面多次強調的 <a href="https://clojuredocs.org/clojure.core/conj" target="_blank" rel="external">conj</a> 特性:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice that conjoining to a vector is done at the end</span>
(conj [1 2 3] 4)
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3 4]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">notice conjoining to a list is done at the beginning</span>
(conj '(1 2 3) 4)
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (4 1 2 3)</span>
</pre>
</div>

<p>
因此我們只要搭配 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reduce</a> 就可以產生出反向的序列了 ~
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reduce conj '() '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>

(reduce conj '() [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
順便來複習一下 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reverse '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
<a href="https://clojuredocs.org/clojure.core/rseq" target="_blank" rel="external">rseq</a> 只能吃 vector, 因此如果你餵 list 給他會出錯
</p>

<div class="org-src-container">
<pre class="src src-clojure">(rseq '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.ClassCastException: clojure.lang.PersistentList cannot be cast to clojure.lang.Reversible</span>

(rseq  [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org46dab0b" class="outline-2">
<h2 id="org46dab0b">024: Sum It All Up</h2>
<div class="outline-text-2" id="text-org46dab0b">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/24" target="_blank" rel="external">https://www.4clojure.com/problem/24</a>

Write a function which returns the sum of a sequence of numbers.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3]) 6)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ (list 0 -2 5 5)) 8)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ #{4 2 1}) 7)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(0 0 -1)) -1)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(1 10 3)) 14)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p024')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p024" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">reduce +
</pre>
</div>
</blockquote>

<p>
看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> 和 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> ，因此這一題就這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reduce + #{1 2 3})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
(reduce + [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org01b39a8" class="outline-2">
<h2 id="org01b39a8">025: Find the odd numbers</h2>
<div class="outline-text-2" id="text-org01b39a8">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/25" target="_blank" rel="external">https://www.4clojure.com/problem/25</a>

Write a function which returns only the odd numbers from a sequence.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ #{1 2 3 4 5}) '(1 3 5))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [4 2 1 6]) '(1))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [2 2 4 6]) '())
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 1 1 3]) '(1 1 1 3))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p025')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p025" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">filter odd?
</pre>
</div>
</blockquote>

<p>
這一題其實就是 <a href="#org4c82553">018: Sequences: filter</a> 的應用版本，我們再來回顧一下 <a href="https://clojuredocs.org/clojure.core/filter" target="_blank" rel="external">filter</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(filter even? (range 10))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (0 2 4 6 8)</span>

(filter odd? (range 10))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (1 3 5 7 9)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgbb3223f" class="outline-2">
<h2 id="orgbb3223f">026: Fibonacci Sequence</h2>
<div class="outline-text-2" id="text-orgbb3223f">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/26" target="_blank" rel="external">https://www.4clojure.com/problem/26</a>

Write a function which returns the first X fibonacci numbers.
</p>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p026')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p026" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(take <span style="color: #aaccff;">%</span>
       ((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">fib</span> []
          (lazy-cat [1 1]
                    (map + (fib) (rest (fib)))))))
</pre>
</div>
</blockquote>

<p>
這一題其實是在問如何實作 lazy sequence 版本的 Fibonacci 數列，這樣我們就可以使用
<a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 去取得我們想要的數列數量。
</p>

<p>
在 clojure 中實現 Fibonacci Sequence 的方式有很多種，我最偏好的就是這種透過
<a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 產生的版本。
</p>

<p>
<a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 的任務其實就只是把參數的序列 (sequence) 進行串接，也就是這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(lazy-cat [1 2 3] [4 5 6])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4 5 6)</span>
</pre>
</div>

<p>
而 Fibonacci Sequence 其實就是把新的數值串接到原來的數列上，因此用 <a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 就可
以很輕鬆的搞定:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">fib-seq</span>
  (lazy-cat [0 1]
            (map + fib-seq (rest fib-seq))))

(take 10 fib-seq)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 1 2 3 5 8 13 21 34)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org9a11854" class="outline-2">
<h2 id="org9a11854">027: Palindrome Detector</h2>
<div class="outline-text-2" id="text-org9a11854">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/27" target="_blank" rel="external">https://www.4clojure.com/problem/27</a>

Write a function which returns true if the given sequence is a palindrome.

<b>Hint</b>: "racecar" does not equal '(\r \a \c \e \c \a \r)
</p>

<div class="org-src-container">
<pre class="src src-clojure">(false? (__ '(1 2 3 4 5)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(true? (__ <span style="color: #aadddd;">"racecar"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(true? (__ [<span style="color: #ccaaff;">:foo</span> <span style="color: #ccaaff;">:bar</span> <span style="color: #ccaaff;">:foo</span>]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(true? (__ '(1 1 3 3 1 1)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(false? (__ '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>)))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p027')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p027" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(= (reverse <span style="color: #aaccff;">%</span>) (seq <span style="color: #aaccff;">%</span>))
</pre>
</div>
</blockquote>

<p>
題目詢問的是找出判斷為 <a href="http://www.csie.ntnu.edu.tw/~u91029/Palindrome.html" target="_blank" rel="external">迴文</a> (Palindrome) 的方法，也就是說如果輸入的資料進行
<a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 仍舊和原始資料相同的話，這輸入資料就是 palindrome。
</p>

<p>
不過這題有些小陷阱，我們來看看 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 的使用以及 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 在字串上的使用
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reverse [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
(reverse <span style="color: #aadddd;">"hello"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (\0 \l \l \e \h)</span>
</pre>
</div>

<p>
也就是說將字串傳送給 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 後會變成以字元為單位的序列 (sequence)，因此這一個題
目我們需要使用 <a href="https://clojuredocs.org/clojure.core/seq" target="_blank" rel="external">seq</a> 來將輸入的字串轉變成序列
</p>

<div class="org-src-container">
<pre class="src src-clojure">(seq <span style="color: #aadddd;">"hello"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (\h \e \l \l \o)</span>
(seq '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>

<p>
所以最後完整的案就變成這樣了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(= (reverse <span style="color: #aaccff;">%</span>) (seq <span style="color: #aaccff;">%</span>)) <span style="color: #aadddd;">"hah"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(#(= (reverse <span style="color: #aaccff;">%</span>) (seq <span style="color: #aaccff;">%</span>)) '(1 2 1))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orge5b9d8d" class="outline-2">
<h2 id="orge5b9d8d">028: Flatten a Sequence</h2>
<div class="outline-text-2" id="text-orge5b9d8d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/28" target="_blank" rel="external">https://www.4clojure.com/problem/28</a>

Write a function which flattens a sequence.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '((1 2) 3 [4 [5 6]])) '(1 2 3 4 5 6))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #aadddd;">"a"</span> [<span style="color: #aadddd;">"b"</span>] <span style="color: #aadddd;">"c"</span>]) '(<span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"b"</span> <span style="color: #aadddd;">"c"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '((((<span style="color: #ccaaff;">:a</span>))))) '(<span style="color: #ccaaff;">:a</span>))
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>flatten</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p028')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p028" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">flat</span> [coll]
    (reduce #(concat <span style="color: #aaccff;">%1</span> (<span style="color: #aaffaa;">if</span> (coll? <span style="color: #aaccff;">%2</span>)
                          (flat <span style="color: #aaccff;">%2</span>) [<span style="color: #aaccff;">%2</span>])) '() coll))
</pre>
</div>
</blockquote>

<p>
這一題很好玩，值得深入探討。題目要求我們實現一個名為 <a href="https://clojuredocs.org/clojure.core/flatten" target="_blank" rel="external">flatten</a> 的函式，其功能為將
巢狀鍊表變一單一鍊表，也就是:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(flatten '(1 2 (3 (4 5 (6)))))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt;  (1 2 3 4 5 6)</span>
</pre>
</div>

<p>
對我而言，看到輸入的東西是 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequential?</a> 的話，我第一個想到的不是 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 就是 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a>
，因此此一題目我使用 reduce 來解。
</p>

<p>
有一點要注意到是，提供給 reduce 的函式必須要能夠吃 <code>2 個參數</code> ，因此整個解法就是
這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">flat</span> [coll]
   (reduce #(concat <span style="color: #aaccff;">%1</span> (<span style="color: #aaffaa;">if</span> (coll? <span style="color: #aaccff;">%2</span>)
                         (flat <span style="color: #aaccff;">%2</span>) [<span style="color: #aaccff;">%2</span>])) '() coll))
 '(1 (2)))
 <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2)</span>
</pre>
</div>

<p>
另外一種很強大的解法則是透過 <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 來處理這件事，mapcat 會對傳入的 collection
進行 map 的動作，最後則是將多項結果連接在一起，我們來看看 mapcat 的基本用法:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(mapcat reverse [[3 2 1 0] [6 5 4] [9 8 7]])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4 5 6 7 8 9)</span>
</pre>
</div>

<p>
因此我們就可以判斷傳入的東西是否為 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequential?</a> ，如果是的話則交給 mapcat 使用遞
回的方式解決，反之則將傳入的東西變成 序列 (sequence)。
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">flat</span> [coll]
   (<span style="color: #aaffaa;">if</span> (sequential? coll)
     (mapcat flat coll)
     (list coll)))
</pre>
</div>

<p>
clojure 官方的解法也是很有趣，你可以在這裡看到 clojure 的 <a href="https://github.com/clojure/clojure/blob/clojure-1.7.0/src/clj/clojure/core.clj#L6843" target="_blank" rel="external">flatten</a> 實現:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">flatten</span>
  <span style="color: #97abc6; font-style: italic;">"Takes any nested combination of sequential things (lists, vectors,</span>
<span style="color: #97abc6; font-style: italic;">  etc.) and returns their contents as a single, flat sequence.</span>
<span style="color: #97abc6; font-style: italic;">  (flatten nil) returns an empty sequence."</span>
  {<span style="color: #ccaaff;">:added</span> <span style="color: #aadddd;">"1.2"</span>
   <span style="color: #ccaaff;">:static</span> <span style="color: #ccaaff;">true</span>}
  [x]
  (filter (complement sequential?)
          (rest (tree-seq sequential? seq x))))
</pre>
</div>

<p>
這解法有趣的地方在於，他使用了 <a href="https://clojuredocs.org/clojure.core/filter" target="_blank" rel="external">filter</a> 將不滿足條件的東西挑掉，以此例來說就是挑出
了不是 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequential?</a> 的東西，因此我們該注意他怎樣將原本是<a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external"> sequential?</a> 的東西變成非 sequence 的。
</p>

<p>
在這裡 clojure 使用了 <a href="https://clojuredocs.org/clojure.core/tree-seq" target="_blank" rel="external">tree-seq</a> 來將原本的 sequence 變成包含 sequence 本身以及其
子節點，就像這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(tree-seq sequential? seq '(1 (2 3 )))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((1 (2 3)) 1 (2 3) 2 3)</span>
</pre>
</div>

<p>
因此接下來再使用 <a href="https://clojuredocs.org/clojure.core/filter" target="_blank" rel="external">filter</a> 挑出不是 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequential?</a> 的東西就解決了這個問題
</p>

<div class="org-src-container">
<pre class="src src-clojure">(filter (complement sequential?)
        (tree-seq sequential? seq '(1 (2 3))))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org414ac65" class="outline-2">
<h2 id="org414ac65">029: Get the Caps</h2>
<div class="outline-text-2" id="text-org414ac65">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/29" target="_blank" rel="external">https://www.4clojure.com/problem/29</a>

Write a function which takes a string and returns a new string containing only
the capital letters.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"HeLlO, WoRlD!"</span>) <span style="color: #aadddd;">"HLOWRD"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(empty? (__ <span style="color: #aadddd;">"nothing"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"$#A(*&amp;987Zf"</span>) <span style="color: #aadddd;">"AZ"</span>)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p029')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p029" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(apply str (re-seq #<span style="color: #aadddd;">"[A-Z]"</span> <span style="color: #aaccff;">%</span>))
</pre>
</div>
</blockquote>

<p>
這一題其實可以用傳統的方式: 找出字元所代表的 ASCII 代碼，進行範圍的比較。
</p>

<p>
不過我比較偏好使用正規表達式 (Regex) ，因此這題我使用了 <a href="https://clojuredocs.org/clojure.core/re-seq" target="_blank" rel="external">re-seq</a> 來產生出符合正規
表達式的序列 (sequence)
</p>

<div class="org-src-container">
<pre class="src src-clojure">(re-seq #<span style="color: #aadddd;">"[A-Z]"</span> <span style="color: #aadddd;">"AcBd"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("A" "B")</span>
</pre>
</div>

<p>
有了序列以後，就可以使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 將這整個序列合併
</p>

<div class="org-src-container">
<pre class="src src-clojure">(apply str (re-seq #<span style="color: #aadddd;">"[A-Z]"</span> <span style="color: #aadddd;">"HeLlO, WoRlD!"</span>))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">= &gt; "HLOWRD"</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgd5dde81" class="outline-2">
<h2 id="orgd5dde81">030: Compress a Sequence</h2>
<div class="outline-text-2" id="text-orgd5dde81">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/30" target="_blank" rel="external">https://www.4clojure.com/problem/30</a>

Write a function which removes consecutive duplicates from a sequence.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (apply str (__ <span style="color: #aadddd;">"Leeeeeerrroyyy"</span>)) <span style="color: #aadddd;">"Leroy"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 1 2 3 3 2 2 3]) '(1 2 3 2 3))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [[1 2] [1 2] [3 4] [1 2]]) '([1 2] [3 4] [1 2]))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p030')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p030" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(map first (partition-by identity <span style="color: #aaccff;">%</span>))
</pre>
</div>
</blockquote>

<p>
這個題目要移除掉 <code>連續</code> 且 <code>重複</code> 的元素，因此我們不能用 <a href="https://clojuredocs.org/clojure.core/set" target="_blank" rel="external">set</a> 或是 <a href="https://clojuredocs.org/clojure.core/distinct" target="_blank" rel="external">distinct</a> ，因
為這兩個會移除掉整個序列 (sequence) 中重複的東西。
</p>

<p>
因此我們可以先將連續且重複的東西分組，這時候我們可以使用 <a href="https://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a> 搭配
<a href="https://clojuredocs.org/clojure.core/identity" target="_blank" rel="external">identity</a> 的組合來進行分組
</p>

<div class="org-src-container">
<pre class="src src-clojure">(partition-by identity <span style="color: #aadddd;">"aabbbcccc"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((\a \a) (\b \b \b) (\c \c \c \c))</span>

(partition-by identity [a bb ccc])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((\a \a) (\b \b \b) (\c \c \c \c))</span>

(partition-by identity [1 2 2 3 3 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((1) (2 2) (3 3 3))</span>
</pre>
</div>

<p>
有了分組後，我們就可以使用 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 搭配 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 去取得每個分組的第一個項目，這樣這個題目就完成了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(map first (partition-by identity [1 2 2 3 3 3]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3)</span>
</pre>
</div>


</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org734ed70" class="outline-2">
<h2 id="org734ed70">031: Pack a Sequence</h2>
<div class="outline-text-2" id="text-org734ed70">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/31" target="_blank" rel="external">https://www.4clojure.com/problem/31</a>

Write a function which packs consecutive duplicates into sub-lists.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 1 2 1 1 1 3 3]) '((1 1) (2) (1 1 1) (3 3)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>]) '((<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span>) (<span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span>) (<span style="color: #ccaaff;">:c</span>)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [[1 2] [1 2] [3 4]]) '(([1 2] [1 2]) ([3 4])))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p031')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p031" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(partition-by identity <span style="color: #aaccff;">%</span>)
</pre>
</div>
</blockquote>

<p>
這一題和 <a href="#orgd5dde81">030: Compress a Sequence</a> 類似，我們的目的是將 <code>連續</code> 且 <code>重複</code> 的東西分
組，這時候我們可以使用 <a href="https://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a> 搭配 <a href="https://clojuredocs.org/clojure.core/identity" target="_blank" rel="external">identity</a> 的組合來進行分組
</p>

<div class="org-src-container">
<pre class="src src-clojure">(partition-by identity <span style="color: #aadddd;">"aabbbcccc"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((\a \a) (\b \b \b) (\c \c \c \c))</span>

(partition-by identity [a bb ccc])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((\a \a) (\b \b \b) (\c \c \c \c))</span>

(partition-by identity [1 2 2 3 3 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((1) (2 2) (3 3 3))</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org8d215bf" class="outline-2">
<h2 id="org8d215bf">032: Duplicate a Sequence</h2>
<div class="outline-text-2" id="text-org8d215bf">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/32" target="_blank" rel="external">https://www.4clojure.com/problem/32</a>

Write a function which duplicates each element of a sequence.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3]) '(1 1 2 2 3 3))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span>]) '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [[1 2] [3 4]]) '([1 2] [1 2] [3 4] [3 4]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [[1 2] [3 4]]) '([1 2] [1 2] [3 4] [3 4]))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p032')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p032" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(interleave <span style="color: #aaccff;">%</span> <span style="color: #aaccff;">%</span>)
</pre>
</div>
</blockquote>

<p>
在 clojure 中，有一個名為 <a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> 的函式可以做到將兩個 collection 互相進行內
插產生新的 collection 的用途
</p>

<div class="org-src-container">
<pre class="src src-clojure">(interleave [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>] [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1 </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3)</span>
</pre>
</div>

<p>
當然我們看到了序列 (sequence) 就會想到 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，因此也可以寫一個 reduce 的版本
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reverse (reduce #(conj <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%2</span>) '() '(1 2 3)))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 1 2 2 3 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org61591af" class="outline-2">
<h2 id="org61591af">033: Replicate a Sequence</h2>
<div class="outline-text-2" id="text-org61591af">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/33" target="_blank" rel="external">https://www.4clojure.com/problem/33</a>

Write a function which replicates each element of a sequence a variable number
of times.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3] 2) '(1 1 2 2 3 3))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>] 4) '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [4 5 6] 1) '(4 5 6))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [[1 2] [3 4]] 2) '([1 2] [1 2] [3 4] [3 4]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [44 33] 2) [44 44 33 33])
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p033')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p033" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [coll n] (mapcat #(repeat n <span style="color: #aaccff;">%</span>) coll))
</pre>
</div>
</blockquote>

<p>
這題要求根據輸入的數值，決定要重複幾次，看到這裡就可以想到 <a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 或是 <a href="https://clojuredocs.org/clojure.core/repeat" target="_blank" rel="external">repeat</a> 
</p>

<div class="org-src-container">
<pre class="src src-clojure">(take 5 (range 10))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4)</span>
(repeat 2 [1 2])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ([1 2] [1 2])</span>
</pre>
</div>

<p>
因此我們可以使用強大的 <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 讓他進行先 map 再 concat 的動作
</p>

<div class="org-src-container">
<pre class="src src-clojure">(mapcat reverse [[3 2 1 0] [6 5 4] [9 8 7]])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4 5 6 7 8 9)</span>
</pre>
</div>

<p>
所以整體程式就變成這樣了:
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [coll n] (mapcat #(repeat n <span style="color: #aaccff;">%</span>) coll)) [4 5 6] 1)
</pre>
</div>

<p>
不過這題其實應該也要可以使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 來解才對，以下的答案是可以運作的，不過送到
4clojure 卻會報錯 (clojure 版本問題 ?)
</p>

<div class="org-src-container">
<pre class="src src-clojure">(apply interleave (repeat 1 [1 2 3]))
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org89ddab6" class="outline-2">
<h2 id="org89ddab6">034: Implement range</h2>
<div class="outline-text-2" id="text-org89ddab6">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/34" target="_blank" rel="external">https://www.4clojure.com/problem/34</a>

Write a function which creates a list of all integers in a given range.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 1 4) '(1 2 3))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ -2 2) '(-2 -1 0 1))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 5 8) '(5 6 7))
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>range</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p034')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p034" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(take (- <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span>)
         ((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">gen-range</span> [n]
            (lazy-cat [n (inc n)]
                      (map inc (rest (gen-range n)))))
          <span style="color: #aaccff;">%1</span>))
</pre>
</div>
</blockquote>

<p>
這一題要實作類似 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a> 的功能，我們先來複習一下 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(range)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4 5 6 7 8 9 10 ... 12770 12771 12772 12773 ... n</span>

(take 10 (range))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt;(0 1 2 3 4 5 6 7 8 9)</span>

(range -5 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-5 -4 -3 -2 -1 0 1 2 3 4)</span>

(range -100 100 10)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-100 -90 -80 -70 -60 -50 -40 -30 -20 -10 0 10 20 30 40 50 60 70 80 90)</span>
</pre>
</div>

<p>
那要怎麼解呢? 我一開始想到的是要自己做出從 0 ~ N 的 lazy sequence，因此就想到了<a href="#orgbb3223f">026: Fibonacci Sequence</a> 使用過的 <a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> ，來複習一下當時是怎樣使用
lazy-cat 產生 Fibonacci Sequence 的
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">fib-seq</span>
  (lazy-cat [0 1]
            (map + fib-seq (rest fib-seq))))

(take 10 fib-seq)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 1 2 3 5 8 13 21 34)</span>
</pre>
</div>

<p>
因此我們就可以依樣畫葫蘆打照一個簡單的 0 ~ N 的序列 (sequence) 產生器
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">gen</span>
  (lazy-cat [0 1]
            (map inc (rest gen))))

(take 10 gen)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4 5 6 7 8 9)</span>
</pre>
</div>

<p>
有了這個產生器後，我們可以把他改為函式 (function) 的版本，並讓他有一個輸入，用來設定起始值
</p>

<div class="org-src-container">
<pre class="src src-clojure">(take 10
       ((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">gen-range</span> [n]
          (lazy-cat [n (inc n)]
                    (map inc (rest (gen-range n)))))
        -4))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-4 -3 -2 -1 0 1 2 3 4 5 )</span>
</pre>
</div>

<p>
接下來我們就可以把所有東西合併，於是這題的解法就出現了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(take (- <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span>)
         ((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">gen-range</span> [n]
            (lazy-cat [n (inc n)]
                      (map inc (rest (gen-range n)))))
          <span style="color: #aaccff;">%1</span>))
  -2 2)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-2 -1 0 1)</span>
</pre>
</div>

<p>
除了使用 <a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 外，其實我們也可以使用 <a href="https://clojuredocs.org/clojure.core/iterate" target="_blank" rel="external">iterate</a> 去產生連續的序列 (sequence)
</p>

<div class="org-src-container">
<pre class="src src-clojure">(iterate inc 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (5 6 7 8 9 10 11 12 13 14 15 ... n)</span>
(take 5 (iterate inc 5))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (5 6 7 8 9)</span>
(take 10 (iterate (partial + 2) 0))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 2 4 6 8 10 12 14 16 18)</span>
</pre>
</div>

<p>
因此這題如果使用 <a href="https://clojuredocs.org/clojure.core/iterate" target="_blank" rel="external">iterate</a> 來解的話，作法則是像這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [x y] (take (- y x) (iterate inc x))) -1 2)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (-1 0 1)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgb3c5efb" class="outline-2">
<h2 id="orgb3c5efb">035: Local bindings</h2>
<div class="outline-text-2" id="text-orgb3c5efb">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/35" target="_blank" rel="external">https://www.4clojure.com/problem/35</a>

Clojure lets you give local names to values using the special let-form.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">let</span> [x 5] (+ 2 x)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">let</span> [x 3, y 10] (- y x)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">let</span> [x 21] (<span style="color: #aaffaa;">let</span> [y 3] (/ x y))))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p035')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p035" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">7
</pre>
</div>
</blockquote>

<p>
這一題在複習 <a href="https://clojuredocs.org/clojure.core/let" target="_blank" rel="external">let</a> 的使用方式，在 clojure 中 let 是用來產生 <code>區域變數</code> 的好方法
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">let</span> [x 1] x)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Note that the binding for the symbol y won't exist outside of the let:</span>
(<span style="color: #aaffaa;">let</span> [y 1] y)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
(prn y)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Exception: Unable to resolve symbol: y in this context (NO_SOURCE_FILE:7)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org9ca9c11" class="outline-2">
<h2 id="org9ca9c11">036: Let it Be</h2>
<div class="outline-text-2" id="text-org9ca9c11">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/36" target="_blank" rel="external">https://www.4clojure.com/problem/36</a>

Can you bind x, y, and z so that these are all true?
</p>


<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p036')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p036" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">[x 7 y 3 z 1]
</pre>
</div>
</blockquote>

<p>
讓我們再一次複習 <a href="https://clojuredocs.org/clojure.core/let" target="_blank" rel="external">let</a> 的使用方式
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">let</span> [x 1] x)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Note that the binding for the symbol y won't exist outside of the let:</span>
(<span style="color: #aaffaa;">let</span> [y 1] y)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
(prn y)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Exception: Unable to resolve symbol: y in this context (NO_SOURCE_FILE:7)</span>

(<span style="color: #aaffaa;">let</span> [a 1 b 2] 
       (+ a b))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org16bffc2" class="outline-2">
<h2 id="org16bffc2">037: Regular Expressions</h2>
<div class="outline-text-2" id="text-org16bffc2">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/37" target="_blank" rel="external">https://www.4clojure.com/problem/37</a>

Regex patterns are supported with a special reader macro.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (apply str (re-seq #<span style="color: #aadddd;">"[A-Z]+"</span> <span style="color: #aadddd;">"bA1B3Ce "</span>)))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p037')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p037" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #aadddd;">"ABC"</span>
</pre>
</div>
</blockquote>

<p>
在 clojure 中，我們可以使用 <a href="https://clojuredocs.org/clojure.core/re-seq" target="_blank" rel="external">re-seq</a> 去根據正規表達式產生 lazy sequence，由於回傳
的東西是序列 (sequence) 因此我們再使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 與 <a href="https://clojuredocs.org/clojure.core/str" target="_blank" rel="external">str</a> 將其合併為字串
</p>

<div class="org-src-container">
<pre class="src src-clojure">(re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\d</span><span style="color: #aadddd;">"</span> <span style="color: #aadddd;">"clojure 1.1.0"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("1" "1" "0")</span>
(re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\w</span><span style="color: #aadddd;">+"</span> <span style="color: #aadddd;">"mary had a little lamb"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("mary" "had" "a" "little" "lamb")</span>
(re-seq #<span style="color: #aadddd;">"[A-Z]+"</span> <span style="color: #aadddd;">"bA1B3Ce "</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("A" "B" "C")</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org7125aa9" class="outline-2">
<h2 id="org7125aa9">038: Maximum value</h2>
<div class="outline-text-2" id="text-org7125aa9">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/38" target="_blank" rel="external">https://www.4clojure.com/problem/38</a>

Write a function which takes a variable number of parameters and returns the
maximum value.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 1 8 3 4) 8)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 30 20) 30)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 45 67 11) 67)
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>max</li>
<li>max-key</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p038')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p038" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [x &amp; xs]
  (reduce #(<span style="color: #aaffaa;">if</span> (&gt; <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>) x xs))
</pre>
</div>
</blockquote>

<p>
我們先來想想，假設輸入參數是一個序列 (sequence) 的話，我們會怎麼作? 想到序列
(sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，因此就可以像這樣去找出一個序列中的最大值
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reduce (<span style="color: #aaffaa;">fn</span> [a b] (<span style="color: #aaffaa;">if</span> (&gt; a b) a b)) '(1 5 2 8))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 8</span>
</pre>
</div>

<p>
然而實際上這個題目是不定數量的參數，因此就變成要這樣寫
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [x &amp; xs]
    (reduce #(<span style="color: #aaffaa;">if</span> (&gt; <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>) x xs)) '(1 5 2 8))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; 8</span>
</pre>
</div>

<p>
當然匿名函式除了可以用 <code>%1</code> 、 <code>%2</code> 來指定是第一還是第二個參數，我們也可以用
<code>%&amp;</code> 來指定所有參數，因此更簡單的 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> 則是這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(reduce (<span style="color: #aaffaa;">fn</span> [a b] (<span style="color: #aaffaa;">if</span> (&gt; a b) a b)) <span style="color: #aaccff;">%&amp;</span>) 1 5 2 8)
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">= &gt; 8</span>
</pre>
</div>

<p>
或者是這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [&amp; x] (reduce (<span style="color: #aaffaa;">fn</span> [a b] (<span style="color: #aaffaa;">if</span> (&gt; a b) a b)) x)) 1 5 2 8)
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">= &gt; 8</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org767eb94" class="outline-2">
<h2 id="org767eb94">039: Interleave Two Seqs</h2>
<div class="outline-text-2" id="text-org767eb94">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/39" target="_blank" rel="external">https://www.4clojure.com/problem/39</a>

Write a function which takes two sequences and returns the first item from each,
then the second item from each, then the third, etc.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3] [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>]) '(1 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span> 3 <span style="color: #ccaaff;">:c</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2] [3 4 5 6]) '(1 3 2 4))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3 4] [5]) [1 5])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [30 20] [25 15]) [30 25 20 15])
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>interleave</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p039')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p039" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">mapcat list
</pre>
</div>
</blockquote>

<p>
我們在 <a href="#org8d215bf">032: Duplicate a Sequence</a> 裡面用到了 <a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> ，現在換要我們實作
<a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> 的功能了，不過先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure">(interleave [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>] [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1 </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3)</span>
</pre>
</div>

<p>
在前面說過了看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 、<a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，現在有兩個序列我們可以想
到 map 的變種: <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a>
</p>

<p>
<a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 其實就是先對序列 (sequence) 進行 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 之後再進行 <a href="https://clojuredocs.org/clojure.core/concat" target="_blank" rel="external">concat</a> 的運作:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Suppose you've got a function that takes a value</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">and returns a list of things from it, for example:</span>
(<span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">f1</span>
  [n]
  [(- n 1) n (+ n 1)])

(f1 1)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [0 1 2]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Perhaps you'd like to map it onto each item in a collection:</span>
(map f1 [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ([0 1 2] [1 2 3] [2 3 4])</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">But suppose you wanted them all concatenated? You could do this:</span>
(apply concat (map f1 [1 2 3]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 1 2 3 2 3 4)</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Or you could get the same thing with `</span><span style="color: #ccaaff; font-style: italic;">mapcat</span><span style="color: #9ac; font-style: italic;">`:</span>
(mapcat f1 [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 1 2 3 2 3 4)</span>
</pre>
</div>

<p>
所以你就可以使用 <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 來解決這個問題
</p>

<div class="org-src-container">
<pre class="src src-clojure"> (mapcat list [1 2 3] [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 3 </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">)</span>
</pre>
</div>

<p>
或是
</p>

<div class="org-src-container">
<pre class="src src-clojure">(mapcat (<span style="color: #aaffaa;">fn</span> [&amp; x] x) [1 2 3] [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 3 </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org199298e" class="outline-2">
<h2 id="org199298e">040: Interpose a Seq</h2>
<div class="outline-text-2" id="text-org199298e">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/40" target="_blank" rel="external">https://www.4clojure.com/problem/40</a>

Write a function which separates the items of a sequence by an arbitrary value.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 0 [1 2 3]) [1 0 2 0 3])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (apply str (__ <span style="color: #aadddd;">", "</span> [<span style="color: #aadddd;">"one"</span> <span style="color: #aadddd;">"two"</span> <span style="color: #aadddd;">"three"</span>]))
   <span style="color: #aadddd;">"one, two, three"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #ccaaff;">:z</span> [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span>]) [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:z</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:z</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:z</span> <span style="color: #ccaaff;">:d</span>])
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>interpose</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p040')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p040" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [sep coll]
  (drop-last (mapcat list coll (repeat (count coll) sep))))
</pre>
</div>
</blockquote>

<p>
題目要我們實現 <a href="https://clojuredocs.org/clojure.core/interpose" target="_blank" rel="external">interpose</a> ，因此照慣例再來複習一下，簡單來說 <a href="https://clojuredocs.org/clojure.core/interpose" target="_blank" rel="external">interpose</a> 就是將傳入
的參入內插到 collection 中
</p>

<div class="org-src-container">
<pre class="src src-clojure">(interpose <span style="color: #ccaaff;">:a</span> [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 3)</span>
(interpose <span style="color: #aadddd;">", "</span> [<span style="color: #aadddd;">"one"</span> <span style="color: #aadddd;">"two"</span> <span style="color: #aadddd;">"three"</span>])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("one" ", " "two" ", " "three")</span>
(apply str (interpose <span style="color: #aadddd;">", "</span> [<span style="color: #aadddd;">"one"</span> <span style="color: #aadddd;">"two"</span> <span style="color: #aadddd;">"three"</span>])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "one, two, three"</span>
</pre>
</div>

<p>
在 <a href="#org767eb94">039: Interleave Two Seqs</a> 我們說到了看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 、<a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a>
。雖然本題中我們目前只有一個序列 (sequence) ，但是我們可以透過 <a href="https://clojuredocs.org/clojure.core/repeat" target="_blank" rel="external">repeat</a> 自己製作另外一組序列 (sequence)
</p>

<p>
現在有兩個序列我們可以想到 map 的變種: <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a>
</p>

<p>
<a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat</a> 其實就是先對序列 (sequence) 進行 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 之後再進行 <a href="https://clojuredocs.org/clojure.core/concat" target="_blank" rel="external">concat</a> 的運作，再重新複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Suppose you've got a function that takes a value</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">and returns a list of things from it, for example:</span>
(<span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">f1</span>
  [n]
  [(- n 1) n (+ n 1)])

(f1 1)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [0 1 2]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Perhaps you'd like to map it onto each item in a collection:</span>
(map f1 [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ([0 1 2] [1 2 3] [2 3 4])</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">But suppose you wanted them all concatenated? You could do this:</span>
(apply concat (map f1 [1 2 3]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 1 2 3 2 3 4)</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Or you could get the same thing with `</span><span style="color: #ccaaff; font-style: italic;">mapcat</span><span style="color: #9ac; font-style: italic;">`:</span>
(mapcat f1 [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 1 2 3 2 3 4)</span>
</pre>
</div>

<p>
也複習一下 <a href="https://clojuredocs.org/clojure.core/repeat" target="_blank" rel="external">repeat</a> 的使用
</p>

<div class="org-src-container">
<pre class="src src-clojure">(take 5 (repeat <span style="color: #aadddd;">"x"</span>))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("x" "x" "x" "x" "x")</span>

(repeat 5 <span style="color: #aadddd;">"x"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("x" "x" "x" "x" "x")</span>
</pre>
</div>

<p>
所以你就可以使用 <a href="https://clojuredocs.org/clojure.core/mapcat" target="_blank" rel="external">mapcat </a> 搭配 <a href="https://clojuredocs.org/clojure.core/repeat" target="_blank" rel="external">repeat</a> 來解決這個問題
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [sep coll]
    (mapcat list coll (repeat (count coll) sep)))
  <span style="color: #ccaaff;">:a</span> [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 3 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">)</span>
</pre>
</div>

<p>
但是由於這樣會多出一個 <code>:a</code> ，因此我們再使用 <a href="https://clojuredocs.org/clojure.core/drop-last" target="_blank" rel="external">drop-last</a> 將最後一個元素捨棄，本題
的答案就這樣完成了
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [sep coll]
    (drop-last (mapcat list coll (repeat (count coll) sep))))
  <span style="color: #ccaaff;">:a</span> [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 2 </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 3)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgda1639b" class="outline-2">
<h2 id="orgda1639b">041: Drop Every Nth Item</h2>
<div class="outline-text-2" id="text-orgda1639b">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/41" target="_blank" rel="external">https://www.4clojure.com/problem/41</a>

Write a function which drops every Nth item from a sequence.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3 4 5 6 7 8] 3) [1 2 4 5 7 8])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:e</span> <span style="color: #ccaaff;">:f</span>] 2) [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:e</span>])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3 4 5 6] 4) [1 2 3 5 6])
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p041')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p041" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(apply concat (partition-all (dec <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%</span>))
</pre>
</div>
</blockquote>

<p>
題目要求我們 <code>每隔</code> 幾個數值就將該位置的東西剔除，因此我們可以考慮先將資料分組，
<a href="https://clojuredocs.org/clojure.core/partition-all" target="_blank" rel="external">partition-all</a> 就是處理這件事的不二人選，讓我們來看看他的用法以及和 <a href="https://clojuredocs.org/clojure.core/partition" target="_blank" rel="external">partition</a> 的
不同
</p>

<div class="org-src-container">
<pre class="src src-clojure">(partition 4 [0 1 2 3 4 5 6 7 8 9])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7))</span>
(partition-all 4 [0 1 2 3 4 5 6 7 8 9])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7) (8 9))</span>

(partition-all 2 [0 1 2 3 4 5 6 7 8 9])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1) (2 3) (4 5) (6 7) (8 9))</span>
(partition-all 2 4 [0 1 2 3 4 5 6 7 8 9])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1) (4 5) (8 9))</span>
</pre>
</div>

<p>
因此這一題就可以這樣作
</p>

<div class="org-src-container">
<pre class="src src-clojure">(apply concat (partition-all 2 3 [1 2 3 4 5 6 7 8]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 4 5 7 8)</span>
(#(apply concat (partition-all (dec <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%</span>)) [1 2 3 4 5 6 7 8] 3)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 4 5 7 8)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org8f679b4" class="outline-2">
<h2 id="org8f679b4">042: Factorial Fun</h2>
<div class="outline-text-2" id="text-org8f679b4">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/42" target="_blank" rel="external">https://www.4clojure.com/problem/42</a>

Write a function which calculates factorials.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 1) 1)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 3) 6)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 5) 120)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 8) 40320)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p042')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p042" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(reduce * (range 1 (inc <span style="color: #aaccff;">%</span>)))
</pre>
</div>
</blockquote>

<p>
題目要求計算階乘 (<a href="https://en.wikipedia.org/wiki/Factorial" target="_blank" rel="external">Factorial</a>)，比如說 5! 就是 5 * 4 * 3 * 2 * 1 = 120，以數學公式
來看的話 Factorial 則是長這樣
</p>

<div class="org-src-container">
<pre class="src src-latex"><span style="color: #aaffaa;">\begin</span>{<span style="color: #aaccff;">equation*</span>}
n! = <span style="color: #aaffaa;">\prod</span>_{k=1}^{n}k
<span style="color: #aaffaa;">\end</span>{<span style="color: #aaccff;">equation*</span>}
</pre>
</div>


<p>
在這個題目中我使用 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a> 去取得 1 ~ x 的序列
</p>

<div class="org-src-container">
<pre class="src src-clojure">(range 1 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
</pre>
</div>

<p>
由於 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a> 不會將 x 包進序列中，所以我使用 <a href="https://clojuredocs.org/clojure.core/inc" target="_blank" rel="external">inc</a> 去增加這個序列的範圍
</p>

<div class="org-src-container">
<pre class="src src-clojure">(inc 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>

(range 1 (inc 5))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4 5)</span>
</pre>
</div>

<p>
接下來我們就可以快樂的使用 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> 來針對序列進行乘法的運作
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reduce * '(1 2 3 4 5))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 120</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org3c1510d" class="outline-2">
<h2 id="org3c1510d">043: Reverse Interleave</h2>
<div class="outline-text-2" id="text-org3c1510d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/43" target="_blank" rel="external">https://www.4clojure.com/problem/43</a>

Write a function which reverses the interleave process into x number of
subsequences.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3 4 5 6] 2) '((1 3 5) (2 4 6)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ (range 9) 3) '((0 3 6) (1 4 7) (2 5 8)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ (range 10) 5) '((0 5) (1 6) (2 7) (3 8) (4 9)))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p043')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p043" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(apply map list (partition <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%</span>))
</pre>
</div>
</blockquote>

<p>
這題真的不要想的太複雜，我在寫這一題時因為整天都在寫 4clojure 腦袋壞掉了，於是有
一個很複雜的版本，等等來看看。
</p>

<p>
看到這個題目第一個我想到的就是使用 <a href="https://clojuredocs.org/clojure.core/partition" target="_blank" rel="external">partition</a> 幫我將序列 (sequence) 分組，照慣例
來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure">(partition 4 [0 1 2 3 4 5 6 7 8 9])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7))</span>
(partition-all 4 [0 1 2 3 4 5 6 7 8 9])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7) (8 9))</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">partition a list of 22 items into 5 (20/4) lists of 4 items</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">the last two items do not make a complete partition and are dropped.</span>
(partition 4 (range 22))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (4 5 6 7) (8 9 10 11) (12 13 14 15) (16 17 18 19))</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">uses the step to select the starting point for each partition</span>
(partition 4 6 (range 20))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2 3) (6 7 8 9) (12 13 14 15))</span>
</pre>
</div>

<p>
所以我們先用 <a href="https://clojuredocs.org/clojure.core/partition" target="_blank" rel="external">partition</a> 將序列 (sequence) 分組，再使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 將分組的東西分配給
<a href="https://clojuredocs.org/clojure.core/list" target="_blank" rel="external">list</a> 即可，這真是太神奇了 ~
</p>

<p>
就像這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(partition 3 (range 9))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2) (3 4 5) (6 7 8))</span>

(apply list (partition 3 (range 9)))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 3 6) (1 4 7) (2 5 8))</span>
</pre>
</div>

<p>
那我一開始想得很複雜的版本是怎樣呢？我想到使用 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 搭配 <a href="https://clojuredocs.org/clojure.core/nth" target="_blank" rel="external">nth</a> 去一個一個的進行組合，就像這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">(list
  (map first
       (partition 2 [1 2 3 4 5 6])) <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 3 5)</span>
  (map second
       (partition 2 [1 2 3 4 5 6])) <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (2 4 6)</span>
  )
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((1 3 5) (2 4 6))</span>
</pre>
</div>

<p>
於是套用兩次 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 就可以解決問題了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(map
  #(map (<span style="color: #aaffaa;">fn</span> [coll] (nth coll <span style="color: #aaccff;">%</span>))
          (partition 3 (range 9))) (range 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 3 6) (1 4 7) (2 5 8))</span>
</pre>
</div>

<p>
在整理成函式(function)，最後複雜點的版本就成了這個樣子:
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [sep n]
  (map
   (<span style="color: #aaffaa;">fn</span> [x] (map (<span style="color: #aaffaa;">fn</span> [coll] (nth coll x))
                (partition n sep))) (range n)))
   (range 9) 3)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 3 6) (1 4 7) (2 5 8))</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org43df7a2" class="outline-2">
<h2 id="org43df7a2">044: Rotate Sequence</h2>
<div class="outline-text-2" id="text-org43df7a2">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/44" target="_blank" rel="external">https://www.4clojure.com/problem/44</a>

Write a function which can rotate a sequence in either direction.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 2 [1 2 3 4 5]) '(3 4 5 1 2))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ -2 [1 2 3 4 5]) '(4 5 1 2 3))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 6 [1 2 3 4 5]) '(2 3 4 5 1))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 1 '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>)) '(<span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:a</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ -4 '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>)) '(<span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p044')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p044" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [dir s]
  (<span style="color: #aaffaa;">let</span> [n (mod dir (count s))]
    (concat (drop n s) (take n s))))
</pre>
</div>
</blockquote>

<p>
這一題我一開始是使用條件判斷，比如說剛開始想要得到 <code>(3 4 5 1 2)</code> 時，我們就可以
這樣作
</p>

<div class="org-src-container">
<pre class="src src-clojure">(concat (drop 2 [1 2 3 4 5]) (take 2 [1 2 3 4 5]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 4 5 1 2)</span>
</pre>
</div>

<p>
或是
</p>

<div class="org-src-container">
<pre class="src src-clojure">(concat (drop (+ 5 -2) [1 2 3 4 5]) (take (+ 5 -2) [1 2 3 4 5]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (4 5 1 2 3)</span>
</pre>
</div>

<p>
而如果輸入是正的，則取輸入數值，反之取得 <code>全部 + 輸入</code> ，就像這樣：
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(<span style="color: #aaffaa;">if</span> (&gt; <span style="color: #aaccff;">%1</span> 0)
     (concat (drop <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>) (take <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>))
     (concat (drop (+ (count <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span>) <span style="color: #aaccff;">%2</span>) (take (+ (count <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span>) <span style="color: #aaccff;">%2</span>)))
  -2 [1 2 3 4 5])
</pre>
</div>

<p>
我們發現其實都是先進行 <code>drop</code> 再進行 <code>take</code> ，因此我們只要有一個方式可以簡單取得
要 drop 或是 take 多少即可，這個時候就可以透過 <a href="https://clojuredocs.org/clojure.core/mod" target="_blank" rel="external">mod</a> 來計算，也就是這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">(mod 2 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
(mod -2 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
</pre>
</div>

<p>
於是我們的程式就完成了:
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [dir s]
  (<span style="color: #aaffaa;">let</span> [n (mod dir (count s))]
    (concat (drop n s) (take n s)))) -2 [1 2 3 4 5])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (4 5 1 2 3)</span>
</pre>
</div>

<p>
使用條件判斷的複雜版本則是長成這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [n coll]
     (<span style="color: #aaffaa;">let</span> [c (count coll)
           x (<span style="color: #aaffaa;">cond</span>
               (&gt; n c) (- n c)
               (&gt; n 0) n
               (&lt; (+ n c) 0) (+ n c c)
               (&lt; n 0) (+ c n))]
       (concat (drop x coll) (take x coll))))
   -4 '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orga73cc3f" class="outline-2">
<h2 id="orga73cc3f">045: Intro to Iterate</h2>
<div class="outline-text-2" id="text-orga73cc3f">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/45" target="_blank" rel="external">https://www.4clojure.com/problem/45</a>

The iterate function can be used to produce an infinite lazy sequence.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (take 5 (iterate #(+ 3 <span style="color: #aaccff;">%</span>) 1)))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p045')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p045" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'(1 4 7 10 13)
</pre>
</div>
</blockquote>

<p>
這題在介紹 clojure 的 <a href="https://clojuredocs.org/clojure.core/iterate" target="_blank" rel="external">iterate</a> ，我們先來看看一般用法
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">iterate Ad Infinitum starting at 5 using the inc (increment) function</span>
(iterate inc 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (5 6 7 8 9 10 11 12 13 14 15 ... n</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">limit results</span>
(take 5 (iterate inc 5))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (5 6 7 8 9)</span>
</pre>
</div>

<p>
也就是說，使用 <a href="https://clojuredocs.org/clojure.core/iterate" target="_blank" rel="external">iterate</a> 的序列本身會從 0 開始不斷的往上增加，因此此題就會像這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">(take 5 (iterate #(+ 3 <span style="color: #aaccff;">%</span>) 1))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 4 7 10 13)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org8f141b7" class="outline-2">
<h2 id="org8f141b7">046: Flipping out</h2>
<div class="outline-text-2" id="text-org8f141b7">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/46" target="_blank" rel="external">https://www.4clojure.com/problem/46</a>

Write a higher-order function which flips the order of the arguments of an input
function.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= 3 ((__ nth) 2 [1 2 3 4 5]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> ((__ &gt;) 7 8))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= 4 ((__ quot) 2 8))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= [1 2 3] ((__ take) [1 2 3 4 5] 3))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p046')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p046" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(<span style="color: #aaffaa;">fn</span> [x y]
   (<span style="color: #aaccff;">%</span> y x))
</pre>
</div>
</blockquote>

<p>
這一題&#x2026;.我不會解釋耶 XD 簡單來說就是使用匿名函式搭配匿名函式產生新的函式 (好拗
口)，於是答案就出來了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(((<span style="color: #aaffaa;">fn</span> [f] (<span style="color: #aaffaa;">fn</span> [x y] (f y x))) &gt;) 7 8)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

<p>
這題也可以使用 <a href="https://clojuredocs.org/clojure.core/apply" target="_blank" rel="external">apply</a> 來解決 (不過沒有比較好)
</p>

<div class="org-src-container">
<pre class="src src-clojure">(((<span style="color: #aaffaa;">fn</span> [f] (<span style="color: #aaffaa;">fn</span> [arg1 arg2 &amp; args] (apply f arg2 arg1 args)))
  &gt;) 7 8)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org4ce19af" class="outline-2">
<h2 id="org4ce19af">047: Contain Yourself</h2>
<div class="outline-text-2" id="text-org4ce19af">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/47" target="_blank" rel="external">https://www.4clojure.com/problem/47</a>

The contains? function checks if a KEY is present in a given collection. This
often leads beginner clojurians to use it incorrectly with numerically indexed
collections like vectors and lists.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(contains? #{4 5 6} __)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(contains? [1 1 1 1 1] __)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(contains? {4 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span>} __)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(not (contains? [1 2 4] __))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p047')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p047" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">4
</pre>
</div>
</blockquote>

<p>
這一題目的是搞清楚 <a href="https://clojuredocs.org/clojure.core/contains_q" target="_blank" rel="external">contains?</a> 的用法，其實這函式就如其名，是用來檢查是否有 <code>key</code>
在提供的 collection 中的，常用的用法是這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">(contains? {<span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2} <span style="color: #ccaaff;">:a</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>

(contains? {<span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2} <span style="color: #ccaaff;">:c</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
當然如果你拿來用在 vector 或是 sequence 中，就會出錯，因為只有 <code>Maps</code> 的結構具有
<code>key</code> ，陣列之類的則是透過 index 去找尋資料。
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">It's likely to surprise you for other sequences because it's</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">about *indices* or *keys*, not *contents*:</span>

(contains? [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>] <span style="color: #ccaaff;">:b</span>)  <span style="color: #9ac; font-style: italic;">;=&gt; false</span>
(contains? [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>] 2)   <span style="color: #9ac; font-style: italic;">;=&gt; true</span>

(contains? <span style="color: #aadddd;">"f"</span> 0)          <span style="color: #9ac; font-style: italic;">;=&gt; true</span>
(contains? <span style="color: #aadddd;">"f"</span> 1)          <span style="color: #9ac; font-style: italic;">;=&gt; false</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org631b120" class="outline-2">
<h2 id="org631b120">048: Intro to some</h2>
<div class="outline-text-2" id="text-org631b120">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/48" target="_blank" rel="external">https://www.4clojure.com/problem/48</a>

The some function takes a predicate function and a collection. It returns the
first logical true value of (predicate x) where x is an item in the collection.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (some #{2 7 6} [5 6 7 8]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (some #(<span style="color: #aaffaa;">when</span> (even? <span style="color: #aaccff;">%</span>) <span style="color: #aaccff;">%</span>) [5 6 7 8]))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p048')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p048" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">6
</pre>
</div>
</blockquote>

<p>
這一題介紹了 <a href="https://clojuredocs.org/clojure.core/some" target="_blank" rel="external">some</a> 的使用方式，<a href="https://clojuredocs.org/clojure.core/some" target="_blank" rel="external">some</a> 會去尋找序列中 <code>第一個</code> 符合的元素並回傳，因
此你只會得到第一個被找到的結果
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">2 is even, so `</span><span style="color: #ccaaff; font-style: italic;">some</span><span style="color: #9ac; font-style: italic;">` stops there, 3 and 4 are never tested</span>
(some even? '(1 2 3 4))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; true</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">they are all odd, so not true, i.e. nil</span>
(some even? '(1 3 5 7))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; nil</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">the first logical true value is returned, i.e. anything but nil and false</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">when return nil if its predicate is logical false.</span>
(some #(<span style="color: #aaffaa;">when</span> (even? <span style="color: #aaccff;">%</span>) <span style="color: #aaccff;">%</span>) '(1 2 3 4))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">a hash acts as a function returning nil when the</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">key is not present and the key value otherwise.</span>
(some {2 <span style="color: #aadddd;">"two"</span> 3 <span style="color: #aadddd;">"three"</span>} [<span style="color: #ccaaff;">nil</span> 3 2])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; "three"</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgde9c2e2" class="outline-2">
<h2 id="orgde9c2e2">049: Split a sequence</h2>
<div class="outline-text-2" id="text-orgde9c2e2">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/49" target="_blank" rel="external">https://www.4clojure.com/problem/49</a>

Write a function which will split a sequence into two parts.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 3 [1 2 3 4 5 6]) [[1 2 3] [4 5 6]])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 1 [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span>]) [[<span style="color: #ccaaff;">:a</span>] [<span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span>]])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 2 [[1 2] [3 4] [5 6]]) [[[1 2] [3 4]] [[5 6]]])
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>split-at</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p049')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p049" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(vector (take <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>) (drop <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>))
</pre>
</div>
</blockquote>

<p>
先來複習一下 <a href="https://clojuredocs.org/clojure.core/split-at" target="_blank" rel="external">split-at</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(split-at 2 [1 2 3 4 5])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [(1 2) (3 4 5)]</span>
(split-at 3 [1 2])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [(1 2) ()]</span>
</pre>
</div>

<p>
這題看到題目就讓我想到了可以使用 <a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 和 <a href="https://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 來解決問題，因此可以這樣解題
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(vector (take <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>) (drop <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>))
 3 [1 2 3 4 5 6])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [[1 2 3] [4 5 6]]</span>
</pre>
</div>

<p>
除了上面的方法外，我們也可以用 <a href="https://clojuredocs.org/clojure.core/juxt" target="_blank" rel="external">juxt</a> 來產生更簡單的解法，先看看他的用法
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Extract values from a map, treating keywords as functions.</span>
((juxt <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>) {<span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2 <span style="color: #ccaaff;">:c</span> 3 <span style="color: #ccaaff;">:d</span> 4})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [1 2]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">"Explode" a value.</span>
((juxt identity name) <span style="color: #ccaaff;">:keyword</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [</span><span style="color: #9ac; font-style: italic;">:keyword</span><span style="color: #9ac; font-style: italic;"> "keyword"]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Get the first character and length of string</span>
((juxt first count) <span style="color: #aadddd;">"Clojure Rocks"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [\C 13]</span>
</pre>
</div>

<p>
因此此題就可以這樣解:
</p>

<div class="org-src-container">
<pre class="src src-clojure">((juxt take drop) 3 [1 2 3 4 5 6])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [[1 2 3] [4 5 6]]</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org1b85728" class="outline-2">
<h2 id="org1b85728">050: Split by Type</h2>
<div class="outline-text-2" id="text-org1b85728">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/50" target="_blank" rel="external">https://www.4clojure.com/problem/50</a>

Write a function which takes a sequence consisting of items with different types
and splits them up into a set of homogeneous sub-sequences. The internal order
of each sub-sequence should be maintained, but the sub-sequences themselves can
be returned in any order (this is why 'set' is used in the test cases).
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (set (__ [1 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span> 3 <span style="color: #ccaaff;">:c</span>])) #{[1 2 3] [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>]})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (set (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #aadddd;">"foo"</span>  <span style="color: #aadddd;">"bar"</span> <span style="color: #ccaaff;">:b</span>])) #{[<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>] [<span style="color: #aadddd;">"foo"</span> <span style="color: #aadddd;">"bar"</span>]})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (set (__ [[1 2] <span style="color: #ccaaff;">:a</span> [3 4] 5 6 <span style="color: #ccaaff;">:b</span>])) #{[[1 2] [3 4]] [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>] [5 6]})
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p050')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p050" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(vals (group-by type <span style="color: #aaccff;">%</span>))
</pre>
</div>
</blockquote>

<p>
根據此題的要求，我們首先要會使用 <a href="https://clojuredocs.org/clojure.core/type" target="_blank" rel="external">type</a> 去知道不同的型別
</p>

<div class="org-src-container">
<pre class="src src-clojure">(type 10)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Long</span>
(type 10.0)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Double</span>
(type [10 20])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">= &gt; clojure.lang.PersistentVector</span>
</pre>
</div>

<p>
那麼要怎樣分組呢？我們可以使用 <a href="https://clojuredocs.org/clojure.core/group-by" target="_blank" rel="external">group-by</a> 來達到這件事情
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">group strings by their length</span>
(group-by count [<span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"as"</span> <span style="color: #aadddd;">"asd"</span> <span style="color: #aadddd;">"aa"</span> <span style="color: #aadddd;">"asdf"</span> <span style="color: #aadddd;">"qwer"</span>])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; {1 ["a"], 2 ["as" "aa"], 3 ["asd"], 4 ["asdf" "qwer"]}</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">group integers by a predicate</span>
(group-by odd? (range 10))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; {false [0 2 4 6 8], true [1 3 5 7 9]}</span>
</pre>
</div>

<p>
但是因為我們使用 <a href="https://clojuredocs.org/clojure.core/type" target="_blank" rel="external">type</a> 得到的是目標的型別，因此要使用 <a href="https://clojuredocs.org/clojure.core/vals" target="_blank" rel="external">vals</a> 將型別還原成數值
</p>

<div class="org-src-container">
<pre class="src src-clojure">(group-by type  [1 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span> 3 <span style="color: #ccaaff;">:c</span>])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {java.lang.Long [1 2 3], clojure.lang.Keyword [</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">]}</span>
(vals (group-by type  [1 <span style="color: #ccaaff;">:a</span> 2 <span style="color: #ccaaff;">:b</span> 3 <span style="color: #ccaaff;">:c</span>]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ([1 2 3] [</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">])</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgee776d7" class="outline-2">
<h2 id="orgee776d7">051: Advanced Destructuring</h2>
<div class="outline-text-2" id="text-orgee776d7">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/51" target="_blank" rel="external">https://www.4clojure.com/problem/51</a>

Here is an example of some more sophisticated destructuring.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= [1 2 [3 4 5] [1 2 3 4 5]] (<span style="color: #aaffaa;">let</span> [[a b &amp; c <span style="color: #ccaaff;">:as</span> d] __] [a b c d]))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p051')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p051" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">[1 2 3 4 5]
</pre>
</div>
</blockquote>

<p>
重新複習一下 <a href="https://clojuredocs.org/clojure.core/let" target="_blank" rel="external">let</a> 的使用方式
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">let</span> [a 1 b 2] 
         (+ a b))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>

(<span style="color: #aaffaa;">let</span> [a (take 5 (range))
             {<span style="color: #ccaaff;">:keys</span> [b c d] <span style="color: #ccaaff;">:or</span> {d 10 b 20 c 30}} {<span style="color: #ccaaff;">:c</span> 50 <span style="color: #ccaaff;">:d</span> 100}
             [e f g &amp; h] [<span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"b"</span> <span style="color: #aadddd;">"c"</span> <span style="color: #aadddd;">"d"</span> <span style="color: #aadddd;">"e"</span>]
             _ (println <span style="color: #aadddd;">"I was here!"</span>)
             foo 12
             bar (+ foo 100)]
         [a b c d e f g h foo bar])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; I was here!</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">-&gt; [(0 1 2 3 4) 20 50 100 "a" "b" "c" ("d" "e") 12 112]</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org497b31f" class="outline-2">
<h2 id="org497b31f">052: Intro to Destructuring</h2>
<div class="outline-text-2" id="text-org497b31f">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/52" target="_blank" rel="external">https://www.4clojure.com/problem/52</a>

Let bindings and function parameter lists support destructuring.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= [2 4] (<span style="color: #aaffaa;">let</span> [[a b c d e] [0 1 2 3 4]] __))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p052')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p052" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">[c e]
</pre>
</div>
</blockquote>

<p>
<a href="http://clojure.org/special_forms#Special%20Forms--Binding%20Forms%20%28Destructuring%29-Map%20binding%20destructuring" target="_blank" rel="external">destructing</a> 是 clojure 下一個非常好用的功能，他可以讓你輸入的陣列直接被指派給變數，如下:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">get-points</span> [[x y]]
  (format <span style="color: #aadddd;">"(x, y) = (%d, %d)"</span> x y ))

(get-points [1 2])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "(x, y) = (1, 2)"</span>
</pre>
</div>


</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org65b2ca2" class="outline-2">
<h2 id="org65b2ca2">053: Longest Increasing Sub-Seq</h2>
<div class="outline-text-2" id="text-org65b2ca2">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/53" target="_blank" rel="external">https://www.4clojure.com/problem/53</a>

Given a vector of integers, find the longest consecutive sub-sequence of
increasing numbers. If two sub-sequences have the same length, use the one that
occurs first. An increasing sub-sequence must have a length of 2 or greater to
qualify.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 0 1 2 3 0 4 5]) [0 1 2 3])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [5 6 1 3 2 7]) [5 6])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [2 3 3 4 5]) [3 4 5])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [7 6 5 4]) [])
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p053')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p053" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [coll]
  (<span style="color: #aaffaa;">-&gt;&gt;</span>
   (range 2 (inc (count coll)))
   (mapcat #(partition <span style="color: #aaccff;">%</span> 1 coll))
   (filter #(apply &lt; <span style="color: #aaccff;">%</span>))
   (cons [])
   (sort-by count &gt;)
   first))
</pre>
</div>
</blockquote>

<p>
這題&#x2026;.有點難 Orz.. 不愧是 hard 等級的題目。
</p>

<p>
題目要找的是 <code>連續</code> 的序列 (sequence)，因此我們先想辦法生出所有可能的序列 (sequence)
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">let</span> [coll [5 6 1 3 2 7]]
   (mapcat #(partition <span style="color: #aaccff;">%</span> 1 coll)
           (range 2 (inc (count coll)))))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((5 6) (6 1) (1 3) (3 2) (2 7) (5 6 1) (6 1 3) (1 3 2) (3 2 7) (5 6 1 3) (6 1 3 2) (1 3 2 7) (5 6 1 3 2) (6 1 3 2 7) (5 6 1 3 2 7))</span>
</pre>
</div>

<p>
接下來，我們要過濾出開頭數值比較小的組合
</p>

<div class="org-src-container">
<pre class="src src-clojure">(filter #(apply &lt; <span style="color: #aaccff;">%</span>)
        '((5 6) (6 1) (1 3) (3 2) (2 7) (5 6 1) (6 1 3) (1 3 2) (3 2 7) (5 6 1 3) (6 1 3 2) (1 3 2 7) (5 6 1 3 2) (6 1 3 2 7) (5 6 1 3 2 7)))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((5 6) (1 3) (2 7))</span>
</pre>
</div>

<p>
接著對前面的結果進行排序，為了避免產生的結果為空的鍊表，我們使用 <a href="https://clojuredocs.org/clojure.core/cons" target="_blank" rel="external">cons</a> 送一個空陣
列進去，最後在使用 <a href="https://clojuredocs.org/clojure.core/first" target="_blank" rel="external">first</a> 取出第一個結果就是我們的答案了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(sort-by count &gt;
          (cons []
                (filter #(apply &lt; <span style="color: #aaccff;">%</span>)
                        '((5 6) (1 3) (2 7)))))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((5 6) (1 3) (2 7) [])</span>
</pre>
</div>

<p>
可以來比較一下為什麼需要用到 <a href="https://clojuredocs.org/clojure.core/cons" target="_blank" rel="external">cons</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(sort-by count &gt;
          (cons []
                (filter #(apply &lt; <span style="color: #aaccff;">%</span>)
                        '())))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ([])</span>

(sort-by count &gt;
          (filter #(apply &lt; <span style="color: #aaccff;">%</span>)
                  '()))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ()</span>
</pre>
</div>

<p>
因此這題就是這樣解:
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [coll]
    (first
     (sort-by count &gt;
              (cons []
                    (filter #(apply &lt; <span style="color: #aaccff;">%</span>)
                            (mapcat #(partition <span style="color: #aaccff;">%</span> 1 coll)
                                    (range 2 (inc (count coll)))))))))
  [5 6 1 3 2 7])
  <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [5 6]</span>
</pre>
</div>

<p>
但是這樣實在太醜了，於是使用 <a href="https://clojuredocs.org/clojure.core/-%3E%3E" target="_blank" rel="external">-&gt;&gt;</a> 來簡化程式，就變成了這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [coll]
   (<span style="color: #aaffaa;">-&gt;&gt;</span>
    (range 2 (inc (count coll)))
    (mapcat #(partition <span style="color: #aaccff;">%</span> 1 coll))
    (filter #(apply &lt; <span style="color: #aaccff;">%</span>))
    (cons [])
    (sort-by count &gt;)
    first))
 [5 6 1 3 2 7])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [5 6]</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgcdb8f32" class="outline-2">
<h2 id="orgcdb8f32">054: Partition a Sequence</h2>
<div class="outline-text-2" id="text-orgcdb8f32">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/54" target="_blank" rel="external">https://www.4clojure.com/problem/54</a>

Write a function which returns a sequence of lists of x items each. Lists of
less than x items should not be returned.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 3 (range 9)) '((0 1 2) (3 4 5) (6 7 8)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 2 (range 8)) '((0 1) (2 3) (4 5) (6 7)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 3 (range 8)) '((0 1 2) (3 4 5)))
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>partition</li>
<li>partition-all</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p054')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p054" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">partition*</span> [n v]
  (<span style="color: #aaffaa;">if</span> (&gt;= (count v) n)
    (cons (take n v) (partition* n (drop n v)))))
</pre>
</div>
</blockquote>

<p>
這題要實作 <a href="http://clojuredocs.org/clojure.core/partition" target="_blank" rel="external">partition</a> 的功能，而 partition 和一系列的 <a href="http://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 與 <a href="http://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 的組合蠻像的，
因此我們就可以這樣解決他
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">partition*</span> [n v]
  (<span style="color: #aaffaa;">if</span> (&gt;= (count v) n)
    (cons (take n v) (partition* n (drop n v)))))
 3 (range 9))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((0 1 2) (3 4 5) (6 7 8))</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org0b711f5" class="outline-2">
<h2 id="org0b711f5">055: Count Occurrences</h2>
<div class="outline-text-2" id="text-org0b711f5">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/55" target="_blank" rel="external">https://www.4clojure.com/problem/55</a>

Write a function which returns a map containing the number of occurences of each
distinct item in a sequence.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 1 2 3 2 1 1]) {1 4, 2 2, 3 1})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>]) {<span style="color: #ccaaff;">:a</span> 2, <span style="color: #ccaaff;">:b</span> 3})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '([1 2] [1 3] [1 3])) {[1 2] 1, [1 3] 2})
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>frequencies</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p055')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p055" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [x]
  (<span style="color: #aaffaa;">-&gt;&gt;</span> x
       (sort)
       (partition-by identity)
       (map #(hash-map (first <span style="color: #aaccff;">%</span>) (count <span style="color: #aaccff;">%</span>)))
       (into {})))
</pre>
</div>
</blockquote>

<p>
這一題要實作 <a href="http://clojuredocs.org/clojure.core/frequencies" target="_blank" rel="external">frequencies</a> 的功能，我們先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure">(frequencies ['a 'b 'a 'a])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {a 3, b 1}</span>
</pre>
</div>

<p>
因此我們首要任務事先將序列 (sequence) 排序，接著使用 <a href="http://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a> 將其根據數值進
行切割，最後提出我們要的數據即可。
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">-&gt;&gt;</span> [1 1 2 3 2 1 1]
     (sort)                   <span style="color: #9ac; font-style: italic;">; =&gt; (1 1 1 1 2 2 3)</span>
     (partition-by identity)  <span style="color: #9ac; font-style: italic;">; =&gt; ((1 1 1 1) (2 2) (3))</span>
     (map #(hash-map (first <span style="color: #aaccff;">%</span>) (count <span style="color: #aaccff;">%</span>))) <span style="color: #9ac; font-style: italic;">; =&gt; ({1 4} {2 2} {3 1})</span>
     (into {}))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {1 4, 2 2, 3 1}</span>
</pre>
</div>


<p>
<a href="http://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">http://clojuredocs.org/clojure.core/partition-by</a>
</p>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org792e256" class="outline-2">
<h2 id="org792e256">056: Find Distinct Items</h2>
<div class="outline-text-2" id="text-org792e256">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/56" target="_blank" rel="external">https://www.4clojure.com/problem/56</a>

Write a function which removes the duplicates from a sequence. Order of the
items must be maintained.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 1 3 1 2 4]) [1 2 3 4])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:c</span>]) [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '([2 4] [1 2] [1 3] [1 3])) '([2 4] [1 2] [1 3]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ (range 50)) (range 50))
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>distinct</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p056')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p056" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">reduce #(<span style="color: #aaffaa;">if</span> ((set <span style="color: #aaccff;">%1</span>) <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span> (conj <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>)) []
</pre>
</div>
</blockquote>

<p>
這一題我們可以透過 <a href="http://clojuredocs.org/clojure.core/set" target="_blank" rel="external">set</a> 的功能去移除重複的元素
</p>

<div class="org-src-container">
<pre class="src src-clojure">(set [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{1 3 2}</span>
((set [1 2 3]) 1)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
((set [1 2 3]) 4)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
接著只要搭配判斷式以及 <a href="http://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，問題就解決了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reduce #(<span style="color: #aaffaa;">if</span> ((set <span style="color: #aaccff;">%1</span>) <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span> (conj <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>))
        [] [1 2 1 3 1 2 4])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3 4]</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org6a08fbb" class="outline-2">
<h2 id="org6a08fbb">057: Simple Recursion</h2>
<div class="outline-text-2" id="text-org6a08fbb">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/57" target="_blank" rel="external">https://www.4clojure.com/problem/57</a>

A recursive function is a function which calls itself. This is one of the
fundamental techniques used in functional programming.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ ((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">foo</span> [x] (<span style="color: #aaffaa;">when</span> (&gt; x 0) (conj (foo (dec x)) x))) 5))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p057')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p057" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">[5 4 3 2 1]
</pre>
</div>
</blockquote>

<p>
這題目的是要看懂遞迴函式，我也不知道怎樣解釋 XD
</p>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org66536b4" class="outline-2">
<h2 id="org66536b4">058: Function Composition</h2>
<div class="outline-text-2" id="text-org66536b4">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/58" target="_blank" rel="external">https://www.4clojure.com/problem/58</a>

Write a function which allows you to create function compositions. The parameter
list should take a variable number of functions, and create a function that
applies them from right-to-left.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= [3 2 1] ((__ rest reverse) [1 2 3 4]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= 5 ((__ (partial + 3) second) [1 2 3 4]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> ((__ zero? #(mod <span style="color: #aaccff;">%</span> 8) +) 3 5 7 9))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #aadddd;">"HELLO"</span> ((__ #(<span style="color: #ff8888;">.toUpperCase</span> <span style="color: #aaccff;">%</span>) #(apply str <span style="color: #aaccff;">%</span>) take) 5 <span style="color: #aadddd;">"hello world"</span>))
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>comp</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p058')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p058" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [&amp; f]
  (<span style="color: #aaffaa;">fn</span> [&amp; coll]
    (first
     (reduce #(vector (apply <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span>)) coll (reverse f)))))
</pre>
</div>
</blockquote>

<p>
此題在實作 <a href="https://clojuredocs.org/clojure.core/comp" target="_blank" rel="external">comp</a> 的功能，讓我們來複習一下
</p>
<div class="org-src-container">
<pre class="src src-clojure">((comp str +) 8 8 8)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "24"</span>
(filter (comp not zero?) [0 1 0 2 0 3 0 4])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
</pre>
</div>

<p>
假設參數是固定的話，我們就可以這樣解:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(((<span style="color: #aaffaa;">fn</span> [f1 f2]
    (<span style="color: #aaffaa;">fn</span> [coll]
      (f1
       (f2 coll))))
  rest reverse) [1 2 3 4])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

<p>
但是因為題目的參數不固定，因此就得換個寫法來解決:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(((<span style="color: #aaffaa;">fn</span> [&amp; funcs]
    (<span style="color: #aaffaa;">fn</span> [&amp; args]
      (first
       (reduce #(vector (apply <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span>)) args (reverse funcs )))))
  rest reverse)
 [1 2 3 4])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (3 2 1)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org81c2b54" class="outline-2">
<h2 id="org81c2b54">059: Juxtaposition</h2>
<div class="outline-text-2" id="text-org81c2b54">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/59" target="_blank" rel="external">https://www.4clojure.com/problem/59</a>


Take a set of functions and return a new function that takes a variable number
of arguments and returns a sequence containing the result of applying each
function left-to-right to the argument list.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= [21 6 1] ((__ + max min) 2 3 5 1 6 4))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= [<span style="color: #aadddd;">"HELLO"</span> 5] ((__ #(<span style="color: #ff8888;">.toUpperCase</span> <span style="color: #aaccff;">%</span>) count) <span style="color: #aadddd;">"hello"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= [2 6 4]
   ((__ <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:b</span>) {<span style="color: #ccaaff;">:a</span> 2, <span style="color: #ccaaff;">:b</span> 4, <span style="color: #ccaaff;">:c</span> 6, <span style="color: #ccaaff;">:d</span> 8 <span style="color: #ccaaff;">:e</span> 10}))
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>juxt</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p059')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p059" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [&amp; op]
  (<span style="color: #aaffaa;">fn</span> [&amp; sep]
    (map
     #(apply <span style="color: #aaccff;">%</span> sep) op)))
</pre>
</div>
</blockquote>

<p>
這題要我們實作 <a href="https://clojuredocs.org/clojure.core/juxt" target="_blank" rel="external">juxt</a> 的功能，我們先來複習一下:
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Extract values from a map, treating keywords as functions.</span>
((juxt <span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>) {<span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2 <span style="color: #ccaaff;">:c</span> 3 <span style="color: #ccaaff;">:d</span> 4})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [1 2]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">"Explode" a value.</span>
((juxt identity name) <span style="color: #ccaaff;">:keyword</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [</span><span style="color: #9ac; font-style: italic;">:keyword</span><span style="color: #9ac; font-style: italic;"> "keyword"]</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Get the first character and length of string</span>
((juxt first count) <span style="color: #aadddd;">"Clojure Rocks"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [\C 13]</span>
</pre>
</div>

<p>
為了可以解決這個問題，我們可以假設只處理一個 運算元 (operator) 的情況要怎樣處理:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(((<span style="color: #aaffaa;">fn</span> [op]
    (<span style="color: #aaffaa;">fn</span> [&amp; sep]
      (apply op sep)))
  +) 1 2 3 4 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 15</span>
</pre>
</div>

<p>
接著將他變成一次處理三個運算元 (operator)
</p>

<div class="org-src-container">
<pre class="src src-clojure">(((<span style="color: #aaffaa;">fn</span> [op1 op2 op3]
    (<span style="color: #aaffaa;">fn</span> [&amp; sep]
      (vector
       (apply op1 sep)
       (apply op2 sep)
       (apply op3 sep))))
  + min max) 2 3 5 1 6 4)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [21 6 1]</span>
</pre>
</div>

<p>
將程式整理乾淨，答案就出來囉 ~
</p>

<div class="org-src-container">
<pre class="src src-clojure">(((<span style="color: #aaffaa;">fn</span> [&amp; op]
    (<span style="color: #aaffaa;">fn</span> [&amp; sep]
      (map
       #(apply <span style="color: #aaccff;">%</span> sep) op)))
  + min max) 1 2 3 4 5)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (15 1 5)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org074bf43" class="outline-2">
<h2 id="org074bf43">060: Sequence Reductions</h2>
<div class="outline-text-2" id="text-org074bf43">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/60" target="_blank" rel="external">https://www.4clojure.com/problem/60</a>

Write a function which behaves like reduce, but returns each intermediate value
of the reduction. Your function must accept either two or three arguments, and
the return sequence must be lazy.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (take 5 (__ + (range))) [0 1 3 6 10])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ conj [1] [2 3 4]) [[1] [1 2] [1 2 3] [1 2 3 4]])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (last (__ * 2 [3 4 5])) (reduce * 2 [3 4 5]) 120)
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>reductions</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p060')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p060" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">reduction*</span>
  ([f [p1 &amp; ps]] (reduction* f p1 ps))
  ([f p1 [p2 &amp; ps]]
   (cons p1
         (<span style="color: #aaffaa;">when</span> p2
           (lazy-seq (reduction* f (f p1 p2) ps))))))
</pre>
</div>
</blockquote>

<p>
這題要我們實作 <a href="http://clojuredocs.org/clojure.core/reductions" target="_blank" rel="external">reductions</a> ，讓我們來複習一下他的功能
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reductions + [1 1 1 1])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 2 3 4)</span>
(reductions + [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (1 3 6)</span>
(reductions conj [] '(1 2 3))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ([] [1] [1 2] [1 2 3])</span>
</pre>
</div>

<p>
老實說這題我真的不會解釋，最後使用 <a href="http://clojuredocs.org/clojure.core/lazy-seq" target="_blank" rel="external">lazy-seq</a> 處理掉這一題 (心虛)
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">reduction*</span>
  ([f [p1 &amp; ps]] (reduction* f p1 ps))
  ([f p1 [p2 &amp; ps]]
   (cons p1
         (<span style="color: #aaffaa;">when</span> p2
           (lazy-seq (reduction* f (f p1 p2) ps))))))
 * 2 [3 4 5])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (2 6 24 120)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org62d4a8d" class="outline-2">
<h2 id="org62d4a8d">061: Map Construction</h2>
<div class="outline-text-2" id="text-org62d4a8d">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/61" target="_blank" rel="external">https://www.4clojure.com/problem/61</a>

Write a function which takes a vector of keys and a vector of values and
constructs a map from them.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>] [1 2 3]) {<span style="color: #ccaaff;">:a</span> 1, <span style="color: #ccaaff;">:b</span> 2, <span style="color: #ccaaff;">:c</span> 3})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 2 3 4] [<span style="color: #aadddd;">"one"</span> <span style="color: #aadddd;">"two"</span> <span style="color: #aadddd;">"three"</span>])
   {1 <span style="color: #aadddd;">"one"</span>, 2 <span style="color: #aadddd;">"two"</span>, 3 <span style="color: #aadddd;">"three"</span>})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:foo</span> <span style="color: #ccaaff;">:bar</span>] [<span style="color: #aadddd;">"foo"</span> <span style="color: #aadddd;">"bar"</span> <span style="color: #aadddd;">"baz"</span>]) 
   {<span style="color: #ccaaff;">:foo</span> <span style="color: #aadddd;">"foo"</span>, <span style="color: #ccaaff;">:bar</span> <span style="color: #aadddd;">"bar"</span>})
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>zipmap</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p061')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p061" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(apply merge (map hash-map <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>))
</pre>
</div>
</blockquote>

<p>
這一題想要做到 <a href="https://clojuredocs.org/clojure.core/zipmap" target="_blank" rel="external">zipmap</a> 的功能，照慣例再來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure">(zipmap [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:e</span>] [1 2 3 4 5])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:e</span><span style="color: #9ac; font-style: italic;"> 5, </span><span style="color: #9ac; font-style: italic;">:d</span><span style="color: #9ac; font-style: italic;"> 4, </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

<p>
看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 與 <a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，因此我們先使用 map 將各自合併為 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(map hash-map  [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>] [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ({</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1} {</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2} {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3})</span>
</pre>
</div>

<p>
接下來再使用 <a href="https://clojuredocs.org/clojure.core/merge" target="_blank" rel="external">merge</a> 的功能將各各 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a> 合併成一個就大功告成了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(apply merge
       (map hash-map  [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>] [1 2 3]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org92c3a09" class="outline-2">
<h2 id="org92c3a09">062: Re-implement Iterate</h2>
<div class="outline-text-2" id="text-org92c3a09">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/62" target="_blank" rel="external">https://www.4clojure.com/problem/62</a>

Given a side-effect free function f and an initial value x write a function
which returns an infinite lazy sequence of x, (f x), (f (f x)), (f (f (f x))),
etc.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= (take 5 (__ #(* 2 <span style="color: #aaccff;">%</span>) 1)) [1 2 4 8 16])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (take 100 (__ inc 0)) (take 100 (range)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (take 9 (__ #(inc (mod <span style="color: #aaccff;">%</span> 3)) 1)) (take 9 (cycle [1 2 3])))
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>iterate</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p062')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p062" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">it</span> [f n]
  (lazy-cat [n (f n)]
            (map f (rest (it f n)))))
</pre>
</div>
</blockquote>

<p>
看到了這一題就讓我想到 <a href="#org89ddab6">034: Implement range</a> 這題，這個時候我們使用了 <a href="https://clojuredocs.org/clojure.core/lazy-cat" target="_blank" rel="external">lazy-cat</a> 實
作一個和 <a href="https://clojuredocs.org/clojure.core/range" target="_blank" rel="external">range</a> 具有相同功能的函式，我們再來實作一次
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">def</span> <span style="color: #aaccff;">range*</span>
  (lazy-cat [0 1]
            (map inc (rest range*))))

(take 5 range*)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4)</span>
</pre>
</div>

<p>
接著，因為我們遞增的條件不再是 <a href="https://clojuredocs.org/clojure.core/inc" target="_blank" rel="external">inc</a> 而是根據輸入的函式 (function) 來決定遞增的方
法，因此讓我們把這式子先改成函式 (function) 的版本
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">range*</span> [n]
  (lazy-cat [n (inc n)]
            (map inc (rest (range* n)))))

(take 5 (range* 0))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4)</span>
</pre>
</div>

<p>
接著加入函式 (function) 作為參數就完成了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">defn</span> <span style="color: #aaccff;">it</span> [f n]
  (lazy-cat [n (f n)]
            (map f (rest (b f n)))))

(take 3 (it inc 0))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2)</span>
</pre>
</div>

<p>
於是最後的結果就長這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">(take 5
      ((<span style="color: #aaffaa;">fn</span> [f n]
         (lazy-cat [n (f n)]
                   (map f (rest (b f n)))))
       inc 0))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (0 1 2 3 4)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-org2ede507" class="outline-2">
<h2 id="org2ede507">065: Black Box Testing</h2>
<div class="outline-text-2" id="text-org2ede507">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/65" target="_blank" rel="external">https://www.4clojure.com/problem/65</a>

Clojure has many sequence types, which act in subtly different ways. The core
functions typically convert them into a uniform "sequence" type and work with
them that way, but it can be important to understand the behavioral and
performance differences so that you know which kind is appropriate for your
application.

Write a function which takes a collection and returns one of :map, :set, :list,
or :vector - describing the type of collection it was given. You won't be
allowed to inspect their class or use the built-in predicates like list? - the
point is to poke at them and understand their behavior.
</p>

<div class="row "><div class="col-md-7 ">

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">:map</span> (__ {<span style="color: #ccaaff;">:a</span> 1, <span style="color: #ccaaff;">:b</span> 2}))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">:list</span> (__ (range (rand-int 20))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">:vector</span> (__ [1 2 3 4 5 6]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">:set</span> (__ #{10 (rand-int 5)}))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= [<span style="color: #ccaaff;">:map</span> <span style="color: #ccaaff;">:set</span> <span style="color: #ccaaff;">:vector</span> <span style="color: #ccaaff;">:list</span>] (map __ [{} #{} [] ()]))
</pre>
</div>

</div><div class="col-md-5">

<div class="bs-callout bs-callout-danger">
<p>
<b>Special Restrictions</b>
</p>

<ul class="org-ul">
<li>class</li>
<li>type</li>
<li>Class</li>
<li>vector?</li>
<li>sequential?</li>
<li>list?</li>
<li>seq?</li>
<li>map?</li>
<li>set?</li>
<li>instance?</li>
<li>getClass</li>
</ul>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p065')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p065" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(<span style="color: #aaffaa;">cond</span>
    (= (into [] <span style="color: #aaccff;">%</span>) <span style="color: #aaccff;">%</span>) (<span style="color: #aaffaa;">if</span> (reversible? <span style="color: #aaccff;">%</span>) <span style="color: #ccaaff;">:vector</span> <span style="color: #ccaaff;">:list</span>)
    (= (into #{} <span style="color: #aaccff;">%</span>) <span style="color: #aaccff;">%</span>) <span style="color: #ccaaff;">:set</span>
    (= (into {} <span style="color: #aaccff;">%</span>) <span style="color: #aaccff;">%</span>) <span style="color: #ccaaff;">:map</span>)
</pre>
</div>
</blockquote>

<p>
這題真的很誇張，禁止了這麼多東西 XD
</p>

<p>
在 clojure 中，vector 和 list 很像，但是 vector 有實作 <a href="https://github.com/clojure/clojure/blob/master/src/jvm/clojure/lang/Reversible.java" target="_blank" rel="external">Reversible</a> 的接口，
以使用 <a href="https://clojuredocs.org/clojure.core/reversible_q" target="_blank" rel="external">reversible?</a> 去找出到底是 list 還是 vector。
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reversible? [])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(reversible? (sorted-map))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(reversible? (sorted-set))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(reversible? '())
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
(reversible? {})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
(reversible? #{})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
因此整個程式這樣解就好
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(<span style="color: #aaffaa;">cond</span>
    (= (into [] <span style="color: #aaccff;">%</span>) <span style="color: #aaccff;">%</span>) (<span style="color: #aaffaa;">if</span> (reversible? <span style="color: #aaccff;">%</span>) <span style="color: #ccaaff;">:vector</span> <span style="color: #ccaaff;">:list</span>)
    (= (into #{} <span style="color: #aaccff;">%</span>) <span style="color: #aaccff;">%</span>) <span style="color: #ccaaff;">:set</span>
    (= (into {} <span style="color: #aaccff;">%</span>) <span style="color: #aaccff;">%</span>) <span style="color: #ccaaff;">:map</span>)
 '(1 2))
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org0cc5cc1" class="outline-2">
<h2 id="org0cc5cc1">068: Recurring Theme</h2>
<div class="outline-text-2" id="text-org0cc5cc1">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/68" target="_blank" rel="external">https://www.4clojure.com/problem/68</a>

Clojure only has one non-stack-consuming looping construct: recur. Either a
function or a loop can be used as the recursion point. Either way, recur rebinds
the bindings of the recursion point to the values it is passed. Recur must be
called from the tail-position, and calling it elsewhere will result in an error.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __
   (<span style="color: #aaffaa;">loop</span> [x 5
          result []]
     (<span style="color: #aaffaa;">if</span> (&gt; x 0)
       (<span style="color: #aaffaa;">recur</span> (dec x) (conj result (+ 2 x)))
       result)))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p068')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p068" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">[7 6 5 4 3]
</pre>
</div>
</blockquote>

<p>
這題主要在講 clojure 的 <a href="http://clojuredocs.org/clojure.core/loop" target="_blank" rel="external">loop</a> 以及 <a href="http://clojuredocs.org/clojure.core/recur" target="_blank" rel="external">recur</a> 的使用，讓我們來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">loop</span> [x 10]
  (<span style="color: #aaffaa;">when</span> (&gt; x 1)
    (println x)
    (<span style="color: #aaffaa;">recur</span> (- x 2))))
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; 10 8 6 4 2</span>

(<span style="color: #aaffaa;">loop</span> [iter 1
       acc  0]
  (<span style="color: #aaffaa;">if</span> (&gt; iter 10)
    (println acc)
    (<span style="color: #aaffaa;">recur</span> (inc iter) (+ acc iter))))

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 55</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">sum from 1 to 10</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgb0da58f" class="outline-2">
<h2 id="orgb0da58f">070: Word Sorting</h2>
<div class="outline-text-2" id="text-orgb0da58f">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/70" target="_blank" rel="external">https://www.4clojure.com/problem/70</a>

Write a function that splits a sentence up into a sorted list of words.
Capitalization should not affect sort order and punctuation should be ignored.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__  <span style="color: #aadddd;">"Have a nice day."</span>)
   [<span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"day"</span> <span style="color: #aadddd;">"Have"</span> <span style="color: #aadddd;">"nice"</span>])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__  <span style="color: #aadddd;">"Clojure is a fun language!"</span>)
   [<span style="color: #aadddd;">"a"</span> <span style="color: #aadddd;">"Clojure"</span> <span style="color: #aadddd;">"fun"</span> <span style="color: #aadddd;">"is"</span> <span style="color: #aadddd;">"language"</span>])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__  <span style="color: #aadddd;">"Fools fall for foolish follies."</span>)
   [<span style="color: #aadddd;">"fall"</span> <span style="color: #aadddd;">"follies"</span> <span style="color: #aadddd;">"foolish"</span> <span style="color: #aadddd;">"Fools"</span> <span style="color: #aadddd;">"for"</span>])
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p070')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p070" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(sort-by (<span style="color: #aaffaa;">fn</span> [w] (<span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>lower-case w))
          (re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\w</span><span style="color: #aadddd;">+"</span> <span style="color: #aaccff;">%</span>))
</pre>
</div>
</blockquote>

<p>
這一題很明顯就是 <a href="https://clojuredocs.org/clojure.core/sort-by" target="_blank" rel="external">sort-by</a> 的應用，我們首先先使用 <a href="https://clojuredocs.org/clojure.core/re-seq" target="_blank" rel="external">re-seq</a> 去將文字 (word) 切割出來
</p>

<div class="org-src-container">
<pre class="src src-clojure">(re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\w</span><span style="color: #aadddd;">+"</span> <span style="color: #aadddd;">"Have a nice day!!!"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("Have" "a" "nice" "day")</span>
</pre>
</div>

<p>
接下來就可以使用 <a href="https://clojuredocs.org/clojure.core/sort-by" target="_blank" rel="external">sort-by</a> 進行排序
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(sort-by (<span style="color: #aaffaa;">fn</span> [w] (<span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>lower-case w))
           (re-seq #<span style="color: #aadddd;">"</span><span style="color: #aadddd; font-weight: bold;">\w</span><span style="color: #aadddd;">+"</span> <span style="color: #aaccff;">%</span>))
 <span style="color: #aadddd;">"Fools fall for foolish follies."</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("fall" "follies" "foolish" "Fools" "for")</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org52ca1bf" class="outline-2">
<h2 id="org52ca1bf">071: Rearranging Code: -&gt;</h2>
<div class="outline-text-2" id="text-org52ca1bf">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/71" target="_blank" rel="external">https://www.4clojure.com/problem/71</a>

The -&gt; macro threads an expression x through a variable number of forms. First,
x is inserted as the second item in the first form, making a list of it if it is
not a list already. Then the first form is inserted as the second item in the
second form, making a list of that form if necessary. This process continues for
all the forms. Using -&gt; can sometimes make your code more readable.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ (sort (rest (reverse [2 5 4 1 3 6]))))
 (<span style="color: #aaffaa;">-&gt;</span> [2 5 4 1 3 6] (reverse) (rest) (sort) (__))
 5)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p071')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p071" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">last
</pre>
</div>
</blockquote>

<p>
clojure 的 <a href="http://clojuredocs.org/clojure.core/-%3E" target="_blank" rel="external">-&gt;</a> 可以讓整個語法變得更簡潔，我們先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Use of `</span><span style="color: #ccaaff; font-style: italic;">-&gt;</span><span style="color: #9ac; font-style: italic;">` (the "thread-first" macro) can help make code</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">more readable by removing nesting. It can be especially</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">useful when using host methods:</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Arguably a bit cumbersome to read:</span>
(first (<span style="color: #ff8888;">.split</span> (<span style="color: #ff8888;">.replace</span> (<span style="color: #ff8888;">.toUpperCase</span> <span style="color: #aadddd;">"a b c d"</span>) <span style="color: #aadddd;">"A"</span> <span style="color: #aadddd;">"X"</span>) <span style="color: #aadddd;">" "</span>))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "X"</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">Perhaps easier to read:</span>
(<span style="color: #aaffaa;">-&gt;</span> <span style="color: #aadddd;">"a b c d"</span>
    <span style="color: #ff8888;">.toUpperCase</span>
    (<span style="color: #ff8888;">.replace</span> <span style="color: #aadddd;">"A"</span> <span style="color: #aadddd;">"X"</span>)
    (<span style="color: #ff8888;">.split</span> <span style="color: #aadddd;">" "</span>)
    first)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "X"</span>
</pre>
</div>

<p>
而這題告訴我們最終答案會是 <code>5</code> ，因此我們就可以找出 <code>__</code> 的部分要填入什麼樣的答案
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">-&gt;</span> [2 5 4 1 3 6]
    (reverse)    <span style="color: #9ac; font-style: italic;">; =&gt; (6 3 1 4 5 2)</span>
    (rest)       <span style="color: #9ac; font-style: italic;">; =&gt; (3 1 4 5 2)</span>
    (sort)       <span style="color: #9ac; font-style: italic;">; =&gt; (1 2 3 4 5)</span>
    (last)       <span style="color: #9ac; font-style: italic;">; =&gt; 5</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orga63cf23" class="outline-2">
<h2 id="orga63cf23">072: Rearranging Code: -&gt;&gt;</h2>
<div class="outline-text-2" id="text-orga63cf23">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/72" target="_blank" rel="external">https://www.4clojure.com/problem/72</a>

The -&gt;&gt; macro threads an expression x through a variable number of forms. First,
x is inserted as the last item in the first form, making a list of it if it is
not a list already. Then the first form is inserted as the last item in the
second form, making a list of that form if necessary. This process continues for
all the forms. Using -&gt;&gt; can sometimes make your code more readable.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ (map inc (take 3 (drop 2 [2 5 4 1 3 6]))))
   (<span style="color: #aaffaa;">-&gt;&gt;</span> [2 5 4 1 3 6] (drop 2) (take 3) (map inc) (__))
   11)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p072')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p072" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">reduce +
</pre>
</div>
</blockquote>

<p>
clojure 的 <a href="http://clojuredocs.org/clojure.core/-%3E%3E" target="_blank" rel="external">-&gt;&gt;</a> 可以讓整個語法變得更簡潔，我們先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">An example of using the "thread-last" macro to get</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">the sum of the first 10 even squares.</span>
(<span style="color: #aaffaa;">-&gt;&gt;</span> (range)
     (map #(* <span style="color: #aaccff;">%</span> <span style="color: #aaccff;">%</span>))
     (filter even?)
     (take 10)
     (reduce +))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1140</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">This expands to:</span>
(reduce +
        (take 10
              (filter even?
                      (map #(* <span style="color: #aaccff;">%</span> <span style="color: #aaccff;">%</span>)
                           (range)))))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1140</span>
</pre>
</div>

<p>
而這題告訴我們最終答案會是 <code>11</code> ，因此我們就可以找出 <code>__</code> 的部分要填入什麼樣的答案
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">-&gt;&gt;</span> [2 5 4 1 3 6]
     (drop 2)     <span style="color: #9ac; font-style: italic;">; =&gt; [4 1 3 6]</span>
     (take 3)     <span style="color: #9ac; font-style: italic;">; =&gt; [4 1 3]</span>
     (map inc)    <span style="color: #9ac; font-style: italic;">; =&gt; [5 2 4]</span>
     (reduce +))  <span style="color: #9ac; font-style: italic;">; =&gt; 11</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>



<div id="outline-container-orgf7a9dc0" class="outline-2">
<h2 id="orgf7a9dc0">083: A Half-Truth</h2>
<div class="outline-text-2" id="text-orgf7a9dc0">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/83" target="_blank" rel="external">https://www.4clojure.com/problem/83</a>

Write a function which takes a variable number of booleans. Your function should
return true if some of the parameters are true, but not all of the parameters
are true. Otherwise your function should return false.
</p>

<div class="row "><div class="col-md-6 ">
<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">false</span> (__ <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">false</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> (__ <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">false</span> (__ <span style="color: #ccaaff;">true</span>))
</pre>
</div>

</div><div class="col-md-6">

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> (__ <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">false</span> (__ <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> (__ <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>))
</pre>
</div>
</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p083')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p083" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [&amp; coll]
   (<span style="color: #aaffaa;">if</span> (<span style="color: #aaffaa;">and</span>
        (some true? coll)
        (some false? coll))
     <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>))
</pre>
</div>
</blockquote>

<p>
從題目來看，此題要求寫出一個函式 (function) 並判斷參數中是否至少有一個 <code>true</code> 以
及 <code>false</code> ，因此我們可以使用 <a href="https://clojuredocs.org/clojure.core/some" target="_blank" rel="external">some</a> 來解決這一個題目
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [&amp; coll]
   (<span style="color: #aaffaa;">and</span>
        (some true? coll)
        (some false? coll)))
  <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">true</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

<p>
但是這樣的解法有一個問題就是，如果傳送的序列 (sequence) 缺少了 <code>true</code> 或 <code>false</code>
，則我們會得到 <code>nil</code> 的結果
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [&amp; coll]
   (<span style="color: #aaffaa;">and</span>
        (some true? coll)
        (some false? coll)))
  <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">false</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; nil</span>
</pre>
</div>

<p>
為了解決這個問題，我們使用 <a href="https://clojuredocs.org/clojure.core/if" target="_blank" rel="external">if</a> ， 在 clojure 中 <code>false</code> 和 <code>nil</code> 都是邏輯上的
<code>false</code> ，因此我們就可以這樣解決此題
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [&amp; coll]
   (<span style="color: #aaffaa;">if</span> (<span style="color: #aaffaa;">and</span>
        (some true? coll)
        (some false? coll))
     <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>))

 <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">false</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orga0273d9" class="outline-2">
<h2 id="orga0273d9">088: Symmetric Difference</h2>
<div class="outline-text-2" id="text-orga0273d9">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/88" target="_blank" rel="external">https://www.4clojure.com/problem/88</a>

Write a function which returns the symmetric difference of two sets. The
symmetric difference is the set of items belonging to one but not both of the
two sets.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ #{1 2 3 4 5 6} #{1 3 5 7}) #{2 4 6 7})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ #{<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>} #{}) #{<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ #{} #{4 5 6}) #{4 5 6})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ #{[1 2] [2 3]} #{[2 3] [3 4]}) #{[1 2] [3 4]})
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p088')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p088" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>union
  (<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>difference <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>)
  (<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>difference <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span>))
</pre>
</div>
</blockquote>

<p>
這一題可以用數學的觀念來解決，clojure 提供了 <a href="https://clojuredocs.org/clojure.set/difference" target="_blank" rel="external">clojure.set/difference</a> 來找出第二個
參數和第一個參數不同的地方:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>difference <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>)
 #{1 2 3 4 5 6} #{1 3 5 7})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt;  #{4 6 2}</span>

(#(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>difference <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span>)
 #{1 2 3 4 5 6} #{1 3 5 7})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{7}</span>
</pre>
</div>

<p>
因此我們只要對這兩種結果使用 <a href="https://clojuredocs.org/clojure.set/union" target="_blank" rel="external">clojure.set/union</a> 進行聯集即可
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>union
   (<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>difference <span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span>)
   (<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>difference <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%1</span>))
 #{1 2 3 4 5 6} #{1 3 5 7})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; #{7 4 6 2}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgef81ce4" class="outline-2">
<h2 id="orgef81ce4">099: Product Digits</h2>
<div class="outline-text-2" id="text-orgef81ce4">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/99" target="_blank" rel="external">https://www.4clojure.com/problem/99</a>

Write a function which multiplies two numbers and returns the result as a
sequence of its digits.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 1 1) [1])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 99 9) [8 9 1])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 999 99) [9 8 9 0 1])
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p099')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p099" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [a b]
  (map #(<span style="color: #fff59d;">Integer</span><span style="color: #c6cccc; background-color: #202020;">/</span><span style="color: #ff8888;">parseInt</span> (str <span style="color: #aaccff;">%</span>))  (str (* a b))))
</pre>
</div>
</blockquote>

<p>
這題用比較 tricky 的解法，我們先使用 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 將字串切成字串序列 (sequence)，接下來透
過 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29" target="_blank" rel="external">Integer/parseInt</a> 將每個字串轉換成數值
</p>

<div class="org-src-container">
<pre class="src src-clojure">(map str <span style="color: #aadddd;">"891"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ("8" "9" "1")</span>

((<span style="color: #aaffaa;">fn</span> [a b]
  (map #(<span style="color: #fff59d;">Integer</span><span style="color: #c6cccc; background-color: #202020;">/</span><span style="color: #ff8888;">parseInt</span> (str <span style="color: #aaccff;">%</span>))  (str (* a b))))
 99 9)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (8 9 1)</span>
</pre>
</div>

<p>
如果你不想使用 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29" target="_blank" rel="external">Integer/parseInt</a> 來解決這問題，你也可以這樣作
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [x y]
   (map  #(- (int <span style="color: #aaccff;">%</span>) (int <span style="color: #aadddd;">\0</span>))
         (<span style="color: #aaffaa;">-&gt;</span> (* x y)   <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 891</span>
             (str)     <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "891"</span>
             (seq))    <span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (\8 \9 \1)</span>
         ))
 99 9)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (8 9 1)</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-org45327b2" class="outline-2">
<h2 id="org45327b2">095: To Tree, or not to Tree</h2>
<div class="outline-text-2" id="text-org45327b2">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/95" target="_blank" rel="external">https://www.4clojure.com/problem/95</a>

Write a predicate which checks whether or not a given sequence represents a
<a href="http://en.wikipedia.org/wiki/Binary_tree" target="_blank" rel="external">binary tree</a>. Each node in the tree must have a value, a left child, and a right
child.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(<span style="color: #ccaaff;">:a</span> (<span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>) <span style="color: #ccaaff;">nil</span>))
 <span style="color: #ccaaff;">true</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(<span style="color: #ccaaff;">:a</span> (<span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>)))
 <span style="color: #ccaaff;">false</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 <span style="color: #ccaaff;">nil</span> [2 [3 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>] [4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>]]])
 <span style="color: #ccaaff;">true</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 [2 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>] [3 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>] [4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>]])
 <span style="color: #ccaaff;">false</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 [2 [3 [4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>])
 <span style="color: #ccaaff;">true</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [1 [2 [3 [4 <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>])
 <span style="color: #ccaaff;">false</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ '(<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> ()))
 <span style="color: #ccaaff;">false</span>)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p095')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p095" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">btree?</span> [root]
  (<span style="color: #aaffaa;">or</span> (nil? root)
      (<span style="color: #aaffaa;">and</span> (sequential? root)
           (= 3 (count root))
           (every? btree? (rest root)))))
</pre>
</div>
</blockquote>

<p>
題目要我們找出題目提供的序列(sequence)是否為<a href="http://www.csie.ntnu.edu.tw/~u91029/BinaryTree.html" target="_blank" rel="external">二元樹(binary tree)</a>。
</p>

<p>
以題目內的其中一項為例:
</p>

<div class="org-src-container">
<pre class="src src-clojure">[1 [2 [3 [4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>]
</pre>
</div>

<p>
他是二元樹，其樹則長成這樣:
</p>

<div class="org-src-container">
<pre class="src src-latex"><span style="color: #aaffaa;">\usetikzlibrary</span>{decorations, decorations.text,backgrounds}
<span style="color: #aaffaa;">\begin</span>{<span style="color: #aaccff;">tikzpicture</span>}[background rectangle/.style={fill=white}, show background rectangle]
  <span style="color: #aaffaa;">\node</span> [circle,draw]{1}  [level distance=10mm,sibling distance=25mm]
  child {
    node [circle,draw]{2} [level distance=10mm ,sibling distance=15mm]
    child {
      node [circle,draw]{3} [level distance=10mm ,sibling distance=15mm]
      child { node [circle,draw]{4} [level distance=10mm ,sibling distance=15mm]
        child {node [circle,draw] {nil}}
        child {node [circle,draw] {nil}}
      }
      child {node [circle,draw] {nil}}
    }
    child {node [circle,draw] {nil}}
  }
  child {node [circle,draw] {nil}}
<span style="color: #aaffaa;">\end</span>{<span style="color: #aaccff;">tikzpicture</span>}
</pre>
</div>

<p>
也因此，除了透過 <a href="https://clojuredocs.org/clojure.core/sequential_q" target="_blank" rel="external">sequencial?</a> 去判斷目標是否為序列(sequence) 外，我們也需要去檢測目標是否滿足題目的條件:
</p>

<ol class="org-ol">
<li>Full binary tree: 此二元樹 <b>必定</b> 有左右節點</li>
<li>承上，也因此每個節點共有三個元數</li>
</ol>

<p>
透過這樣的概念，我們就可以用遞回的方式不斷查找這棵樹的內容
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> <span style="color: #aaccff;">btree?</span> [root]
   (<span style="color: #aaffaa;">or</span> (nil? root)
       (<span style="color: #aaffaa;">and</span> (sequential? root)
            (= 3 (count root))
            (every? btree? (rest root)))))

 [1 [2 [3 [4 <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>] <span style="color: #ccaaff;">nil</span>])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orga1edff9" class="outline-2">
<h2 id="orga1edff9">102: intoCamelCase</h2>
<div class="outline-text-2" id="text-orga1edff9">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/102" target="_blank" rel="external">https://www.4clojure.com/problem/102</a>

When working with java, you often need to create an object with fieldsLikeThis,
but you'd rather work with a hashmap that has :keys-like-this until it's time to
convert. Write a function which takes lower-case hyphen-separated strings and
converts them to camel-case strings.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"something"</span>) <span style="color: #aadddd;">"something"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"multi-word-key"</span>) <span style="color: #aadddd;">"multiWordKey"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"leaveMeAlone"</span>) <span style="color: #aadddd;">"leaveMeAlone"</span>)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p102')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p102" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(<span style="color: #aaffaa;">let</span> [[x &amp; xs] (<span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>split <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-"</span>)]
  (<span style="color: #aaffaa;">-&gt;&gt;</span> (cons x (map <span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>capitalize xs))
       (apply str)))
</pre>
</div>
</blockquote>

<p>
這題我最初的想法是使用 <a href="http://clojuredocs.org/clojure.string/split" target="_blank" rel="external">split</a> 將字串依據 <code>-</code> 來進行切割，並將切割出來的序列
(sequence) 除了第一項以外其他都使用 <a href="http://clojuredocs.org/clojure.string/capitalize" target="_blank" rel="external">capitalize</a> 將其轉換成首字大寫的狀況，因此最
初雛形如下
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(apply str
         (concat (first (<span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>split <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-"</span>))
                 (map <span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>capitalize
                      (drop 1 (<span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>split <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-"</span>)))))
 <span style="color: #aadddd;">"multi-word-key"</span>)
</pre>
</div>

<p>
將程式碼整理一下後就變成這樣
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(<span style="color: #aaffaa;">let</span> [[x &amp; xs] (<span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>split <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-"</span>)]
    (<span style="color: #aaffaa;">-&gt;&gt;</span> (cons x (map <span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>capitalize xs))
         (apply str)))
 <span style="color: #aadddd;">"multi-word-key"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "multiWordKey"</span>
</pre>
</div>

<p>
這題如果是用正規表達式進行搜尋取代，則可以得到更簡單的答案
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(<span style="color: #fff59d;">clojure.string</span><span style="color: #c6cccc; background-color: #202020;">/</span>replace <span style="color: #aaccff;">%</span> #<span style="color: #aadddd;">"-."</span> (<span style="color: #aaffaa;">fn</span> [[_ x]] (format <span style="color: #aadddd;">"%S"</span> x)))
 <span style="color: #aadddd;">"multi-word-key"</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; "multiWordKey"</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-org7c08d1e" class="outline-2">
<h2 id="org7c08d1e">105: Identify keys and values</h2>
<div class="outline-text-2" id="text-org7c08d1e">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/105" target="_blank" rel="external">https://www.4clojure.com/problem/105</a>

Given an input sequence of keywords and numbers, create a map such that each key
in the map is a keyword, and the value is a sequence of all the numbers (if any)
between it and the next keyword in the sequence.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= {} (__ []))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= {<span style="color: #ccaaff;">:a</span> [1]} (__ [<span style="color: #ccaaff;">:a</span> 1]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= {<span style="color: #ccaaff;">:a</span> [1], <span style="color: #ccaaff;">:b</span> [2]} (__ [<span style="color: #ccaaff;">:a</span> 1, <span style="color: #ccaaff;">:b</span> 2]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= {<span style="color: #ccaaff;">:a</span> [1 2 3], <span style="color: #ccaaff;">:b</span> [], <span style="color: #ccaaff;">:c</span> [4]} (__ [<span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4]))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p105')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p105" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [m]
  (<span style="color: #aaffaa;">-&gt;&gt;</span> m
       (interpose [])
       (partition-by keyword?)
       (partition 2)
       (map flatten)
       (map #(hash-map (first <span style="color: #aaccff;">%</span>) (vec (drop 1 <span style="color: #aaccff;">%</span>))))
       (into {})))
</pre>
</div>
</blockquote>

<p>
這問題一開始讓我想到的是使用 <a href="http://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a> 來對所有的 <a href="http://clojuredocs.org/clojure.core/keyword_q" target="_blank" rel="external">keyword?</a> 進行切割，就像這樣子
</p>

<div class="org-src-container">
<pre class="src src-clojure">(partition-by keyword? [<span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> 2])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">) (2))</span>
</pre>
</div>

<p>
於是我們就可以以此數據作為基準，做出我們的雛形
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">-&gt;&gt;</span> [<span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> 2]
     (partition-by keyword?)  <span style="color: #9ac; font-style: italic;">; =&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">) (2))</span>
     (partition 2)            <span style="color: #9ac; font-style: italic;">; =&gt; (((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3)) ((</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;">) (2)))</span>
     (map flatten)            <span style="color: #9ac; font-style: italic;">; =&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2))</span>
     (map #(hash-map (first <span style="color: #aaccff;">%</span>) (into [] (drop 1 <span style="color: #aaccff;">%</span>))))
     (into {}))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> [1 2 3], </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> [2]}</span>
</pre>
</div>

<p>
但是如果你覺得這樣就是答案的話，那你就錯了，因為測試條件四的輸入會變成這樣的結果
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">-&gt;&gt;</span> [<span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4]
     (partition-by keyword?) <span style="color: #9ac; font-style: italic;">; =&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">) (4))</span>
     (partition 2)           <span style="color: #9ac; font-style: italic;">; =&gt; (((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">) (1 2 3)) ((</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;">) (4)))</span>
     (map flatten)           <span style="color: #9ac; font-style: italic;">; =&gt; ((</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1 2 3) (</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 4))</span>
     (map #(hash-map (first <span style="color: #aaccff;">%</span>) (into [] (drop 1 <span style="color: #aaccff;">%</span>))))
     (into {}))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; ({</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> [1 2 3]} {</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> [</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 4]})</span>
</pre>
</div>

<p>
為了解決這個問題，我們要想辦法把輸入變成下面這樣的情況，這樣在使用 <a href="http://clojuredocs.org/clojure.core/partition-by" target="_blank" rel="external">partition-by</a>
時就不會出錯
</p>

<div class="org-src-container">
<pre class="src src-clojure">[<span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4]  =&gt; [<span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> [] <span style="color: #ccaaff;">:c</span> 4]
</pre>
</div>

<p>
但是為了解決這問題實在麻煩，索性使用 <a href="http://clojuredocs.org/clojure.core/interpose" target="_blank" rel="external">interpose</a> 在每個元素旁邊都加入空向量 (vector) 即可
</p>

<div class="org-src-container">
<pre class="src src-clojure">(interpose [] [<span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4]) 
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; (</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> [] 1 [] 2 [] 3 [] </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> [] </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> [] 4)</span>
</pre>
</div>

<p>
於是我們最後的答案就出來了
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [coll]
   (<span style="color: #aaffaa;">-&gt;&gt;</span> coll
        (interpose [])
        (partition-by keyword?)
        (partition 2)
        (map flatten)
        (map #(hash-map (first <span style="color: #aaccff;">%</span>) (into [] (drop 1 <span style="color: #aaccff;">%</span>))))
        (into {})))
 [<span style="color: #ccaaff;">:a</span> 1 2 3 <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> 4])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> [1 2 3], </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> [], </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> [4]}</span>
</pre>
</div>



</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>
<div id="outline-container-org2f359c1" class="outline-2">
<h2 id="org2f359c1">107: Simple closures</h2>
<div class="outline-text-2" id="text-org2f359c1">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/107" target="_blank" rel="external">https://www.4clojure.com/problem/107</a>

Lexical scope and first-class functions are two of the most basic building
blocks of a functional language like Clojure. When you combine the two together,
you get something very powerful called lexical closures. With these, you can
exercise a great deal of control over the lifetime of your local bindings,
saving their values for use later, long after the code you're running now has
finished.

It can be hard to follow in the abstract, so let's build a simple closure. Given
a positive integer n, return a function (f x) which computes xn. Observe that
the effect of this is to preserve the value of n for use outside the scope in
which it is defined.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= 256 ((__ 2) 16),
   ((__ 8) 2))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= [1 8 27 64] (map (__ 3) [1 2 3 4]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= [1 2 4 8 16] (map #((__ <span style="color: #aaccff;">%</span>) 2) [0 1 2 3 4]))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p107')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p107" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span>[x]
    (<span style="color: #aaffaa;">fn</span> [y] (reduce * (repeat x y))))
</pre>
</div>
</blockquote>

<p>
這個題目要我們實現簡單的<a href="https://zh.wikipedia.org/wiki/%E9%97%AD%E5%8C%85_%28%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%29" target="_blank" rel="external">閉包</a> (Closure) ，簡單的說法就是函式會回傳另外一個函式，
因此此題就是這樣子來寫
</p>

<div class="org-src-container">
<pre class="src src-clojure">(((<span style="color: #aaffaa;">fn</span>[x]
    (<span style="color: #aaffaa;">fn</span> [y] (reduce * (repeat x y))))
  2) 16)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 256</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-orga3d1a36" class="outline-2">
<h2 id="orga3d1a36">115: The Balance of N</h2>
<div class="outline-text-2" id="text-orga3d1a36">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/115" target="_blank" rel="external">https://www.4clojure.com/problem/115</a>

A balanced number is one whose component digits have the same sum on the left
and right halves of the number. Write a function which accepts an integer n, and
returns true iff n is balanced.
</p>

<div class="row "><div class="col-md-6 ">

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> (__ 11))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> (__ 121))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">false</span> (__ 123))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> (__ 0))
</pre>
</div>

</div><div class="col-md-6">

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">false</span> (__ 88099))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> (__ 89098))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">true</span> (__ 89089))
</pre>
</div>

</div></div>

<div class="org-src-container">
<pre class="src src-clojure">(= (take 20 (filter __ (range)))
 [0 1 2 3 4 5 6 7 8 9 11 22 33 44 55 66 77 88 99 101])
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p115')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p115" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(<span style="color: #aaffaa;">let</span> [s (seq (str <span style="color: #aaccff;">%</span>))
       c (count s)
       m (quot c 2)]
   (<span style="color: #aaffaa;">or</span>
    (= (take m s) (drop (- (count s) m) s))
    (= (reverse s) s)))
</pre>
</div>
</blockquote>

<p>
這一題和 <a href="#org9a11854">027: Palindrome Detector</a> 很像，我們可以將一個數值先變成字串，再使用 <a href="https://clojuredocs.org/clojure.core/seq" target="_blank" rel="external">seq</a>
將其變成序列 (sequence)
</p>

<div class="org-src-container">
<pre class="src src-clojure">(str 1111)       <span style="color: #9ac; font-style: italic;">; =&gt; "1111"</span>
(seq (str 1111)) <span style="color: #9ac; font-style: italic;">; =&gt; (\1 \1 \1 \1)</span>
</pre>
</div>

<p>
為了要取的序列 (sequence) 的中間值，我們使用 <a href="https://clojuredocs.org/clojure.core/quot" target="_blank" rel="external">quot</a> 來達成這件事
</p>

<div class="org-src-container">
<pre class="src src-clojure">(quot 10 3)
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; 3</span>
(quot 5 2)
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
</pre>
</div>

<p>
接下來就是用 <a href="https://clojuredocs.org/clojure.core/take" target="_blank" rel="external">take</a> 以及 <a href="https://clojuredocs.org/clojure.core/drop" target="_blank" rel="external">drop</a> 來完成程式的雛形
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(<span style="color: #aaffaa;">let</span> [s (seq (str <span style="color: #aaccff;">%</span>))
        c (count s)
        m (quot c 2)]
    (=
     (take m s) <span style="color: #9ac; font-style: italic;">; =&gt; (\8 \9)</span>
     (drop (- (count s) m) s))) <span style="color: #9ac; font-style: italic;">; =&gt; (\9 \8)</span>
 89098)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
但是根據題目，我們還需要將迴文的狀況考慮進去，因此最後程式就變成了這樣:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(<span style="color: #aaffaa;">let</span> [s (seq (str <span style="color: #aaccff;">%</span>))
        c (count s)
        m (quot c 2)]
    (<span style="color: #aaffaa;">or</span>
     (= (take m s) (drop (- (count s) m) s))
     (= (reverse s) s)))
 89098)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>


<div id="outline-container-orge7af9b7" class="outline-2">
<h2 id="orge7af9b7">126: Through the Looking Class</h2>
<div class="outline-text-2" id="text-orge7af9b7">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/126" target="_blank" rel="external">https://www.4clojure.com/problem/126</a>

Enter a value which satisfies the following:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">let</span> [x __]
  (<span style="color: #aaffaa;">and</span> (= (class x) x) x))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p0126')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p126" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #fff59d;">Class</span>
</pre>
</div>
</blockquote>

<p>
在 clojure 中，<a href="https://clojuredocs.org/clojure.core/class" target="_blank" rel="external">class</a> 是用來查看輸入參數是屬於哪一個 Java Class
</p>

<div class="org-src-container">
<pre class="src src-clojure">(class 1)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Integer</span>
(class [1 2 3])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; clojure.lang.PersistentVector</span>
(class (<span style="color: #fff59d;">String.</span> <span style="color: #aadddd;">"foo"</span>))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.String</span>
</pre>
</div>

<p>
而這題的答案之所以會是 <code>Class</code> 是因為 <code>java.lang.Class</code> 不管是使用 <a href="https://clojuredocs.org/clojure.core/class" target="_blank" rel="external">class</a> 或是
<a href="https://clojuredocs.org/clojure.core/type" target="_blank" rel="external">type</a> 得到的答案都會相同
</p>

<div class="org-src-container">
<pre class="src src-clojure">(type <span style="color: #fff59d;">Class</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Class</span>
(type <span style="color: #fff59d;">java.lang.Class</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Class  </span>
(class <span style="color: #fff59d;">Class</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Class</span>
(class <span style="color: #fff59d;">java.lang.Class</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; java.lang.Class</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org5c4b6bc" class="outline-2">
<h2 id="org5c4b6bc">134: A nil key</h2>
<div class="outline-text-2" id="text-org5c4b6bc">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/134" target="_blank" rel="external">https://www.4clojure.com/problem/134</a>

Write a function which, given a key and map, returns true <a href="http://en.wikipedia.org/wiki/If_and_only_if" target="_blank" rel="external">iff</a> the map contains
an entry with that key and its value is nil.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(true?  (__ <span style="color: #ccaaff;">:a</span> {<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">:b</span> 2}))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(false? (__ <span style="color: #ccaaff;">:b</span> {<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">:b</span> 2}))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(false? (__ <span style="color: #ccaaff;">:c</span> {<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">:b</span> 2}))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p134')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p134" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [key coll] (<span style="color: #aaffaa;">and</span> (contains? coll key) (nil? (key coll))))
</pre>
</div>
</blockquote>

<p>
這題要求滿足兩個條件:
</p>

<ol class="org-ol">
<li>參數 1 的 <i>key</i> 必須在參數 2 的 hash-map 中</li>
<li>hash-map 根據參數 1 所得的數值必須為 <i>nil</i></li>
</ol>

<p>
因此我們可以使用 <a href="https://clojuredocs.org/clojure.core/contains_q" target="_blank" rel="external">contains?</a> 去檢查 hash-map 是否包含這個 key
</p>

<div class="org-src-container">
<pre class="src src-clojure">(contains? {<span style="color: #ccaaff;">:a</span> 1} <span style="color: #ccaaff;">:a</span>)    <span style="color: #9ac; font-style: italic;">;=&gt; true</span>
(contains? {<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span>} <span style="color: #ccaaff;">:a</span>)  <span style="color: #9ac; font-style: italic;">;=&gt; true</span>
(contains? {<span style="color: #ccaaff;">:a</span> 1} <span style="color: #ccaaff;">:b</span>)    <span style="color: #9ac; font-style: italic;">;=&gt; false</span>
</pre>
</div>

<p>
而在 hash-map 中，我們可以將 <i>key</i> 當作 function 來取得其數值
</p>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #ccaaff;">:a</span> {<span style="color: #ccaaff;">:a</span> 1})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 1</span>
</pre>
</div>

<p>
當然你也可以用 <a href="https://clojuredocs.org/clojure.core/get" target="_blank" rel="external">get</a> 去取得 <i>key</i> 對應的數值
</p>

<div class="org-src-container">
<pre class="src src-clojure">(get [1 2 3] 1)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>

(get {<span style="color: #ccaaff;">:a</span> 1 <span style="color: #ccaaff;">:b</span> 2} <span style="color: #ccaaff;">:b</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 2</span>
</pre>
</div>

<p>
最後再使用 <a href="https://clojuredocs.org/clojure.core/nil_q" target="_blank" rel="external">nil?</a> 去檢查得到的數值是否為 <i>nil</i>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(nil? <span style="color: #ccaaff;">nil</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(nil? 0)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
(nil? <span style="color: #ccaaff;">false</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
(nil? '())
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
因此就可以得到我們的答案:
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [key coll] (<span style="color: #aaffaa;">and</span> (contains? coll key) (nil? (key coll)))
   <span style="color: #ccaaff;">:a</span> {<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">nil</span> <span style="color: #ccaaff;">:b</span> 2}))
<span style="color: #5f5f5f; font-style: italic;">; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgec505e6" class="outline-2">
<h2 id="orgec505e6">143: dot product</h2>
<div class="outline-text-2" id="text-orgec505e6">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/143" target="_blank" rel="external">https://www.4clojure.com/problem/143</a>

Create a function that computes the <a href="http://en.wikipedia.org/wiki/Dot_product#Definition" target="_blank" rel="external">dot product</a> of two sequences. You may assume
that the vectors will have the same length.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= 0 (__ [0 1 0] [1 0 0]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= 3 (__ [1 1 1] [1 1 1]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= 32 (__ [1 2 3] [4 5 6]))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= 256 (__ [2 5 6] [100 10 1]))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p143')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p143" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">fn</span> [a b] (reduce + (map * a b)))
</pre>
</div>
</blockquote>

<p>
這題要我們實現 <a href="http://en.wikipedia.org/wiki/Dot_product#Definition" target="_blank" rel="external">dot product</a> ，以數學來看就是我們有 A = [A<sub>1</sub>, A<sub>2</sub>, &#x2026;, A<sub>n</sub>] 以及
B = [B<sub>1</sub>, B<sub>2</sub>, &#x2026;, B<sub>n</sub>] 這兩組 vector，將其套用到以下公式:
</p>

<div class="org-src-container">
<pre class="src src-latex"><span style="color: #aaffaa;">\begin</span>{<span style="color: #aaccff;">equation*</span>}
 A <span style="color: #aaffaa;">\cdot</span>  B = <span style="color: #aaffaa;">\sum</span>_{i=1}^{n}A_{i}B_{i} = A_{1}B_{1} + A_{2}B_{2} + <span style="color: #aaffaa;">\cdots</span> A_{n}B_{n}
<span style="color: #aaffaa;">\end</span>{<span style="color: #aaccff;">equation*</span>}
</pre>
</div>

<p>
當然，看到序列 (sequence) 就要想到 <a href="https://clojuredocs.org/clojure.core/map" target="_blank" rel="external">map</a> 、<a href="https://clojuredocs.org/clojure.core/reduce" target="_blank" rel="external">reduce</a> ，因此這題就解決了
</p>

<div class="org-src-container">
<pre class="src src-clojure">(map * [1 2 3] [1 1 1])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; [1 2 3]</span>
(reduce + (map * [1 2 3] [1 1 1]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; 6</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-orgc049db1" class="outline-2">
<h2 id="orgc049db1">145: For the win</h2>
<div class="outline-text-2" id="text-orgc049db1">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/145" target="_blank" rel="external">https://www.4clojure.com/problem/145</a>

Clojure's <a href="http://clojuredocs.org/clojure_core/clojure.core/for" target="_blank" rel="external">for</a> macro is a tremendously versatile mechanism for producing a
sequence based on some other sequence(s). It can take some time to understand
how to use it properly, but that investment will be paid back with clear,
concise sequence-wrangling later. With that in mind, read over these for
expressions and try to see how each of them produces the same result.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">for</span> [x (range 40)
            <span style="color: #ccaaff;">:when</span> (= 1 (rem x 4))]
        x))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">for</span> [x (iterate #(+ 4 <span style="color: #aaccff;">%</span>) 0)
            <span style="color: #ccaaff;">:let</span> [z (inc x)]
            <span style="color: #ccaaff;">:while</span> (&lt; z 40)]
        z))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">for</span> [[x y] (partition 2 (range 20))]
      (+ x y)))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p145')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p145" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">'(1 5 9 13 17 21 25 29 33 37)
</pre>
</div>
</blockquote>

<p>
此題在複習 clojure 的迴圈方法之一 : <a href="http://clojuredocs.org/clojure.core/for" target="_blank" rel="external">for</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure"><span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">prepare a seq of the even values</span>
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">from the first six multiples of three</span>
(<span style="color: #aaffaa;">for</span> [x [0 1 2 3 4 5]
      <span style="color: #ccaaff;">:let</span> [y (* x 3)]
      <span style="color: #ccaaff;">:when</span> (even? y)]
  y)
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; (0 6 12)</span>

<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">produce a seq of all pairs drawn from two vectors</span>
(<span style="color: #aaffaa;">for</span> [x ['a 'b 'c]
      y [1 2 3]]
  [x y])
<span style="color: #5f5f5f; font-style: italic;">;;</span><span style="color: #9ac; font-style: italic;">=&gt; ([a 1] [a 2] [a 3] [b 1] [b 2] [b 3] [c 1] [c 2] [c 3])</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org71e2033" class="outline-2">
<h2 id="org71e2033">156: Map Defaults</h2>
<div class="outline-text-2" id="text-org71e2033">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/156" target="_blank" rel="external">https://www.4clojure.com/problem/156</a>

When retrieving values from a map, you can specify default values in case the
key is not found:

(= 2 (:foo {:bar 0, :baz 1} 2))

However, what if you want the map itself to contain the default values? Write a
function which takes a default value and a sequence of keys and constructs a
map.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ 0 [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>]) {<span style="color: #ccaaff;">:a</span> 0 <span style="color: #ccaaff;">:b</span> 0 <span style="color: #ccaaff;">:c</span> 0})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ <span style="color: #aadddd;">"x"</span> [1 2 3]) {1 <span style="color: #aadddd;">"x"</span> 2 <span style="color: #aadddd;">"x"</span> 3 <span style="color: #aadddd;">"x"</span>})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>] [<span style="color: #ccaaff;">:foo</span> <span style="color: #ccaaff;">:bar</span>]) {<span style="color: #ccaaff;">:foo</span> [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>] <span style="color: #ccaaff;">:bar</span> [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span>]})
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p156')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p156" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(zipmap <span style="color: #aaccff;">%2</span> (repeat (count <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span>))
</pre>
</div>
</blockquote>

<p>
這題乍看之下和 <a href="#org8d215bf">032: Duplicate a Sequence</a> 很像，只是他要求的是產生成 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a> ，
因此我們使用 <a href="https://clojuredocs.org/clojure.core/zipmap" target="_blank" rel="external">zipmap</a> 來解這一題，照慣例先來複習一下
</p>

<div class="org-src-container">
<pre class="src src-clojure">(zipmap [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:e</span>] [1 2 3 4 5])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:e</span><span style="color: #9ac; font-style: italic;"> 5, </span><span style="color: #9ac; font-style: italic;">:d</span><span style="color: #9ac; font-style: italic;"> 4, </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

<p>
因此本題就可以這樣解決
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(zipmap <span style="color: #aaccff;">%2</span> (repeat (count <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span>)) 0 [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 0, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 0, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">, 0}</span>
</pre>
</div>

<p>
實際上在寫這個題目時我第一個想到的是 <a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> ，但是很可惜的事情是，interleave
產生出來的東西是 list，和本題要求的 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a> 是不相容的格式
</p>

<p>
因此如果這題使用 <a href="https://clojuredocs.org/clojure.core/interleave" target="_blank" rel="external">interleave</a> 來解的話，要記得將結果轉為 <a href="https://clojuredocs.org/clojure.core/hash-map" target="_blank" rel="external">hash-map</a>
</p>

<div class="org-src-container">
<pre class="src src-clojure">(apply hash-map (#(interleave <span style="color: #aaccff;">%2</span> (repeat (count <span style="color: #aaccff;">%2</span>) <span style="color: #aaccff;">%1</span>)) 0 [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>]))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 0, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 0, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;">, 0}</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org6fcc576" class="outline-2">
<h2 id="org6fcc576">157: Indexing Sequences</h2>
<div class="outline-text-2" id="text-org6fcc576">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/157" target="_blank" rel="external">https://www.4clojure.com/problem/157</a>

Transform a sequence into a sequence of pairs containing the original elements
along with their index.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>]) [[<span style="color: #ccaaff;">:a</span> 0] [<span style="color: #ccaaff;">:b</span> 1] [<span style="color: #ccaaff;">:c</span> 2]])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [0 1 3]) '((0 0) (1 1) (3 2)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= (__ [[<span style="color: #ccaaff;">:foo</span>] {<span style="color: #ccaaff;">:bar</span> <span style="color: #ccaaff;">:baz</span>}]) [[[<span style="color: #ccaaff;">:foo</span>] 0] [{<span style="color: #ccaaff;">:bar</span> <span style="color: #ccaaff;">:baz</span>} 1]])
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p157')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p157" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(reverse (zipmap  <span style="color: #aaccff;">%</span> (range (count <span style="color: #aaccff;">%</span>))))
</pre>
</div>
</blockquote>

<p>
我們可以使用 <a href="https://clojuredocs.org/clojure.core/zipmap" target="_blank" rel="external">zipmap</a> 來將一份 <i>key</i> 以及 <i>value</i> 整合在一起，但是要注意這樣運行的
結果會是反向的，因此為了滿足此題的要求需要再 <a href="https://clojuredocs.org/clojure.core/reverse" target="_blank" rel="external">reverse</a> 一次
</p>

<div class="org-src-container">
<pre class="src src-clojure">(zipmap [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span> <span style="color: #ccaaff;">:d</span> <span style="color: #ccaaff;">:e</span>] [1 2 3 4 5])
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; {</span><span style="color: #9ac; font-style: italic;">:e</span><span style="color: #9ac; font-style: italic;"> 5, </span><span style="color: #9ac; font-style: italic;">:d</span><span style="color: #9ac; font-style: italic;"> 4, </span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 3, </span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 2, </span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 1}</span>
</pre>
</div>

<p>
也就是說
</p>

<div class="org-src-container">
<pre class="src src-clojure">(reverse (zipmap [<span style="color: #ccaaff;">:a</span> <span style="color: #ccaaff;">:b</span> <span style="color: #ccaaff;">:c</span>] '(0 1 2)))
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">([</span><span style="color: #9ac; font-style: italic;">:a</span><span style="color: #9ac; font-style: italic;"> 0] [</span><span style="color: #9ac; font-style: italic;">:b</span><span style="color: #9ac; font-style: italic;"> 1] [</span><span style="color: #9ac; font-style: italic;">:c</span><span style="color: #9ac; font-style: italic;"> 2])</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>



<div id="outline-container-orga45b31a" class="outline-2">
<h2 id="orga45b31a">161: Subset and Superset</h2>
<div class="outline-text-2" id="text-orga45b31a">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/161" target="_blank" rel="external">https://www.4clojure.com/problem/161</a>

Set A is a subset of set B, or equivalently B is a superset of A, if A is
"contained" inside B. A and B may coincide.
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>superset? __ #{2})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>subset? #{1} __)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>superset? __ #{1 2})
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>subset? #{1 2} __)
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p161')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p161" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#{1 2}
</pre>
</div>
</blockquote>

<p>
這一題其實就是在講數學中的 <code>子集合 (subset)</code> 與 <code>超級合 (superset)</code> 的概念
</p>

<p>
<a href="https://clojuredocs.org/clojure.set/subset_q" target="_blank" rel="external">subset?</a> 的用法:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>subset? #{2 3} #{1 2 3 4})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>subset? #{2 4} #{1 2 3 4})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>subset? #{2 5} #{1 2 3 4})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

<p>
<a href="https://clojuredocs.org/clojure.set/superset_q" target="_blank" rel="external">superset?</a> 的用法:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>superset? #{0} #{0})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>superset? #{0 1} #{0})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(<span style="color: #fff59d;">clojure.set</span><span style="color: #c6cccc; background-color: #202020;">/</span>superset? #{0} #{0 1})
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>

<div id="outline-container-org4c4f0dd" class="outline-2">
<h2 id="org4c4f0dd">162: Logical falsity and truth</h2>
<div class="outline-text-2" id="text-org4c4f0dd">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/162" target="_blank" rel="external">https://www.4clojure.com/problem/162</a>

In Clojure, only nil and false represent the values of logical falsity in
conditional tests - anything else is logical truth.
</p>

<div class="row "><div class="col-md-6 ">

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">if-not</span> <span style="color: #ccaaff;">false</span> 1 0))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">if-not</span> <span style="color: #ccaaff;">nil</span> 1 0))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">true</span> 1 0))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">true</span> 1 0))
</pre>
</div>

</div><div class="col-md-6">

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">if</span> [] 1 0))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">if</span> [0] 1 0))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">if</span> 0 1 0))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= __ (<span style="color: #aaffaa;">if</span> 1 1 0))
</pre>
</div>

</div></div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p162')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p162" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">1
</pre>
</div>
</blockquote>

<p>
在 clojure 中， <code>nil</code> 以及 <code>false</code> 使用在邏輯判斷時即代表 <code>false</code> ，其他其況都是
<code>true</code> ，也因此:
</p>

<div class="org-src-container">
<pre class="src src-clojure">(<span style="color: #aaffaa;">if</span> 1 <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(<span style="color: #aaffaa;">if</span> 0 <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(<span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
(<span style="color: #aaffaa;">if</span> <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
(<span style="color: #aaffaa;">if-not</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; false</span>
(<span style="color: #aaffaa;">if-not</span> <span style="color: #ccaaff;">false</span> <span style="color: #ccaaff;">true</span> <span style="color: #ccaaff;">false</span>)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; true</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>



<div id="outline-container-orgca1ba74" class="outline-2">
<h2 id="orgca1ba74">166: Comparisons</h2>
<div class="outline-text-2" id="text-orgca1ba74">
<p class="verse">
URL: <a href="https://www.4clojure.com/problem/166" target="_blank" rel="external">https://www.4clojure.com/problem/166</a>

For any orderable data type it's possible to derive all of the basic comparison
operations (&lt;, ≤, =, ≠, ≥, and &gt;) from a single operation (any operator but = or
≠ will work). Write a function that takes three arguments, a less than operator
for the data and two items to compare. The function should return a keyword
describing the relationship between the two items. The keywords for the
relationship between x and y are as follows:

- x = y → :eq
- x &gt; y → :gt
- x &lt; y → :lt
</p>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">:gt</span> (__ &lt; 5 1))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">:eq</span> (__ (<span style="color: #aaffaa;">fn</span> [x y] (&lt; (count x) (count y))) <span style="color: #aadddd;">"pear"</span> <span style="color: #aadddd;">"plum"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">:lt</span> (__ (<span style="color: #aaffaa;">fn</span> [x y] (&lt; (mod x 5) (mod y 5))) 21 3))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-clojure">(= <span style="color: #ccaaff;">:gt</span> (__ &gt; 0 2))
</pre>
</div>

<br><br> <div class="text-center">
<p class="btn btn-default" onclick="blog.cmds.toggle_visible('p166')">
點我顯示/隱藏內容
</p>
</div><br><br>

<div id="p166" style="display:none">
<blockquote>
<div class="org-src-container">
<pre class="src src-clojure">#(<span style="color: #aaffaa;">if</span> (<span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%3</span>) <span style="color: #ccaaff;">:lt</span> (<span style="color: #aaffaa;">if</span> (<span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%3</span> <span style="color: #aaccff;">%2</span>) <span style="color: #ccaaff;">:gt</span> <span style="color: #ccaaff;">:eq</span>))
</pre>
</div>
</blockquote>

<p>
題目要求我們寫一個函式 (function) 接收三個參數，第一個參數是 <code>判斷是否小於</code> 的運
算元，其他的則是運算子，也就是說得到答案為 <code>true</code> 時，代表 <code>arg1 &lt; arg2</code> 。
</p>

<p>
因此我們就可以使用 <a href="https://clojuredocs.org/clojure.core/if" target="_blank" rel="external">if</a> 來處理這個問題
</p>

<div class="org-src-container">
<pre class="src src-clojure">(#(<span style="color: #aaffaa;">if</span> (<span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%2</span> <span style="color: #aaccff;">%3</span>) <span style="color: #ccaaff;">:lt</span> (<span style="color: #aaffaa;">if</span> (<span style="color: #aaccff;">%1</span> <span style="color: #aaccff;">%3</span> <span style="color: #aaccff;">%2</span>) <span style="color: #ccaaff;">:gt</span> <span style="color: #ccaaff;">:eq</span>))
 &lt; 5 1)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; </span><span style="color: #9ac; font-style: italic;">:gt</span>
</pre>
</div>

<p>
或是使用 <a href="https://clojuredocs.org/clojure.core/cond" target="_blank" rel="external">cond</a> 依據條件選擇回傳值
</p>

<div class="org-src-container">
<pre class="src src-clojure">((<span style="color: #aaffaa;">fn</span> [op a b]
   (<span style="color: #aaffaa;">cond</span>
     (op a b) <span style="color: #ccaaff;">:lt</span>
     (op b a) <span style="color: #ccaaff;">:gt</span>
     <span style="color: #ccaaff;">:else</span> <span style="color: #ccaaff;">:eq</span>))
 &lt; 5 1)
<span style="color: #5f5f5f; font-style: italic;">;; </span><span style="color: #9ac; font-style: italic;">=&gt; </span><span style="color: #9ac; font-style: italic;">:gt</span>
</pre>
</div>

</div><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/clojure/" rel="tag">#clojure</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/e71fca4a/" rel="prev">Project Euler 練習</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/f794a7db/" rel="next">自己的 iPhone 電源座自己印 2</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
              <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
              </div>
            
          </div>
        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="http://www.gravatar.com/avatar/bda0c97c8dca6eb45824d1b83f477ad9" alt="Yen-Chin, Lee" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Yen-Chin, Lee</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">91</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">2</span>
              <span class="site-state-item-name">分類</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">70</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/rss.xml" rel="alternate">
              <i class="menu-item-icon icon-next-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/coldnew" target="_blank">github</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://plus.google.com/u/0/106837301382084981260/posts" target="_blank">google+</a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#org983a0f5"><span class="nav-text">001: Nothing but the Truth</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org2885e39"><span class="nav-text">002: Simple Math</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org2bc530d"><span class="nav-text">003: Intro to Strings</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org2ea1e8d"><span class="nav-text">004: Intro to Lists</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgde95de5"><span class="nav-text">005: Lists: conj</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org6bf8824"><span class="nav-text">006: Intro to Vectors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org11dd0ee"><span class="nav-text">007: Vectors: conj</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org3935173"><span class="nav-text">008: Intro to Sets</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgbaa5f32"><span class="nav-text">009: Sets: conj</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgc6f05b9"><span class="nav-text">010: Intro to Maps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org9adca40"><span class="nav-text">011: Maps: conj</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga380685"><span class="nav-text">012: Intro to Sequences</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgccae877"><span class="nav-text">013: Sequences: rest</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org61bff3d"><span class="nav-text">014: Intro to Functions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga5065e9"><span class="nav-text">015: Double Down</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orge330157"><span class="nav-text">016: Hello World</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org3c7fdb0"><span class="nav-text">017: Sequences: map</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org4c82553"><span class="nav-text">018: Sequences: filter</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgd05e336"><span class="nav-text">019: Last Element</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org6ae1c28"><span class="nav-text">020: Penultimate Element</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgf1ef991"><span class="nav-text">021: Nth Element</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgd8adec8"><span class="nav-text">022: Count a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org7c5c3b0"><span class="nav-text">023: Reverse a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org46dab0b"><span class="nav-text">024: Sum It All Up</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org01b39a8"><span class="nav-text">025: Find the odd numbers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgbb3223f"><span class="nav-text">026: Fibonacci Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org9a11854"><span class="nav-text">027: Palindrome Detector</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orge5b9d8d"><span class="nav-text">028: Flatten a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org414ac65"><span class="nav-text">029: Get the Caps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgd5dde81"><span class="nav-text">030: Compress a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org734ed70"><span class="nav-text">031: Pack a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org8d215bf"><span class="nav-text">032: Duplicate a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org61591af"><span class="nav-text">033: Replicate a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org89ddab6"><span class="nav-text">034: Implement range</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgb3c5efb"><span class="nav-text">035: Local bindings</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org9ca9c11"><span class="nav-text">036: Let it Be</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org16bffc2"><span class="nav-text">037: Regular Expressions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org7125aa9"><span class="nav-text">038: Maximum value</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org767eb94"><span class="nav-text">039: Interleave Two Seqs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org199298e"><span class="nav-text">040: Interpose a Seq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgda1639b"><span class="nav-text">041: Drop Every Nth Item</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org8f679b4"><span class="nav-text">042: Factorial Fun</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org3c1510d"><span class="nav-text">043: Reverse Interleave</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org43df7a2"><span class="nav-text">044: Rotate Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga73cc3f"><span class="nav-text">045: Intro to Iterate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org8f141b7"><span class="nav-text">046: Flipping out</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org4ce19af"><span class="nav-text">047: Contain Yourself</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org631b120"><span class="nav-text">048: Intro to some</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgde9c2e2"><span class="nav-text">049: Split a sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org1b85728"><span class="nav-text">050: Split by Type</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgee776d7"><span class="nav-text">051: Advanced Destructuring</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org497b31f"><span class="nav-text">052: Intro to Destructuring</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org65b2ca2"><span class="nav-text">053: Longest Increasing Sub-Seq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgcdb8f32"><span class="nav-text">054: Partition a Sequence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org0b711f5"><span class="nav-text">055: Count Occurrences</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org792e256"><span class="nav-text">056: Find Distinct Items</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org6a08fbb"><span class="nav-text">057: Simple Recursion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org66536b4"><span class="nav-text">058: Function Composition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org81c2b54"><span class="nav-text">059: Juxtaposition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org074bf43"><span class="nav-text">060: Sequence Reductions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org62d4a8d"><span class="nav-text">061: Map Construction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org92c3a09"><span class="nav-text">062: Re-implement Iterate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org2ede507"><span class="nav-text">065: Black Box Testing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org0cc5cc1"><span class="nav-text">068: Recurring Theme</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgb0da58f"><span class="nav-text">070: Word Sorting</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org52ca1bf"><span class="nav-text">071: Rearranging Code: -></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga63cf23"><span class="nav-text">072: Rearranging Code: ->></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgf7a9dc0"><span class="nav-text">083: A Half-Truth</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga0273d9"><span class="nav-text">088: Symmetric Difference</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgef81ce4"><span class="nav-text">099: Product Digits</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org45327b2"><span class="nav-text">095: To Tree, or not to Tree</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga1edff9"><span class="nav-text">102: intoCamelCase</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org7c08d1e"><span class="nav-text">105: Identify keys and values</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org2f359c1"><span class="nav-text">107: Simple closures</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga3d1a36"><span class="nav-text">115: The Balance of N</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orge7af9b7"><span class="nav-text">126: Through the Looking Class</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org5c4b6bc"><span class="nav-text">134: A nil key</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgec505e6"><span class="nav-text">143: dot product</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgc049db1"><span class="nav-text">145: For the win</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org71e2033"><span class="nav-text">156: Map Defaults</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org6fcc576"><span class="nav-text">157: Indexing Sequences</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orga45b31a"><span class="nav-text">161: Subset and Superset</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#org4c4f0dd"><span class="nav-text">162: Logical falsity and truth</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orgca1ba74"><span class="nav-text">166: Comparisons</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="container">
      <div class="footer">
        <div class="footer-inner"> 
<div class="copyright" >
  
  Copyright  &copy; &nbsp;  2012 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="author" itemprop="copyrightHolder">Yen-Chin, Lee</span>
   &middot;  Powered by  <a href="https://github.com/coldnew/hexo-renderer-org" target="_blank">coldnew/hexo-renderer-org</a>
</div>

<!--
<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>
-->


 </div>
      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <!-- <script type="text/javascript" src="/vendors/jquery/dist/jquery.min.js"></script> -->
  <!-- <link rel="stylesheet" href="/vendors/bootstrap/dist/css/bootstrap.min.css" type="text/css"> -->
  <!-- <script type="text/javascript" src="/vendors/bootstrap/dist/js/bootstrap.min.js"></script> -->

  
  
  
    
    

  

    <script type="text/javascript">
      var disqus_shortname = 'coldnew';
      var disqus_identifier = 'a3e0d91a/';
      var disqus_title = '4Clojure 練習';
      var disqus_url = 'https://coldnew.github.io/a3e0d91a/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.1" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
  <script type="text/javascript" src="/js/app.js"></script>
</body>
</html>
